
/*!
 * artplayer-plugin-danmuku-mask.js v1.0.0
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2025 Harvey Zack
 * Released under the MIT License.
 */
!function(e,t,r,n,a,o,s,i){var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},u="function"==typeof c[n]&&c[n],l=u.i||{},p=u.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,r){if(!p[t]){if(!e[t]){if(a[t])return a[t];var o="function"==typeof c[n]&&c[n];if(!r&&o)return o(t,!0);if(u)return u(t,!0);if(f&&"string"==typeof t)return f(t);var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}l.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},l.cache={};var i=p[t]=new d.Module(t);e[t][0].call(i.exports,l,i,i.exports,c)}return p[t].exports;function l(e){var t=l.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.require=f,this.exports={}},d.modules=e,d.cache=p,d.parent=u,d.distDir=void 0,d.publicUrl=void 0,d.devServer=void 0,d.i=l,d.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(d,"root",{get:function(){return c[n]}}),c[n]=d;for(var h=0;h<t.length;h++)d(t[h]);if(r){var m=d(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m})}}({bzF6W:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"default",function(){return u});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("@tensorflow/tfjs-core");e("@tensorflow/tfjs-backend-webgl"),e("@tensorflow/tfjs-backend-cpu");var c=e("@tensorflow-models/body-segmentation");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var r=t.template,n=r.$video,a=r.$danmuku,u=null,l=null,p=null,f=null,d=!1,h={solutionPath:e.solutionPath||"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation",modelSelection:e.modelSelection||1,smoothSegmentation:void 0===e.smoothSegmentation||e.smoothSegmentation,minDetectionConfidence:e.minDetectionConfidence||.5,minTrackingConfidence:e.minTrackingConfidence||.5,selfieMode:e.selfieMode||!1,drawContour:e.drawContour||!1,foregroundThreshold:e.foregroundThreshold||.5,opacity:e.opacity||1,maskBlurAmount:e.maskBlurAmount||3};function m(){return(m=(0,o._)(function(){return(0,s._)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,i.setBackend("webgl")];case 1:case 3:return e.sent(),[3,4];case 2:return e.sent(),console.warn("WebGL backend not available, falling back to CPU"),[4,i.setBackend("cpu")];case 4:return[2]}})})).apply(this,arguments)}function g(){return(g=(0,o._)(function(){var e,t;return(0,s._)(this,function(r){switch(r.label){case 0:return[4,function(){return m.apply(this,arguments)}()];case 1:r.sent(),e=c.SupportedModels.MediaPipeSelfieSegmentation,t={runtime:"mediapipe",modelType:"general",solutionPath:h.solutionPath,modelSelection:h.modelSelection,smoothSegmentation:h.smoothSegmentation,minDetectionConfidence:h.minDetectionConfidence,minTrackingConfidence:h.minTrackingConfidence,selfieMode:h.selfieMode},r.label=2;case 2:return r.trys.push([2,4,,5]),[4,c.createSegmenter(e,t)];case 3:return console.log("Segmenter initialized:",u=r.sent()),d=!0,[3,5];case 4:return console.error("Error initializing segmenter:",r.sent()),d=!1,[3,5];case 5:return[2]}})})).apply(this,arguments)}function v(){return _.apply(this,arguments)}function _(){return(_=(0,o._)(function(){var e,t,r,o,i;return(0,s._)(this,function(s){switch(s.label){case 0:if(!d||n.paused||n.ended)return f=requestAnimationFrame(v),[2];s.label=1;case 1:return s.trys.push([1,5,,6]),l.width=n.videoWidth,l.height=n.videoHeight,[4,u.segmentPeople(n)];case 2:if(!(e=s.sent())||0===e.length)return f=requestAnimationFrame(v),[2];return t={r:255,g:255,b:255,a:255},r={r:0,g:0,b:0,a:255},[4,c.toBinaryMask(e,t,r,h.drawContour,h.foregroundThreshold)];case 3:return o=s.sent(),[4,c.drawMask(l,n,o,h.opacity,h.maskBlurAmount)];case 4:return s.sent(),i=p.getImageData(0,0,l.width,l.height),p.putImageData(function(e){for(var t=e.data,r=0;r<t.length;r+=4)t[r]>250&&t[r+1]>250&&t[r+2]>250&&(t[r+3]=0);return e}(i),0,0),a.style.maskImage="url(".concat(l.toDataURL(),")"),[3,6];case 5:return console.error("Error in segmentBody:",s.sent()),[3,6];case 6:return f=requestAnimationFrame(v),[2]}})})).apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return(y=(0,o._)(function(){return(0,s._)(this,function(e){switch(e.label){case 0:if(d)return[3,2];return[4,function(){return g.apply(this,arguments)}()];case 1:e.sent(),e.label=2;case 2:return l||(p=(l=document.createElement("canvas")).getContext("2d")),Object.assign(a.style,{maskMode:"alpha",maskSize:"contain",maskRepeat:"no-repeat",backgroundSize:"contain",backgroundRepeat:"no-repeat"}),v(),[2]}})})).apply(this,arguments)}function b(){a.style.maskImage="none",f&&(cancelAnimationFrame(f),f=null)}return t.on("ready",x),t.on("destroy",b),{name:"artplayerPluginDanmukuMask",start:x,stop:b}}}"undefined"!=typeof window&&(window.artplayerPluginDanmukuMask=u)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","@tensorflow/tfjs-backend-webgl":"e2c3S","@tensorflow/tfjs-backend-cpu":"goiPC","@tensorflow-models/body-segmentation":"dwX2g","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4ElRo":[function(e,t,r,n){"use strict";function a(e,t,r,n,a,o,s){try{var i=e[o](s),c=i.value}catch(e){r(e);return}i.done?t(c):Promise.resolve(c).then(n,a)}r._=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function i(e){a(s,n,o,i,c,"next",e)}function c(e){a(s,n,o,i,c,"throw",e)}i(void 0)})}}},{}],a4h1C:[function(e,t,r,n){"use strict";r._=e("3d8e14b4b7163380").__generator},{"3d8e14b4b7163380":"36MWs"}],"36MWs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"__extends",function(){return i}),a.export(r,"__assign",function(){return c}),a.export(r,"__rest",function(){return u}),a.export(r,"__decorate",function(){return l}),a.export(r,"__param",function(){return p}),a.export(r,"__esDecorate",function(){return f}),a.export(r,"__runInitializers",function(){return d}),a.export(r,"__propKey",function(){return h}),a.export(r,"__setFunctionName",function(){return m}),a.export(r,"__metadata",function(){return g}),a.export(r,"__awaiter",function(){return v}),a.export(r,"__generator",function(){return _}),a.export(r,"__createBinding",function(){return x}),a.export(r,"__exportStar",function(){return y}),a.export(r,"__values",function(){return b}),a.export(r,"__read",function(){return k}),a.export(r,"__spread",function(){return j}),a.export(r,"__spreadArrays",function(){return w}),a.export(r,"__spreadArray",function(){return S}),a.export(r,"__await",function(){return I}),a.export(r,"__asyncGenerator",function(){return T}),a.export(r,"__asyncDelegator",function(){return N}),a.export(r,"__asyncValues",function(){return C}),a.export(r,"__makeTemplateObject",function(){return E}),a.export(r,"__importStar",function(){return P}),a.export(r,"__importDefault",function(){return R}),a.export(r,"__classPrivateFieldGet",function(){return D}),a.export(r,"__classPrivateFieldSet",function(){return M}),a.export(r,"__classPrivateFieldIn",function(){return O}),a.export(r,"__addDisposableResource",function(){return L}),a.export(r,"__disposeResources",function(){return U}),a.export(r,"__rewriteRelativeImportExtension",function(){return B});var o=e("@swc/helpers/cjs/_type_of.cjs"),s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function l(e,t,r,n){var a,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(("undefined"==typeof Reflect?"undefined":(0,o._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function p(e,t){return function(r,n){t(r,n,e)}}function f(e,t,r,n,a,s){function i(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var c,u=n.kind,l="getter"===u?"get":"setter"===u?"set":"value",p=!t&&e?n.static?e:e.prototype:null,f=t||(p?Object.getOwnPropertyDescriptor(p,n.name):{}),d=!1,h=r.length-1;h>=0;h--){var m={};for(var g in n)m[g]="access"===g?{}:n[g];for(var g in n.access)m.access[g]=n.access[g];m.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");s.push(i(e||null))};var v=(0,r[h])("accessor"===u?{get:f.get,set:f.set}:f[l],m);if("accessor"===u){if(void 0===v)continue;if(null===v||(void 0===v?"undefined":(0,o._)(v))!=="object")throw TypeError("Object expected");(c=i(v.get))&&(f.get=c),(c=i(v.set))&&(f.set=c),(c=i(v.init))&&a.unshift(c)}else(c=i(v))&&("field"===u?a.unshift(c):f[l]=c)}p&&Object.defineProperty(p,n.name,f),d=!0}function d(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function h(e){return(void 0===e?"undefined":(0,o._)(e))==="symbol"?e:"".concat(e)}function m(e,t,r){return(void 0===t?"undefined":(0,o._)(t))==="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function g(e,t){if(("undefined"==typeof Reflect?"undefined":(0,o._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t,r,n){return new(r||(r=Promise))(function(a,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,i)}c((n=n.apply(e,t||[])).next())})}function _(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){var u=[i,c];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}var x=Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||x(t,e,r)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return s}function j(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}function w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)n[a]=o[s];return n}function S(e,t,r){if(r||2==arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function T(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||i(e,t)})},t&&(n[e]=t(n[e])))}function i(e,t){try{var r;(r=a[e](t)).value instanceof I?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function c(e){i("next",e)}function u(e){i("throw",e)}function l(e,t){e(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function N(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:I(e[n](t)),done:!1}:a?a(t):t}:a}}function C(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){var o,s,i;o=n,s=a,i=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:i})},s)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var F=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},A=function(e){return(A=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=A(e),n=0;n<r.length;n++)"default"!==r[n]&&x(t,e,r[n]);return F(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function M(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}function O(e,t){if(null===t||(void 0===t?"undefined":(0,o._)(t))!=="object"&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,r){if(null!=t){var n,a;if((void 0===t?"undefined":(0,o._)(t))!=="object"&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var V="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function U(e){function t(t){e.error=e.hasError?new V(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function a(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(a,function(e){return t(e),a()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function B(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,a,o){return r?t?".jsx":".js":!n||a&&o?n+a+"."+o.toLowerCase()+"js":e}):e}r.default={__extends:i,__assign:c,__rest:u,__decorate:l,__param:p,__esDecorate:f,__runInitializers:d,__propKey:h,__setFunctionName:m,__metadata:g,__awaiter:v,__generator:_,__createBinding:x,__exportStar:y,__values:b,__read:k,__spread:j,__spreadArrays:w,__spreadArray:S,__await:I,__asyncGenerator:T,__asyncDelegator:N,__asyncValues:C,__makeTemplateObject:E,__importStar:P,__importDefault:R,__classPrivateFieldGet:D,__classPrivateFieldSet:M,__classPrivateFieldIn:O,__addDisposableResource:L,__disposeResources:U,__rewriteRelativeImportExtension:B}},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9vrOw":[function(e,t,r,n){"use strict";r._=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}},{}],ihnSZ:[function(e,t,r,n){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"1q0U8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),e("./base_side_effects");var o=e("./optimizers/register_optimizers"),s=e("./base");a.exportAll(s,r),(0,o.registerOptimizers)()},{"./base_side_effects":"22Bvg","./optimizers/register_optimizers":"3mJml","./base":"1EkoV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"22Bvg":[function(e,t,r,n){var a=e("./engine");e("./flags"),e("./platforms/platform_browser"),e("./platforms/platform_node");var o=e("./ops/buffer"),s=e("./ops/cast"),i=e("./ops/clone"),c=e("./ops/print"),u=e("./tensor");(0,a.getOrMakeEngine)();var l={buffer:o.buffer,cast:s.cast,clone:i.clone,print:c.print};(0,u.setOpHandler)(l)},{"./engine":"hSfoX","./flags":"8adxq","./platforms/platform_browser":"3fNCq","./platforms/platform_node":"lJud2","./ops/buffer":"3oGg4","./ops/cast":"fGyHk","./ops/clone":"bBKSn","./ops/print":"erCZv","./tensor":"6yx3i"}],hSfoX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Engine",function(){return j}),a.export(r,"getOrMakeEngine",function(){return w}),a.export(r,"ENGINE",function(){return S}),a.export(r,"add",function(){return I});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("./backends/backend"),p=e("./environment"),f=e("./global_util"),d=e("./kernel_names"),h=e("./kernel_registry"),m=e("./log"),g=e("./profiler"),v=e("./tape"),_=e("./tensor"),x=e("./tensor_util"),y=e("./util");function b(e){return null!=e.kernelName}var k=function(){"use strict";function e(){(0,s._)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(function(e){return e.name})))}}}return(0,i._)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),j=function(){"use strict";function e(t){(0,s._)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new k}return(0,i._)(e,[{key:"ready",value:function(){var e=this;return(0,o._)(function(){var t,r,n;return(0,u._)(this,function(a){switch(a.label){case 0:if(null!=e.pendingBackendInit)return[2,e.pendingBackendInit.then(function(){})];if(null!=e.backendInstance)return[2];t=e.getSortedBackends(),r=0,a.label=1;case 1:if(!(r<t.length))return[3,5];return n=t[r],[4,e.initializeBackend(n).success];case 2:if(!a.sent())return[3,4];return[4,e.setBackend(n)];case 3:return a.sent(),[2];case 4:return r++,[3,1];case 5:throw Error("Could not initialize any backends, all backend initializations failed.")}})})()}},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;else if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(m.warn("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:r},!0)}},{key:"setBackend",value:function(e){var t=this;return(0,o._)(function(){var r,n,a;return(0,u._)(this,function(o){switch(o.label){case 0:if(null==t.registryFactory[e])throw Error("Backend name '".concat(e,"' not found in registry"));if(t.backendName=e,null!=t.registry[e])return[3,4];if(t.backendInstance=null,n=(r=t.initializeBackend(e)).success,!r.asyncInit)return[3,2];return[4,n];case 1:return a=o.sent(),[3,3];case 2:a=n,o.label=3;case 3:if(!a)return[2,!1];o.label=4;case 4:return t.backendInstance=t.registry[e],t.setupRegisteredKernels(),t.profiler=new(0,g.Profiler)(t.backendInstance),[2,!0]}})})()}},{key:"setupRegisteredKernels",value:function(){var e=this;(0,h.getKernelsForBackend)(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,h.getKernelsForBackend)(e).forEach(function(r){null!=r.disposeFunc&&r.disposeFunc(t.registry[e])})}},{key:"initializeBackend",value:function(e){var t=this,r=this.registryFactory[e];if(null==r)throw Error("Cannot initialize backend ".concat(e,", no registration found."));try{var n=r.factory();if(!n||n instanceof l.KernelBackend||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,o=n.then(function(r){return!(a<t.pendingBackendInitId)&&(t.registry[e]=r,t.pendingBackendInit=null,!0)}).catch(function(r){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,m.warn("Initialization of backend ".concat(e," failed")),m.warn(r.stack||r.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}catch(t){return m.warn("Initialization of backend ".concat(e," failed")),m.warn(t.stack||t.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,r){return e.registryFactory[r].priority-e.registryFactory[t].priority})}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var r=e[t],n=this.initializeBackend(r),a=n.success,o=n.asyncInit;if(o||a)return{name:r,asyncInit:o}}throw Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var r=this.state.tensorInfo.get(t),n=r.backend,a=this.readSync(t),o=n.refCount(t);n.disposeData(t,!0),r.backend=e,e.move(t,a,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var r,n=this,a=null;if(null==t){if("function"!=typeof e)throw Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun(function(){return n.startScope(a)},function(){return n.endScope(r)},function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})}},{key:"scopedRun",value:function(e,t,r){e();try{var n=r();return t(),n}catch(e){throw t(),e}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=S.runKernel(d.Identity,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[t],function(e){return{x:function(){return S.runKernel(d.Cast,{x:e},{dtype:"float32"})}}},[],{}),t}},{key:"runKernel",value:function(e,t,r){if(null==this.backendName&&this.backend,null==(0,h.getKernel)(e,this.backendName))throw Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:r})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,r){var n=this.backend.numDataIds(),a=0;r.forEach(function(e){a+="complex64"===e.dtype?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=n-t-a-o;if(s>0)throw Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(s," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,r,n,a,o=this,s=[],i=this.isTapeOn(),c=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=b(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(b(e)){var p=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var m=(0,h.getKernel)(p,this.backendName);y.assert(null!=m,function(){return"Cannot find registered kernel '".concat(p,"' for backend '").concat(o.backendName,"'")}),r=function(){var e=o.backend.numDataIds(),t=Array.isArray(n=m.kernelFunc({inputs:f,attrs:d,backend:o.backend}))?n:[n];o.shouldCheckForMemLeaks()&&o.checkKernelForMemLeak(p,e,t);var r=t.map(function(e){return null!=e.rank?e:o.makeTensorFromTensorInfo(e)});if(i){var a=o.getTensorsForGradient(p,f,r);s=o.saveTensorsForBackwardMode(a)}return r}}else{var g=e.forwardFunc,v=function(e){i&&(s=e.map(function(e){return o.keep(o.clone(e))}))};r=function(){var e=o.backend.numDataIds(),t=Array.isArray(n=o.tidy(function(){return g(o.backend,v)}))?n:[n];return o.shouldCheckForMemLeaks()&&o.checkKernelForMemLeak(l,e,t),t}}var _=e.inputs,x=e.attrs,k=b(e)?null:e.backwardsFunc;return this.scopedRun(function(){return o.state.kernelDepth++},function(){return o.state.kernelDepth--},function(){o.ENV.getBool("DEBUG")||o.state.profiling?(a=o.profiler.profileKernel(l,_,function(){return r()}),o.ENV.getBool("DEBUG")&&o.profiler.logKernelProfile(a),t=a.outputs):t=r()}),i&&this.addTapeNode(l,_,t,k,s,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(_).map(function(e){return null!=_[e]?_[e].shape:null}),outputShapes:t.map(function(e){return e.shape}),kernelTimeMs:a.timeMs,extraInfo:a.extraInfo}),Array.isArray(n)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map(function(e){return t.keep(t.clone(e))})}},{key:"getTensorsForGradient",value:function(e,t,r){var n=(0,h.getGradient)(e);if(null!=n){var a,o=n.inputsToSave||[],s=n.outputsToSave||[];n.saveAllInputs?(y.assert(Array.isArray(t),function(){return"saveAllInputs is true, expected inputs to be an array."}),a=Object.keys(t).map(function(e){return t[e]})):a=o.map(function(e){return t[e]});var i=r.filter(function(e,t){return s[t]});return a.concat(i)}return[]}},{key:"makeTensor",value:function(e,t,r,n){if(null==e)throw Error("Values passed to engine.makeTensor() are null");r=r||"float32",n=n||this.backend;var a=e;"string"===r&&y.isString(e[0])&&(a=e.map(function(e){return y.encodeString(e)}));var o=n.write(a,t,r),s=new(0,_.Tensor)(t,r,o,this.nextTensorId());if(this.trackTensor(s,n),"string"===r){var i=this.state.tensorInfo.get(o),c=(0,y.bytesFromStringArray)(a);this.state.numBytes+=c-i.bytes,i.bytes=c}return s}},{key:"makeTensorFromDataId",value:function(e,t,r,n){var a={dataId:e,shape:t,dtype:r=r||"float32"};return this.makeTensorFromTensorInfo(a,n)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var r=e.dataId,n=e.shape,a=e.dtype,o=new(0,_.Tensor)(n,a,r,this.nextTensorId());return this.trackTensor(o,t),o}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;r=r||this.nextVariableId().toString(),null!=n&&n!==e.dtype&&(e=e.cast(n));var a=new(0,_.Variable)(e,t,r,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*y.bytesPerElement(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof _.Variable||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var r=e.size*y.bytesPerElement(e.dtype);this.state.numBytes-=r}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s,i,l,p,f,d,h;return(0,u._)(this,function(u){switch(u.label){case 0:return t.state.profiling=!0,n=t.state.numBytes,a=t.state.numTensors,t.state.activeProfile.kernels=[],o=t.state.activeProfile,[4,e()];case 1:o.result=u.sent(),t.state.profiling=!1,t.state.activeProfile.peakBytes=(r=Math).max.apply(r,(0,c._)(t.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot}))),t.state.activeProfile.newBytes=t.state.numBytes-n,t.state.activeProfile.newTensors=t.state.numTensors-a,s=!0,i=!1,l=void 0,u.label=2;case 2:u.trys.push([2,8,9,10]),p=t.state.activeProfile.kernels[Symbol.iterator](),u.label=3;case 3:if(s=(f=p.next()).done)return[3,7];return[4,(d=f.value).kernelTimeMs];case 4:return d.kernelTimeMs=u.sent(),[4,d.extraInfo];case 5:d.extraInfo=u.sent(),u.label=6;case 6:return s=!0,[3,3];case 7:return[3,10];case 8:return h=u.sent(),i=!0,l=h,[3,10];case 9:try{s||null==p.return||p.return()}finally{if(i)throw l}return[7];case 10:return[2,t.state.activeProfile]}})})()}},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,r,n,a,o){var s=this,i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:a},c=(0,h.getGradient)(e);null!=c&&(n=c.gradFunc),null!=n&&(i.gradient=function(e){return e=e.map(function(e,t){if(null==e){var n=r[t],a=y.makeZerosTypedArray(n.size,n.dtype);return s.makeTensor(a,n.shape,n.dtype)}return e}),n(e.length>1?e:e[0],a,o)}),this.state.activeTape.push(i)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,r=(0,x.getTensorsInContainer)(e),n=new Set(r.map(function(e){return e.id})),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||n.has(o.id)||o.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(e){e.kept||e.scopeId!==s.id||t.track(e)})}},{key:"gradients",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(y.assert(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=r&&"float32"!==r.dtype)throw Error("dy must have 'float32' dtype, but has '".concat(r.dtype,"'"));var o=this.scopedRun(function(){return n.startTape()},function(){return n.endTape()},function(){return n.tidy("forward",e)});y.assert(o instanceof _.Tensor,function(){return"The result y returned by f() must be a tensor."});var s=(0,v.getFilteredNodesXToY)(this.state.activeTape,t,o);if(!a&&0===s.length&&t.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,a,i={};i[o.id]=null==r?(e=o.shape,a=(0,y.makeOnesTypedArray)((0,y.sizeFromShape)(e),"float32"),S.makeTensor(a,e,"float32")):r,(0,v.backpropagateGradients)(i,s,function(e){return n.tidy(e)},I);var c=t.map(function(e){return i[e.id]});return 0===n.state.gradientDepth&&(n.state.activeTape.forEach(function(e){var t=!0,r=!1,n=void 0;try{for(var a,o=e.saved[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)a.value.dispose()}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}),n.state.activeTape=null),{value:o,grads:c}})}},{key:"customGrad",value:function(e){var t=this;return y.assert(y.isFunction(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];y.assert(a.every(function(e){return e instanceof _.Tensor}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var s={};return a.forEach(function(e,t){s[t]=e}),t.runKernelFunc({forwardFunc:function(t,n){return r=e.apply(void 0,(0,c._)((0,c._)(a).concat([n]))),y.assert(r.value instanceof _.Tensor,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),y.assert(y.isFunction(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},backwardsFunc:function(e,t){var n=r.gradFunc(e,t),o=Array.isArray(n)?n:[n];y.assert(o.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),y.assert(o.every(function(e){return e instanceof _.Tensor}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var s={};return o.forEach(function(e,t){s[t]=function(){return e}}),s},inputs:s})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(e){var t=this;return(0,o._)(function(){var r,n;return(0,u._)(this,function(a){switch(a.label){case 0:return r=(0,y.now)(),[4,t.backend.time(e)];case 1:return(n=a.sent()).wallMs=(0,y.now)()-r,[2,n]}})})()}},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new k,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function w(){var e=(0,f.getGlobalNamespace)();if(null==e._tfengine){var t=new(0,p.Environment)(e);e._tfengine=new j(t)}return(0,p.setEnvironmentGlobal)(e._tfengine.ENV),(0,_.setTensorTracker)(function(){return e._tfengine}),e._tfengine}j.nextTensorId=0,j.nextVariableId=0;var S=w();function I(e,t){return S.runKernel(d.Add,{a:e,b:t})}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","./backends/backend":"f56XW","./environment":"8AL2D","./global_util":"jwzgH","./kernel_names":"7S4Sf","./kernel_registry":"4NHEj","./log":"hbJPb","./profiler":"2JeSk","./tape":"3Rn3F","./tensor":"6yx3i","./tensor_util":"ilCpq","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5Lt2s":[function(e,t,r,n){"use strict";r._=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}},{}],fExy2:[function(e,t,r,n){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r._=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}},{}],"1LaMX":[function(e,t,r,n){"use strict";var a=e("39b649abd35ac2e2"),o=e("8428e13fa0ef5403"),s=e("8d50a6b373b717fa"),i=e("3c184cf684436bb9");r._=function(e){return a._(e)||o._(e)||i._(e)||s._()}},{"39b649abd35ac2e2":"i3OgW","8428e13fa0ef5403":"5CLcV","8d50a6b373b717fa":"cpcPX","3c184cf684436bb9":"ikxEb"}],i3OgW:[function(e,t,r,n){"use strict";var a=e("ec82543f1393b568");r._=function(e){if(Array.isArray(e))return a._(e)}},{ec82543f1393b568:"8HLaN"}],"8HLaN":[function(e,t,r,n){"use strict";r._=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},{}],"5CLcV":[function(e,t,r,n){"use strict";r._=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},{}],cpcPX:[function(e,t,r,n){"use strict";r._=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],ikxEb:[function(e,t,r,n){"use strict";var a=e("3202629de7a6dd0f");r._=function(e,t){if(e){if("string"==typeof e)return a._(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a._(e,t)}}},{"3202629de7a6dd0f":"8HLaN"}],f56XW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EPSILON_FLOAT32",function(){return i}),a.export(r,"EPSILON_FLOAT16",function(){return c}),a.export(r,"DataStorage",function(){return u}),a.export(r,"KernelBackend",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=1e-7,c=1e-4,u=function(){"use strict";function e(t,r){(0,o._)(this,e),this.backend=t,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return(0,s._)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),l=function(){"use strict";function e(){(0,o._)(this,e)}return(0,s._)(e,[{key:"refCount",value:function(e){return p("refCount")}},{key:"incRef",value:function(e){return p("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return p("time")}},{key:"read",value:function(e){return p("read")}},{key:"readSync",value:function(e){return p("readSync")}},{key:"readToGPU",value:function(e,t){return p("readToGPU")}},{key:"numDataIds",value:function(){return p("numDataIds")}},{key:"disposeData",value:function(e,t){return p("disposeData")}},{key:"write",value:function(e,t,r){return p("write")}},{key:"move",value:function(e,t,r,n,a){return p("move")}},{key:"createTensorFromGPUData",value:function(e,t,r){return p("createTensorFromGPUData")}},{key:"memory",value:function(){return p("memory")}},{key:"floatPrecision",value:function(){return p("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?i:c}},{key:"dispose",value:function(){return p("dispose")}}]),e}();function p(e){throw Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8AL2D":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Environment",function(){return f}),a.export(r,"getQueryParams",function(){return d}),a.export(r,"env",function(){return h}),a.export(r,"ENV",function(){return m}),a.export(r,"setEnvironmentGlobal",function(){return g});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("./util_base"),p="tfjsflags",f=function(){"use strict";function e(t){(0,s._)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return(0,i._)(e,[{key:"setPlatform",value:function(e,t){null==this.platform||m.getBool("IS_TEST")||m.getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,".")),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},null!=this.urlFlags[e]){var n=this.urlFlags[e];m.getBool("IS_TEST")||m.getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(n,".")),this.set(e,n)}}},{key:"getAsync",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,u._)(this,function(n){switch(n.label){case 0:if(e in t.flags)return[2,t.flags[e]];return r=t.flags,[4,t.evaluateFlag(e)];case 1:return r[e]=n.sent(),[2,t.flags[e]]}})})()}},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,l.isPromise)(t))throw Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getString",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t=this.getQueryParams(this.global.location.search);p in t&&t[p].split(",").forEach(function(t){var r,n,a,o=(0,c._)(t.split(":"),2),s=o[0],i=o[1];e.urlFlags[s]=(r=0,"true"===(a=(n=i).toLowerCase())||"false"===a?"true"===a:"".concat(+a)===a?+a:n)})}}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var r,n,a,o=arguments.length,s=Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return r=t,n=s[0],a=s[1],r[decodeURIComponent(n)]=decodeURIComponent(a||""),s.join("=")}),t}function h(){return m}var m=null;function g(e){m=e}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","./util_base":"h6qVW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"69dwW":[function(e,t,r,n){"use strict";var a=e("1c05c980d01d7095"),o=e("d604d0840046159b"),s=e("9ac1542249932d1a"),i=e("d04f777c592843b");r._=function(e,t){return a._(e)||o._(e,t)||i._(e,t)||s._()}},{"1c05c980d01d7095":"dgv90",d604d0840046159b:"8f1n5","9ac1542249932d1a":"edvMI",d04f777c592843b:"ikxEb"}],dgv90:[function(e,t,r,n){"use strict";r._=function(e){if(Array.isArray(e))return e}},{}],"8f1n5":[function(e,t,r,n){"use strict";r._=function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw n}}return o}}},{}],edvMI:[function(e,t,r,n){"use strict";r._=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],h6qVW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){for(var t=e.length,r=0;t>0;)r=Math.random()*t|0,u(e,--t,r)}function s(e,t){if(e.length!==t.length)throw Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var r=e.length,n=0;r>0;)n=Math.random()*r|0,u(e,--r,n),u(t,r,n)}function i(e,t,r){return Math.max(e,Math.min(t,r))}function c(e){return e%2==0?e:e+1}function u(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function l(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function p(e,t){var r=Math.random();return t*r+(1-r)*e}function f(e,t){for(var r=0,n=0;n<e.length;n++){var a=Number(e[n])-Number(t[n]);r+=a*a}return r}function d(e,t){if(!e)throw Error("string"==typeof t?t:t())}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(x(e,t),function(){return r+" Shapes ".concat(e," and ").concat(t," must match")})}function m(e){d(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function g(e){if(0===e.length)return 1;for(var t=e[0],r=1;r<e.length;r++)t*=e[r];return t}function v(e){return 0===e.length}function _(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(null!==e[r]&&null!==t[r]&&e[r]!==t[r])return!1;return!0}function x(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function y(e){return e%1==0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return -1;var t=Math.exp(2*e);return(t-1)/(t+1)}function k(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function j(e){for(var t=new Uint32Array(e),r=0;r<e;++r)t[r]=r;return o(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return new Promise(function(a,o){var s=0,i=function(){if(e())return void a();var c=t(++s);if(null!=r&&s>=r)return void o();null!=n?n(i,c):setTimeout(i,c)};i()})}function I(e,t){for(var r=1,n=-1,a=0;a<e.length;++a)if(e[a]>=0)r*=e[a];else if(-1===e[a]){if(-1!==n)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(n," and dim ").concat(a));n=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===n){if(t>0&&t!==r)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===r)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%r!=0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(r));var o=e.slice();return o[n]=t/r,o}function T(e,t){var r=t.length;return d((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-r&&e<r}),function(){return"All values in axis param must be in range [-".concat(r,", ").concat(r,") but ")+"got axis ".concat(e)}),d(e.every(function(e){return y(e)}),function(){return"All values in axis param must be integers but "+"got axis ".concat(e)}),e.map(function(e){return e<0?r+e:e})}function N(e,t){for(var r=[],n=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:T(t,e).sort(),s=0,i=0;i<e.length;++i){if(null!=o){if(o[s]===i&&1!==e[i])throw Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==o[s]||o[s]>i)&&1===e[i]&&(r.push(e[i]),n.push(i)),o[s]<=i&&s++}1!==e[i]&&(r.push(e[i]),n.push(i))}return{newShape:r,keptDims:n}}function C(e,t){return E(e,t)}function E(e,t){var r=null;if(null==e||"float32"===e)r=new Float32Array(t);else if("int32"===e)r=new Int32Array(t);else if("bool"===e)r=new Uint8Array(t);else if("string"===e)r=Array(t);else throw Error("Unknown data type ".concat(e));return r}function F(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(n,"."))}}function A(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function P(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function R(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw Error("Unknown dtype ".concat(e))}function D(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function M(e){return"string"==typeof e||e instanceof String}function O(e){return"boolean"==typeof e}function L(e){return"number"==typeof e}function V(e){return!!(e&&e.constructor&&e.call&&e.apply)}function U(e,t){for(var r=t;r<e;++r)if(e%r==0)return r;return e}function B(e){var t=e.length;if(t<2)return[];var r=Array(t-1);r[t-2]=e[t-1];for(var n=t-3;n>=0;--n)r[n]=r[n+1]*e[n+1];return r}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t})*(r?2:1);if(0===n)return[];if(n!==t.length)throw Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(r?" for a complex tensor":"","."));return function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[];if(1===r.length)for(var s=r[0]*(a?2:1),i=0;i<s;i++)o[i]=n[t+i];else for(var c=r[0],u=r.slice(1),l=u.reduce(function(e,t){return e*t})*(a?2:1),p=0;p<c;p++)o[p]=e(t+p*l,u,n,a);return o}(0,e,t,r)}function G(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw Error("Unknown dtype ".concat(t))}function W(e,t){for(var r=q(e,t),n=0;n<r.length;n++)r[n]=1;return r}function q(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw Error("Unknown data type ".concat(t))}function H(e,t){var r=e.reduce(function(e,t){return e*t},1);if(null==t||"float32"===t)return z(e,new Float32Array(r));if("int32"===t)return z(e,new Int32Array(r));if("bool"===t)return z(e,new Uint8Array(r));throw Error("Unknown data type ".concat(t))}function Z(e){e.forEach(function(t){d(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")})})}function K(e,t,r){if(0===t)return 0;if(1===t)return e[0];for(var n=e[e.length-1],a=0;a<e.length-1;++a)n+=r[a]*e[a];return n}function X(e,t,r){if(0===t)return[];if(1===t)return[e];for(var n=Array(t),a=0;a<n.length-1;++a)n[a]=Math.floor(e/r[a]),e-=n[a]*r[a];return n[n.length-1]=e,n}function Y(e){return e&&e.then&&"function"==typeof e.then}a.defineInteropFlag(r),a.export(r,"shuffle",function(){return o}),a.export(r,"shuffleCombo",function(){return s}),a.export(r,"clamp",function(){return i}),a.export(r,"nearestLargerEven",function(){return c}),a.export(r,"swap",function(){return u}),a.export(r,"sum",function(){return l}),a.export(r,"randUniform",function(){return p}),a.export(r,"distSquared",function(){return f}),a.export(r,"assert",function(){return d}),a.export(r,"assertShapesMatch",function(){return h}),a.export(r,"assertNonNull",function(){return m}),a.export(r,"sizeFromShape",function(){return g}),a.export(r,"isScalarShape",function(){return v}),a.export(r,"arraysEqualWithNull",function(){return _}),a.export(r,"arraysEqual",function(){return x}),a.export(r,"isInt",function(){return y}),a.export(r,"tanh",function(){return b}),a.export(r,"sizeToSquarishShape",function(){return k}),a.export(r,"createShuffledIndices",function(){return j}),a.export(r,"rightPad",function(){return w}),a.export(r,"repeatedTry",function(){return S}),a.export(r,"inferFromImplicitShape",function(){return I}),a.export(r,"parseAxisParam",function(){return T}),a.export(r,"squeezeShape",function(){return N}),a.export(r,"getTypedArrayFromDType",function(){return C}),a.export(r,"getArrayFromDType",function(){return E}),a.export(r,"checkConversionForErrors",function(){return F}),a.export(r,"isValidDtype",function(){return A}),a.export(r,"hasEncodingLoss",function(){return P}),a.export(r,"bytesPerElement",function(){return R}),a.export(r,"bytesFromStringArray",function(){return D}),a.export(r,"isString",function(){return M}),a.export(r,"isBoolean",function(){return O}),a.export(r,"isNumber",function(){return L}),a.export(r,"inferDtype",function(){return function e(t){if(Array.isArray(t))return e(t[0]);if(t instanceof Float32Array);else if(t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray)return"int32";else if(L(t));else if(M(t))return"string";else if(O(t))return"bool";return"float32"}}),a.export(r,"isFunction",function(){return V}),a.export(r,"nearestDivisor",function(){return U}),a.export(r,"computeStrides",function(){return B}),a.export(r,"toNestedArray",function(){return z}),a.export(r,"convertBackendValuesAndArrayBuffer",function(){return G}),a.export(r,"makeOnesTypedArray",function(){return W}),a.export(r,"makeZerosTypedArray",function(){return q}),a.export(r,"makeZerosNestedTypedArray",function(){return H}),a.export(r,"assertNonNegativeIntegerDimensions",function(){return Z}),a.export(r,"locToIndex",function(){return K}),a.export(r,"indexToLoc",function(){return X}),a.export(r,"isPromise",function(){return Y})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jwzgH:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(){if(null==a){var e;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof global)e=global;else if("undefined"!=typeof process)e=process;else if("undefined"!=typeof self)e=self;else throw Error("Could not find a global object");a=e}return a}function i(e,t){var r,n=(null==(r=s())._tfGlobals&&(r._tfGlobals=new Map),r._tfGlobals);if(n.has(e))return n.get(e);var a=t();return n.set(e,a),n.get(e)}o.defineInteropFlag(r),o.export(r,"getGlobalNamespace",function(){return s}),o.export(r,"getGlobal",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7S4Sf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Abs",function(){return o}),a.export(r,"Acos",function(){return s}),a.export(r,"Acosh",function(){return i}),a.export(r,"Add",function(){return c}),a.export(r,"AddN",function(){return u}),a.export(r,"All",function(){return l}),a.export(r,"Any",function(){return p}),a.export(r,"ArgMax",function(){return f}),a.export(r,"ArgMin",function(){return d}),a.export(r,"Asin",function(){return h}),a.export(r,"Asinh",function(){return m}),a.export(r,"Atan",function(){return g}),a.export(r,"Atanh",function(){return v}),a.export(r,"Atan2",function(){return _}),a.export(r,"AvgPool",function(){return x}),a.export(r,"AvgPoolGrad",function(){return y}),a.export(r,"AvgPool3D",function(){return b}),a.export(r,"AvgPool3DGrad",function(){return k}),a.export(r,"BatchMatMul",function(){return j}),a.export(r,"BatchToSpaceND",function(){return w}),a.export(r,"Bincount",function(){return S}),a.export(r,"BitwiseAnd",function(){return I}),a.export(r,"BroadcastTo",function(){return T}),a.export(r,"BroadcastArgs",function(){return N}),a.export(r,"Cast",function(){return C}),a.export(r,"Ceil",function(){return E}),a.export(r,"ClipByValue",function(){return F}),a.export(r,"Complex",function(){return A}),a.export(r,"ComplexAbs",function(){return P}),a.export(r,"Concat",function(){return R}),a.export(r,"Conv2D",function(){return D}),a.export(r,"Conv2DBackpropFilter",function(){return M}),a.export(r,"Conv2DBackpropInput",function(){return O}),a.export(r,"Conv3D",function(){return L}),a.export(r,"Conv3DBackpropFilterV2",function(){return V}),a.export(r,"Conv3DBackpropInputV2",function(){return U}),a.export(r,"Cos",function(){return B}),a.export(r,"Cosh",function(){return z}),a.export(r,"Cumprod",function(){return G}),a.export(r,"Cumsum",function(){return W}),a.export(r,"CropAndResize",function(){return q}),a.export(r,"DenseBincount",function(){return H}),a.export(r,"DepthToSpace",function(){return Z}),a.export(r,"DepthwiseConv2dNative",function(){return K}),a.export(r,"DepthwiseConv2dNativeBackpropFilter",function(){return X}),a.export(r,"DepthwiseConv2dNativeBackpropInput",function(){return Y}),a.export(r,"Diag",function(){return J}),a.export(r,"Dilation2D",function(){return Q}),a.export(r,"Dilation2DBackpropInput",function(){return $}),a.export(r,"Dilation2DBackpropFilter",function(){return ee}),a.export(r,"Draw",function(){return et}),a.export(r,"RealDiv",function(){return er}),a.export(r,"Einsum",function(){return en}),a.export(r,"Elu",function(){return ea}),a.export(r,"EluGrad",function(){return eo}),a.export(r,"Erf",function(){return es}),a.export(r,"Equal",function(){return ei}),a.export(r,"Exp",function(){return ec}),a.export(r,"ExpandDims",function(){return eu}),a.export(r,"Expm1",function(){return el}),a.export(r,"FFT",function(){return ep}),a.export(r,"Fill",function(){return ef}),a.export(r,"FlipLeftRight",function(){return ed}),a.export(r,"Floor",function(){return eh}),a.export(r,"FloorDiv",function(){return em}),a.export(r,"FusedBatchNorm",function(){return eg}),a.export(r,"GatherV2",function(){return ev}),a.export(r,"GatherNd",function(){return e_}),a.export(r,"Greater",function(){return ex}),a.export(r,"GreaterEqual",function(){return ey}),a.export(r,"Identity",function(){return eb}),a.export(r,"IFFT",function(){return ek}),a.export(r,"Imag",function(){return ej}),a.export(r,"IsFinite",function(){return ew}),a.export(r,"IsInf",function(){return eS}),a.export(r,"IsNan",function(){return eI}),a.export(r,"LeakyRelu",function(){return eT}),a.export(r,"Less",function(){return eN}),a.export(r,"LessEqual",function(){return eC}),a.export(r,"LinSpace",function(){return eE}),a.export(r,"Log",function(){return eF}),a.export(r,"Log1p",function(){return eA}),a.export(r,"LogicalAnd",function(){return eP}),a.export(r,"LogicalNot",function(){return eR}),a.export(r,"LogicalOr",function(){return eD}),a.export(r,"LogicalXor",function(){return eM}),a.export(r,"LogSoftmax",function(){return eO}),a.export(r,"LowerBound",function(){return eL}),a.export(r,"LRN",function(){return eV}),a.export(r,"LRNGrad",function(){return eU}),a.export(r,"MatrixBandPart",function(){return eB}),a.export(r,"Max",function(){return ez}),a.export(r,"Maximum",function(){return eG}),a.export(r,"MaxPool",function(){return eW}),a.export(r,"MaxPoolGrad",function(){return eq}),a.export(r,"MaxPool3D",function(){return eH}),a.export(r,"MaxPool3DGrad",function(){return eZ}),a.export(r,"MaxPoolWithArgmax",function(){return eK}),a.export(r,"Mean",function(){return eX}),a.export(r,"Min",function(){return eY}),a.export(r,"Minimum",function(){return eJ}),a.export(r,"MirrorPad",function(){return eQ}),a.export(r,"Mod",function(){return e$}),a.export(r,"Multinomial",function(){return e0}),a.export(r,"Multiply",function(){return e1}),a.export(r,"Neg",function(){return e2}),a.export(r,"NotEqual",function(){return e3}),a.export(r,"NonMaxSuppressionV3",function(){return e4}),a.export(r,"NonMaxSuppressionV4",function(){return e8}),a.export(r,"NonMaxSuppressionV5",function(){return e6}),a.export(r,"OnesLike",function(){return e5}),a.export(r,"OneHot",function(){return e7}),a.export(r,"Pack",function(){return e9}),a.export(r,"PadV2",function(){return te}),a.export(r,"Pool",function(){return tt}),a.export(r,"Pow",function(){return tr}),a.export(r,"Prelu",function(){return tn}),a.export(r,"Prod",function(){return ta}),a.export(r,"RaggedGather",function(){return to}),a.export(r,"RaggedRange",function(){return ts}),a.export(r,"RaggedTensorToTensor",function(){return ti}),a.export(r,"Range",function(){return tc}),a.export(r,"Real",function(){return tu}),a.export(r,"Reciprocal",function(){return tl}),a.export(r,"Relu",function(){return tp}),a.export(r,"Reshape",function(){return tf}),a.export(r,"ResizeNearestNeighbor",function(){return td}),a.export(r,"ResizeNearestNeighborGrad",function(){return th}),a.export(r,"ResizeBilinear",function(){return tm}),a.export(r,"ResizeBilinearGrad",function(){return tg}),a.export(r,"Relu6",function(){return tv}),a.export(r,"Reverse",function(){return t_}),a.export(r,"Round",function(){return tx}),a.export(r,"Rsqrt",function(){return ty}),a.export(r,"ScatterNd",function(){return tb}),a.export(r,"TensorScatterUpdate",function(){return tk}),a.export(r,"SearchSorted",function(){return tj}),a.export(r,"Select",function(){return tw}),a.export(r,"Selu",function(){return tS}),a.export(r,"Slice",function(){return tI}),a.export(r,"Sin",function(){return tT}),a.export(r,"Sinh",function(){return tN}),a.export(r,"Sign",function(){return tC}),a.export(r,"Sigmoid",function(){return tE}),a.export(r,"Softplus",function(){return tF}),a.export(r,"Sqrt",function(){return tA}),a.export(r,"Sum",function(){return tP}),a.export(r,"SpaceToBatchND",function(){return tR}),a.export(r,"SplitV",function(){return tD}),a.export(r,"Softmax",function(){return tM}),a.export(r,"SparseFillEmptyRows",function(){return tO}),a.export(r,"SparseReshape",function(){return tL}),a.export(r,"SparseSegmentMean",function(){return tV}),a.export(r,"SparseSegmentSum",function(){return tU}),a.export(r,"SparseToDense",function(){return tB}),a.export(r,"SquaredDifference",function(){return tz}),a.export(r,"Square",function(){return tG}),a.export(r,"StaticRegexReplace",function(){return tW}),a.export(r,"StridedSlice",function(){return tq}),a.export(r,"StringNGrams",function(){return tH}),a.export(r,"StringSplit",function(){return tZ}),a.export(r,"StringToHashBucketFast",function(){return tK}),a.export(r,"Sub",function(){return tX}),a.export(r,"Tan",function(){return tY}),a.export(r,"Tanh",function(){return tJ}),a.export(r,"Tile",function(){return tQ}),a.export(r,"TopK",function(){return t$}),a.export(r,"Transform",function(){return t0}),a.export(r,"Transpose",function(){return t1}),a.export(r,"Unique",function(){return t2}),a.export(r,"Unpack",function(){return t3}),a.export(r,"UnsortedSegmentSum",function(){return t4}),a.export(r,"UpperBound",function(){return t8}),a.export(r,"ZerosLike",function(){return t6}),a.export(r,"Step",function(){return t5}),a.export(r,"FromPixels",function(){return t7}),a.export(r,"RotateWithOffset",function(){return t9}),a.export(r,"_FusedMatMul",function(){return re}),a.export(r,"FusedConv2D",function(){return rt}),a.export(r,"FusedDepthwiseConv2D",function(){return rr});var o="Abs",s="Acos",i="Acosh",c="Add",u="AddN",l="All",p="Any",f="ArgMax",d="ArgMin",h="Asin",m="Asinh",g="Atan",v="Atanh",_="Atan2",x="AvgPool",y="AvgPoolGrad",b="AvgPool3D",k="AvgPool3DGrad",j="BatchMatMul",w="BatchToSpaceND",S="Bincount",I="BitwiseAnd",T="BroadcastTo",N="BroadcastArgs",C="Cast",E="Ceil",F="ClipByValue",A="Complex",P="ComplexAbs",R="Concat",D="Conv2D",M="Conv2DBackpropFilter",O="Conv2DBackpropInput",L="Conv3D",V="Conv3DBackpropFilterV2",U="Conv3DBackpropInputV2",B="Cos",z="Cosh",G="Cumprod",W="Cumsum",q="CropAndResize",H="DenseBincount",Z="DepthToSpace",K="DepthwiseConv2dNative",X="DepthwiseConv2dNativeBackpropFilter",Y="DepthwiseConv2dNativeBackpropInput",J="Diag",Q="Dilation2D",$="Dilation2DBackpropInput",ee="Dilation2DBackpropFilter",et="Draw",er="RealDiv",en="Einsum",ea="Elu",eo="EluGrad",es="Erf",ei="Equal",ec="Exp",eu="ExpandDims",el="Expm1",ep="FFT",ef="Fill",ed="FlipLeftRight",eh="Floor",em="FloorDiv",eg="FusedBatchNorm",ev="GatherV2",e_="GatherNd",ex="Greater",ey="GreaterEqual",eb="Identity",ek="IFFT",ej="Imag",ew="IsFinite",eS="IsInf",eI="IsNan",eT="LeakyRelu",eN="Less",eC="LessEqual",eE="LinSpace",eF="Log",eA="Log1p",eP="LogicalAnd",eR="LogicalNot",eD="LogicalOr",eM="LogicalXor",eO="LogSoftmax",eL="LowerBound",eV="LRN",eU="LRNGrad",eB="MatrixBandPart",ez="Max",eG="Maximum",eW="MaxPool",eq="MaxPoolGrad",eH="MaxPool3D",eZ="MaxPool3DGrad",eK="MaxPoolWithArgmax",eX="Mean",eY="Min",eJ="Minimum",eQ="MirrorPad",e$="Mod",e0="Multinomial",e1="Multiply",e2="Neg",e3="NotEqual",e4="NonMaxSuppressionV3",e8="NonMaxSuppressionV4",e6="NonMaxSuppressionV5",e5="OnesLike",e7="OneHot",e9="Pack",te="PadV2",tt="Pool",tr="Pow",tn="Prelu",ta="Prod",to="RaggedGather",ts="RaggedRange",ti="RaggedTensorToTensor",tc="Range",tu="Real",tl="Reciprocal",tp="Relu",tf="Reshape",td="ResizeNearestNeighbor",th="ResizeNearestNeighborGrad",tm="ResizeBilinear",tg="ResizeBilinearGrad",tv="Relu6",t_="Reverse",tx="Round",ty="Rsqrt",tb="ScatterNd",tk="TensorScatterUpdate",tj="SearchSorted",tw="Select",tS="Selu",tI="Slice",tT="Sin",tN="Sinh",tC="Sign",tE="Sigmoid",tF="Softplus",tA="Sqrt",tP="Sum",tR="SpaceToBatchND",tD="SplitV",tM="Softmax",tO="SparseFillEmptyRows",tL="SparseReshape",tV="SparseSegmentMean",tU="SparseSegmentSum",tB="SparseToDense",tz="SquaredDifference",tG="Square",tW="StaticRegexReplace",tq="StridedSlice",tH="StringNGrams",tZ="StringSplit",tK="StringToHashBucketFast",tX="Sub",tY="Tan",tJ="Tanh",tQ="Tile",t$="TopK",t0="Transform",t1="Transpose",t2="Unique",t3="Unpack",t4="UnsortedSegmentSum",t8="UpperBound",t6="ZerosLike",t5="Step",t7="FromPixels",t9="RotateWithOffset",re="_FusedMatMul",rt="FusedConv2D",rr="FusedDepthwiseConv2D"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4NHEj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getKernel",function(){return p}),a.export(r,"getGradient",function(){return f}),a.export(r,"getKernelsForBackend",function(){return d}),a.export(r,"registerKernel",function(){return h}),a.export(r,"registerGradient",function(){return m}),a.export(r,"unregisterKernel",function(){return g}),a.export(r,"unregisterGradient",function(){return v}),a.export(r,"copyRegisteredKernels",function(){return _});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("./environment"),i=e("./global_util"),c=e("./log"),u=(0,i.getGlobal)("kernelRegistry",function(){return new Map}),l=(0,i.getGlobal)("gradRegistry",function(){return new Map});function p(e,t){var r=x(e,t);return u.get(r)}function f(e){return l.get(e)}function d(e){for(var t=u.entries(),r=[];;){var n=t.next(),a=n.done,s=n.value;if(a)break;var i=(0,o._)(s,2),c=i[0],l=i[1];(0,o._)(c.split("_"),1)[0]===e&&r.push(l)}return r}function h(e){var t=e.kernelName,r=e.backendName,n=x(t,r);u.has(n)&&c.warn("The kernel '".concat(t,"' for backend ")+"'".concat(r,"' is already registered")),u.set(n,e)}function m(e){var t=e.kernelName;l.has(t)&&(0,s.env)().getBool("DEBUG")&&c.warn("Overriding the gradient for '".concat(t,"'")),l.set(t,e)}function g(e,t){var r=x(e,t);if(!u.has(r))throw Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));u.delete(r)}function v(e){if(!l.has(e))throw Error("The gradient '".concat(e,"' for backend is not registered"));l.delete(e)}function _(e,t){d(e).forEach(function(e){h(Object.assign({},e,{backendName:t}))})}function x(e,t){return"".concat(t,"_").concat(e)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","./environment":"8AL2D","./global_util":"jwzgH","./log":"hbJPb","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hbJPb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"warn",function(){return i}),a.export(r,"log",function(){return c});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("./environment");function i(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,s.env)().getBool("IS_TEST")||(0,s.env)().getBool("PROD")||(e=console).warn.apply(e,(0,o._)(r))}function c(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(0,s.env)().getBool("IS_TEST")||(0,s.env)().getBool("PROD")||(e=console).log.apply(e,(0,o._)(r))}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","./environment":"8AL2D","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2JeSk":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Profiler",function(){return u}),a.export(r,"checkComputationForErrors",function(){return l}),a.export(r,"Logger",function(){return p});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./environment"),c=e("./util"),u=function(){"use strict";function e(t,r){(0,o._)(this,e),this.backendTimer=t,this.logger=r,null==r&&(this.logger=new p)}return(0,s._)(e,[{key:"profileKernel",value:function(e,t,r){var n=function(){p=r()},a=c.now();if(this.backendTimer.timerAvailable())f=this.backendTimer.time(n);else{n();var o=!0,s=!1,u=void 0;try{for(var p,f,d,h=p[Symbol.iterator]();!(o=(d=h.next()).done);o=!0)d.value.dataSync()}catch(e){s=!0,u=e}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}f=Promise.resolve({kernelMs:c.now()-a})}if((0,i.env)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var m=0;m<p.length;m++)!function(t){var r=p[t];r.data().then(function(t){l(t,r.dtype,e)})}(m);return{kernelName:e,outputs:p,inputs:t,timeMs:f.then(function(e){return e.kernelMs}),extraInfo:f.then(function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""})}}},{key:"logKernelProfile",value:function(e){var t=this,r=e.kernelName,n=e.outputs,a=e.timeMs,o=e.inputs,s=e.extraInfo;n.forEach(function(e){Promise.all([e.data(),a,s]).then(function(n){t.logger.logKernelProfile(r,e,n[0],n[1],o,n[2])})})}}]),e}();function l(e,t,r){if("float32"!==t)return!1;for(var n=0;n<e.length;n++){var a=e[n];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(r,"'")),!0}return!1}var p=function(){"use strict";function e(){(0,o._)(this,e)}return(0,s._)(e,[{key:"logKernelProfile",value:function(e,t,r,n,a,o){var s="number"==typeof n?c.rightPad("".concat(n,"ms"),9):n.error,i=c.rightPad(e,25),u=t.rank,l=t.size,p=c.rightPad(t.shape.toString(),14),f="";for(var d in a){var h=a[d];if(null!=h){var m=h.shape||t.shape,g=m.length;f+="".concat(d,": ").concat(g,"D ").concat(g>0?m:""," ")}}console.log("%c".concat(i," %c").concat(s," %c").concat(u,"D ").concat(p," %c").concat(l," %c").concat(f," %c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","./environment":"8AL2D","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5L87y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createScalarValue",function(){return u}),a.export(r,"toTypedArray",function(){return l}),a.export(r,"now",function(){return p}),a.export(r,"fetch",function(){return f}),a.export(r,"encodeString",function(){return d}),a.export(r,"decodeString",function(){return h}),a.export(r,"isTypedArray",function(){return m}),a.export(r,"flatten",function(){return g});var o=e("./environment"),s=e("./platforms/is_typed_array_browser"),i=e("./util_base");a.exportAll(i,r);var c=e("./hash_util");function u(e,t){return"string"===t?d(e):l([e],t)}function l(e,t){if("string"===t)throw Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=g(e)),(0,o.env)().getBool("DEBUG")&&i.checkConversionForErrors(e,t),(r=e)instanceof Float32Array&&"float32"===t||r instanceof Int32Array&&"int32"===t||r instanceof Uint8Array&&"bool"===t)return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r,n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw Error("Unknown data type ".concat(t))}function p(){return(0,o.env)().platform.now()}function f(e,t){return(0,o.env)().platform.fetch(e,t)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,o.env)().platform.encode(e,t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,o.env)().platform.decode(e,t)}function m(e){return null!=(0,o.env)().platform.isTypedArray?(0,o.env)().platform.isTypedArray(e):(0,s.isTypedArrayBrowser)(e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||i.isPromise(e)||null==e||m(e)&&r)t.push(e);else if(Array.isArray(e)||m(e))for(var n=0;n<e.length;++n)g(e[n],t,r);else{var a=-1,o=!0,s=!1,c=void 0;try{for(var u,l=Object.keys(e)[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var p=u.value;/^([1-9]+[0-9]*|0)$/.test(p)&&(a=Math.max(a,Number(p)))}}catch(e){s=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}for(var f=0;f<=a;f++)g(e[f],t,r)}return t}a.exportAll(c,r)},{"./environment":"8AL2D","./platforms/is_typed_array_browser":"6ZmCO","./util_base":"h6qVW","./hash_util":"8pBZe","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6ZmCO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}a.defineInteropFlag(r),a.export(r,"isTypedArrayBrowser",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8pBZe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hexToLong",function(){return i}),a.export(r,"fingerPrint64",function(){return v});var o=e("long"),s=o.default||o;function i(e){return s.fromString(e,!0,16)}var c=i("c3a5c85c97cb3127"),u=i("b492b66fbe98f273"),l=i("9ae16a3b2f90404f");function p(e){return e.xor(e.shru(47))}function f(e,t,r){var n=e.slice(t,t+r);return s.fromBytes(Array.from(n),!0,!0)}function d(e,t){return f(e,t,8)}function h(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i("9ddfea08eb382d69"),n=e.xor(t).mul(r);n=n.xor(n.shru(47));var a=t.xor(n).mul(r);return(a=a.xor(a.shru(47))).mul(r)}function g(e,t,r,n){var a,o,s,i,c,u,l;return a=d(e,t),o=d(e,t+8),s=d(e,t+16),i=d(e,t+24),c=r,u=n,c=c.add(a),u=h(u.add(c).add(i),21),l=c,c=(c=c.add(o)).add(s),u=u.add(h(c,44)),[c.add(i),u.add(l)]}function v(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,a=s.fromNumber(81,!0);if(n<=32)if(n<=16)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var r=l.add(2*t),n=d(e,0).add(l),a=d(e,t-8);return m(h(a,37).mul(r).add(n),h(n,25).add(a).mul(r),r)}if(t>=4){var o=l.add(2*t);return m(f(e,0,4).shl(3).add(t),f(e,t-4,4),o)}if(t>0){var s=e[0],i=e[t>>1],u=e[t-1];return p(l.mul(s+(i<<8)).xor(c.mul(t+(u<<2)))).mul(l)}return l}(e,n);else return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=l.add(2*t),n=d(e,0).mul(u),a=d(e,8),o=d(e,t-8).mul(r),s=d(e,t-16).mul(l);return m(h(n.add(a),43).add(h(o,30)).add(s),n.add(h(a.add(l),18)).add(o),r)}(e,n);if(n<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,r=l.add(2*t),n=d(e,0).mul(l),a=d(e,8),o=d(e,t-8).mul(r),s=d(e,t-16).mul(l),i=h(n.add(a),43).add(h(o,30)).add(s),c=m(i,n.add(h(a.add(l),18)).add(o),r),u=d(e,16).mul(r),p=d(e,24),f=i.add(d(e,t-32)).mul(r),g=c.add(d(e,t-24)).mul(r);return m(h(u.add(p),43).add(h(f,30)).add(g),u.add(h(p.add(n),18)).add(f),r)}(e,n);var o=a,i=a.mul(u).add(113),v=p(i.mul(l).add(113)).mul(l),_=[s.UZERO,s.UZERO],x=[s.UZERO,s.UZERO];o=o.mul(l).add(d(e,0));var y=0,b=(n-1>>6)*64,k=b+(n-1&63)-63;do o=h(o.add(i).add(_[0]).add(d(e,y+8)),37).mul(u),i=h(i.add(_[1]).add(d(e,y+48)),42).mul(u),o=o.xor(x[1]),i=i.add(_[0]).add(d(e,y+40)),v=h(v.add(x[0]),33).mul(u),_=g(e,y,_[1].mul(u),o.add(x[0])),x=g(e,y+32,v.add(x[1]),i.add(d(e,y+16))),v=(t=[o,v])[0],o=t[1],y+=64;while(y!==b)var j=u.add(v.and(255).shl(1));return y=k,x[0]=x[0].add(n-1&63),_[0]=_[0].add(x[0]),x[0]=x[0].add(_[0]),o=h(o.add(i).add(_[0]).add(d(e,y+8)),37).mul(j),i=h(i.add(_[1]).add(d(e,y+48)),42).mul(j),o=o.xor(x[1].mul(9)),i=i.add(_[0].mul(9).add(d(e,y+40))),v=h(v.add(x[0]),33).mul(j),_=g(e,y,_[1].mul(j),o.add(x[0])),x=g(e,y+32,v.add(x[1]),i.add(d(e,y+16))),v=(r=[o,v])[0],o=r[1],m(m(_[0],x[0],j).add(p(i).mul(c)).add(v),m(_[1],x[1],j).add(o),j)}},{long:"9QWdq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9QWdq":[function(e,t,r,n){t.exports=o;var a=null;try{a=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function o(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function s(e){return!0===(e&&e.__isLong__)}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=s;var i={},c={};function u(e,t){var r,n,a;if(t)return(e>>>=0,(a=0<=e&&e<256)&&(n=c[e]))?n:(r=p(e,(0|e)<0?-1:0,!0),a&&(c[e]=r),r);return(e|=0,(a=-128<=e&&e<128)&&(n=i[e]))?n:(r=p(e,e<0?-1:0,!1),a&&(i[e]=r),r)}function l(e,t){if(isNaN(e))return t?y:x;if(t){if(e<0)return y;if(e>=g)return S}else{if(e<=-v)return I;if(e+1>=v)return w}return e<0?l(-e,t).neg():p(e%m|0,e/m|0,t)}function p(e,t,r){return new o(e,t,r)}o.fromInt=u,o.fromNumber=l,o.fromBits=p;var f=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return x;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,r).neg();for(var n,a=l(f(r,8)),o=x,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+i),r);if(i<8){var u=l(f(r,i));o=o.mul(u).add(l(c))}else o=(o=o.mul(a)).add(l(c))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):p(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}o.fromString=d,o.fromValue=h;var m=0x100000000,g=0xffffffffffffffff,v=0x8000000000000000,_=u(0x1000000),x=u(0);o.ZERO=x;var y=u(0,!0);o.UZERO=y;var b=u(1);o.ONE=b;var k=u(1,!0);o.UONE=k;var j=u(-1);o.NEG_ONE=j;var w=p(-1,0x7fffffff,!1);o.MAX_VALUE=w;var S=p(-1,-1,!0);o.MAX_UNSIGNED_VALUE=S;var I=p(0,-0x80000000,!1);o.MIN_VALUE=I;var T=o.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(I))return"-"+this.neg().toString(e);else{var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var a=l(f(e,6),this.unsigned),o=this,s="";;){var i=o.div(a),c=(o.sub(i.mul(a)).toInt()>>>0).toString(e);if((o=i).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(1&this.low)==1},T.isEven=function(){return(1&this.low)==0},T.equals=function(e){return s(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return 0>this.comp(e)},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return 0>=this.comp(e)},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(s(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(b)},T.neg=T.negate,T.add=function(e){s(e)||(e=h(e));var t,r,n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,c=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=65535&e.low,d=0,m=0;return t=0+((r=0+(i+f))>>>16),r&=65535,t+=o+l,m+=t>>>16,t&=65535,m+=a+u,d+=m>>>16,m&=65535,d+=n+c,p(t<<16|r,(d&=65535)<<16|m,this.unsigned)},T.subtract=function(e){return s(e)||(e=h(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return x;if(s(e)||(e=h(e)),a)return p(a.mul(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned);if(e.isZero())return x;if(this.eq(I))return e.isOdd()?I:x;if(e.eq(I))return this.isOdd()?I:x;if(this.isNegative())if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return l(this.toNumber()*e.toNumber(),this.unsigned);var t,r,n=this.high>>>16,o=65535&this.high,i=this.low>>>16,c=65535&this.low,u=e.high>>>16,f=65535&e.high,d=e.low>>>16,m=65535&e.low,g=0,v=0;return t=0+((r=0+c*m)>>>16),r&=65535,t+=i*m,v+=t>>>16,t&=65535,t+=c*d,v+=t>>>16,t&=65535,v+=o*m,g+=v>>>16,v&=65535,v+=i*d,g+=v>>>16,v&=65535,v+=c*f,g+=v>>>16,v&=65535,g+=n*m+o*d+i*f+c*u,p(t<<16|r,(g&=65535)<<16|v,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(s(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(a){var t,r,n;return this.unsigned||-0x80000000!==this.high||-1!==e.low||-1!==e.high?p((this.unsigned?a.div_u:a.div_s)(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?y:x;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return k;n=y}else{if(this.eq(I))if(e.eq(b)||e.eq(j))return I;else return e.eq(I)?b:(t=this.shr(1).div(e).shl(1)).eq(x)?e.isNegative()?b:j:(r=this.sub(e.mul(t)),n=t.add(r.div(e)));if(e.eq(I))return this.unsigned?y:x;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=x}for(r=this;r.gte(e);){for(var o=Math.ceil(Math.log(t=Math.max(1,Math.floor(r.toNumber()/e.toNumber())))/Math.LN2),i=o<=48?1:f(2,o-48),c=l(t),u=c.mul(e);u.isNegative()||u.gt(r);)t-=i,u=(c=l(t,this.unsigned)).mul(e);c.isZero()&&(c=b),n=n.add(c),r=r.sub(u)}return n},T.div=T.divide,T.modulo=function(e){return(s(e)||(e=h(e)),a)?p((this.unsigned?a.rem_u:a.rem_s)(this.low,this.high,e.low,e.high),a.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return p(~this.low,~this.high,this.unsigned)},T.and=function(e){return s(e)||(e=h(e)),p(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return s(e)||(e=h(e)),p(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return s(e)||(e=h(e)),p(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return(s(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?p(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):p(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return(s(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?p(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):p(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(s(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?p(this.low>>>e|t<<32-e,t>>>e,this.unsigned):32===e?p(t,0,this.unsigned):p(t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?p(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:p(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},o.fromBytes=function(e,t,r){return r?o.fromBytesLE(e,t):o.fromBytesBE(e,t)},o.fromBytesLE=function(e,t){return new o(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},o.fromBytesBE=function(e,t){return new o(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},{}],"3Rn3F":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getFilteredNodesXToY",function(){return s}),a.export(r,"backpropagateGradients",function(){return i});var o=e("./util");function s(e,t,r){for(var n={},a={},o=0;o<t.length;o++)n[t[o].id]=!0;for(var s=0;s<e.length;s++){var i=e[s],c=i.inputs;for(var u in c){for(var l=c[u],p=!1,f=0;f<t.length;f++)if(n[l.id]){i.outputs.forEach(function(e){return n[e.id]=!0}),p=!0,a[i.id]=!0;break}if(p)break}}var d={};d[r.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var g=e[m],v=g.inputs,_=0;_<g.outputs.length;_++)if(d[g.outputs[_].id]){for(var x in v)d[v[x].id]=!0,h[g.id]=!0;break}for(var y=[],b=0;b<e.length;b++){var k=e[b];if(a[k.id]&&h[k.id]){var j={};for(var w in k.inputs){var S=k.inputs[w];n[S.id]&&(j[w]=S)}var I=Object.assign({},k);I.inputs=j,I.outputs=k.outputs,y.push(I)}}return y}function i(e,t,r,n){for(var a=t.length-1;a>=0;a--)!function(a){var s=function(t){if(!(t in u))throw Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var a=r(function(){return u[t]()});if("float32"!==a.dtype)throw Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var s=i.inputs[t];if(!o.arraysEqual(a.shape,s.shape))throw Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(s.shape,"'"));if(null==e[s.id])e[s.id]=a;else{var c=e[s.id];e[s.id]=n(c,a),c.dispose()}},i=t[a],c=[];if(i.outputs.forEach(function(t){var r=e[t.id];null!=r?c.push(r):c.push(null)}),null==i.gradient)throw Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var u=i.gradient(c);for(var l in i.inputs)s(l)}(a)}},{"./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6yx3i":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorBuffer",function(){return h}),a.export(r,"setTensorTracker",function(){return v}),a.export(r,"setOpHandler",function(){return _}),a.export(r,"setDeprecationWarningFn",function(){return x}),a.export(r,"Tensor",function(){return y}),a.export(r,"getGlobalTensorClass",function(){return b}),a.export(r,"Variable",function(){return k});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("./global_util"),f=e("./tensor_format"),d=e("./util"),h=function(){"use strict";function e(t,r,n){var a=this;if((0,i._)(this,e),this.dtype=r,this.shape=t.slice(),this.size=d.sizeFromShape(t),null!=n){var o=n.length;d.assert(o===this.size,function(){return"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")})}if("complex64"===r)throw Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||d.getArrayFromDType(r,this.size),this.strides=(0,d.computeStrides)(t)}return(0,c._)(e,[{key:"set",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];0===n.length&&(n=[0]),d.assert(n.length===this.rank,function(){return"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(t.rank,")")});var o=this.locToIndex(n);this.values[o]=e}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];0===t.length&&(t=[0]);var n=0,a=!0,o=!1,s=void 0;try{for(var i,c=t[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var u=i.value;if(u<0||u>=this.shape[n]){var l="Requested out of range element at ".concat(t,". ")+" Buffer shape=".concat(this.shape);throw Error(l)}n++}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}for(var p=t[t.length-1],f=0;f<t.length-1;++f)p+=this.strides[f]*t[f];return this.values[p]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return m().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),m=null,g=null;function v(e){m=e}function _(e){g=e}function x(e){}var y=function(){"use strict";function e(t,r,n,a){(0,i._)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=d.sizeFromShape(t),this.strides=(0,d.computeStrides)(t),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,c._)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=this;return(0,o._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return[4,e.data()];case 1:return t=r.sent(),[2,g.buffer(e.shape,e.dtype,t)]}})})()}},{key:"bufferSync",value:function(){return g.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=this;return(0,o._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return[4,e.data()];case 1:return t=r.sent(),[2,(0,d.toNestedArray)(e.shape,t,"complex64"===e.dtype)]}})})()}},{key:"arraySync",value:function(){return(0,d.toNestedArray)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=this;return(0,o._)(function(){var t,r;return(0,l._)(this,function(n){switch(n.label){case 0:if(e.throwIfDisposed(),t=m().read(e.dataId),"string"!==e.dtype)return[3,2];return[4,t];case 1:r=n.sent();try{return[2,r.map(function(e){return d.decodeString(e)})]}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}case 2:return[2,t]}})})()}},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),m().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=m().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return d.decodeString(e)})}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=this;return(0,o._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return e.throwIfDisposed(),[4,m().read(e.dataId)];case 1:if(t=r.sent(),"string"===e.dtype)return[2,t];return[2,new Uint8Array(t.buffer)]}})})()}},{key:"dispose",value:function(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),m().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),g.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return(0,f.tensorToString)(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),g.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),m().makeVariable(this,e,t,r)}}]),e}();function b(){return(0,p.getGlobal)("Tensor",function(){return y})}Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),b();var k=function(e){"use strict";function t(e,r,n,a){var o;return(0,i._)(this,t),(o=(0,s._)(this,t,[e.shape,e.dtype,e.dataId,a])).trainable=r,o.name=n,o}return(0,u._)(t,e),(0,c._)(t,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!d.arraysEqual(e.shape,this.shape))throw Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));m().disposeTensor(this),this.dataId=e.dataId,m().incRef(this,null)}},{key:"dispose",value:function(){m().disposeVariable(this),this.isDisposedInternal=!0}}]),t}(y);Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return e instanceof y&&null!=e.assign&&e.assign instanceof Function}})},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","./global_util":"jwzgH","./tensor_format":"ghH1I","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aFrVF:[function(e,t,r,n){"use strict";var a=e("206ae600478262e1"),o=e("e9be447e8b980fc1"),s=e("3357997583474f25");r._=function(e,t,r){return t=a._(t),s._(e,o._()?Reflect.construct(t,r||[],a._(e).constructor):t.apply(e,r))}},{"206ae600478262e1":"cAaXX",e9be447e8b980fc1:"6eqqS","3357997583474f25":"fa3rG"}],cAaXX:[function(e,t,r,n){"use strict";function a(e){return r._=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}r._=a},{}],"6eqqS":[function(e,t,r,n){"use strict";function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r._=a=function(){return!!e})()}r._=a},{}],fa3rG:[function(e,t,r,n){"use strict";var a=e("2f044ca51fa80bb1"),o=e("95fbded20695b6ea");r._=function(e,t){return t&&("object"===o._(t)||"function"==typeof t)?t:a._(e)}},{"2f044ca51fa80bb1":"ckXPU","95fbded20695b6ea":"9vrOw"}],ckXPU:[function(e,t,r,n){"use strict";r._=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],"8c2nw":[function(e,t,r,n){"use strict";var a=e("1736e5513da71c03");r._=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a._(e,t)}},{"1736e5513da71c03":"gBKVY"}],gBKVY:[function(e,t,r,n){"use strict";function a(e,t){return r._=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}r._=a},{}],ghH1I:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorToString",function(){return i});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("./util");function i(e,t,r,n){var a=(0,s.computeStrides)(t),i=function(e,t,r,n){var a=(0,s.sizeFromShape)(t),o=n[n.length-1],i=Array(o).fill(0),u=t.length,p="complex64"===r?l(e):e;if(u>1)for(var f=0;f<a/o;f++)for(var d=f*o,h=0;h<o;h++)i[h]=Math.max(i[h],c(p[d+h],0,r).length);return i}(e,t,r,a),p=t.length,f=function e(t,r,n,a,s){var i=!(arguments.length>5)||void 0===arguments[5]||arguments[5],p="complex64"===n?2:1,f=r[0],d=r.length;if(0===d)return"complex64"===n?[c(l(t)[0],0,n)]:"bool"===n?[u(t[0])]:[t[0].toString()];if(1===d){if(f>20){var h=Array.from(t.slice(0,3*p)),m=Array.from(t.slice((f-3)*p,f*p));return"complex64"===n&&(h=l(h),m=l(m)),["["+h.map(function(e,t){return c(e,s[t],n)}).join(", ")+", ..., "+m.map(function(e,t){return c(e,s[f-3+t],n)}).join(", ")+"]"]}return["["+("complex64"===n?l(t):Array.from(t)).map(function(e,t){return c(e,s[t],n)}).join(", ")+"]"]}var g=r.slice(1),v=a.slice(1),_=a[0]*p,x=[];if(f>20){for(var y=0;y<3;y++){var b=y*_,k=b+_;x.push.apply(x,(0,o._)(e(t.slice(b,k),g,n,v,s,!1)))}x.push("...");for(var j=f-3;j<f;j++){var w=j*_,S=w+_;x.push.apply(x,(0,o._)(e(t.slice(w,S),g,n,v,s,j===f-1)))}}else for(var I=0;I<f;I++){var T=I*_,N=T+_;x.push.apply(x,(0,o._)(e(t.slice(T,N),g,n,v,s,I===f-1)))}var C=2===d?",":"";x[0]="["+(f>0?x[0]+C:"");for(var E=1;E<x.length-1;E++)x[E]=" "+x[E]+C;for(var F=",\n",A=2;A<d;A++)F+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(i?"":F),x}(e,t,r,a,i),d=["Tensor"];return n&&(d.push(" dtype: ".concat(r)),d.push(" rank: ".concat(p)),d.push(" shape: [".concat(t,"]")),d.push(" values:")),d.push(f.map(function(e){return" "+e}).join("\n")),d.join("\n")}function c(e,t,r){var n;return n=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,s.isString)(e)?"'".concat(e,"'"):"bool"===r?u(e):parseFloat(e.toFixed(7)).toString(),(0,s.rightPad)(n,t)}function u(e){return 0===e?"false":"true"}function l(e){for(var t=[],r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ilCpq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeTypesMatch",function(){return u}),a.export(r,"assertTypesMatch",function(){return l}),a.export(r,"isTensorInList",function(){return p}),a.export(r,"getTensorsInContainer",function(){return f});var o=e("@swc/helpers/cjs/_type_of.cjs"),s=e("./tensor"),i=e("./types"),c=e("./util");function u(e,t){if(e.dtype===t.dtype)return[e,t];var r=(0,i.upcastType)(e.dtype,t.dtype);return[e.cast(r),t.cast(r)]}function l(e,t){(0,c.assert)(e.dtype===t.dtype,function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")})}function p(e,t){return t.some(function(t){return t.id===e.id})}function f(e){var t=[];return function e(t,r,n){if(null!=t){if(t instanceof s.Tensor)return void r.push(t);if(Array.isArray(i=t)||(void 0===i?"undefined":(0,o._)(i))==="object")for(var a in t){var i,c=t[a];n.has(c)||(n.add(c),e(c,r,n))}}}(e,t,new Set),t}},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw","./tensor":"6yx3i","./types":"8Anyq","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8Anyq":[function(e,t,r,n){var a,o,s,i,c,u,l,p,f,d,h=e("@parcel/transformer-js/src/esmodule-helpers.js");h.defineInteropFlag(r),h.export(r,"Rank",function(){return u}),h.export(r,"upcastType",function(){return v}),h.export(r,"sumOutType",function(){return _}),h.export(r,"isWebGLData",function(){return x}),h.export(r,"isWebGPUData",function(){return y});var m=e("@swc/helpers/cjs/_type_of.cjs");(a=u||(u={})).R0="R0",a.R1="R1",a.R2="R2",a.R3="R3",a.R4="R4",a.R5="R5",a.R6="R6",(o=l||(l={})).float32="float32",o.int32="int32",o.bool="int32",o.complex64="complex64",(s=p||(p={})).float32="float32",s.int32="int32",s.bool="bool",s.complex64="complex64",(i=f||(f={})).float32="float32",i.int32="float32",i.bool="float32",i.complex64="complex64",(c=d||(d={})).float32="complex64",c.int32="complex64",c.bool="complex64",c.complex64="complex64";var g={float32:f,int32:l,bool:p,complex64:d};function v(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw Error("Can not upcast ".concat(e," with ").concat(t))}return g[e][t]}function _(e){return v(e,"int32")}function x(e){return null!=e&&(void 0===e?"undefined":(0,m._)(e))==="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function y(e){return"undefined"!=typeof GPUBuffer&&null!=e&&(void 0===e?"undefined":(0,m._)(e))==="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8adxq":[function(e,t,r,n){e("./engine");var a=e("./device_util"),o=(0,e("./environment").env)();o.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),o.registerFlag("IS_BROWSER",function(){return a.isBrowser()}),o.registerFlag("IS_NODE",function(){return!1}),o.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),o.registerFlag("IS_SAFARI",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)}),o.registerFlag("PROD",function(){return!1}),o.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return o.getBool("DEBUG")}),o.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),o.registerFlag("IS_TEST",function(){return!1}),o.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",function(){return o.getBool("DEBUG")}),o.registerFlag("WRAP_TO_IMAGEBITMAP",function(){return!1}),o.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",function(){return!1}),o.registerFlag("USE_SETTIMEOUTCUSTOM",function(){return!1})},{"./engine":"hSfoX","./device_util":"llT0V","./environment":"8AL2D"}],llT0V:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){a=e}function i(e){if(void 0!==a)return a;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){var r=e;return r.userAgentData&&r.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function c(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}o.defineInteropFlag(r),o.export(r,"mockIsMobile",function(){return s}),o.export(r,"isMobile",function(){return i}),o.export(r,"isBrowser",function(){return c})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3fNCq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PlatformBrowser",function(){return f});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs");e("../flags");var i=e("../environment"),c=e("../io/indexed_db"),u=e("../io/local_storage"),l=e("../io/model_management"),p=e("./is_typed_array_browser"),f=function(){"use strict";function e(){(0,o._)(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return(0,s._)(e,[{key:"fetch",value:function(e,t){return fetch(e,t)}},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var r=this;if("undefined"==typeof window||!(0,i.env)().getBool("USE_SETTIMEOUTCUSTOM"))return void setTimeout(e,t);this.functionRefs.push(e),setTimeout(function(){window.postMessage({name:r.messageName,index:r.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",function(e){e.source===window&&e.data.name===r.messageName&&(e.stopPropagation(),(0,r.functionRefs[e.data.index])(),r.handledMessageCount++,r.handledMessageCount===r.functionRefs.length&&(r.functionRefs=[],r.handledMessageCount=0))},!0))}},{key:"isTypedArray",value:function(e){return(0,p.isTypedArrayBrowser)(e)}}]),e}();if((0,i.env)().get("IS_BROWSER")){(0,i.env)().setPlatform("browser",new f);try{l.ModelStoreManagerRegistry.registerManager(u.BrowserLocalStorage.URL_SCHEME,new(0,u.BrowserLocalStorageManager))}catch(e){}try{l.ModelStoreManagerRegistry.registerManager(c.BrowserIndexedDB.URL_SCHEME,new(0,c.BrowserIndexedDBManager))}catch(e){}}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","../flags":"8adxq","../environment":"8AL2D","../io/indexed_db":"dE8ff","../io/local_storage":"acJMR","../io/model_management":"B5yLf","./is_typed_array_browser":"6ZmCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dE8ff:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"deleteDatabase",function(){return g}),a.export(r,"BrowserIndexedDB",function(){return y}),a.export(r,"indexedDBRouter",function(){return b}),a.export(r,"browserIndexedDB",function(){return k}),a.export(r,"BrowserIndexedDBManager",function(){return j});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var u=e("../environment"),l=e("./io_utils"),p=e("./router_registry"),f=e("./composite_array_buffer"),d="tensorflowjs",h="models_store",m="model_info_store";function g(){return v.apply(this,arguments)}function v(){return(v=(0,o._)(function(){var e;return(0,c._)(this,function(t){return e=_(),[2,new Promise(function(t,r){var n=e.deleteDatabase(d);n.onsuccess=function(){return t()},n.onerror=function(e){return r(e)}})]})})).apply(this,arguments)}function _(){if(!(0,u.env)().getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw Error("The current browser does not appear to support IndexedDB.");return t}function x(e){var t=e.result;t.createObjectStore(h,{keyPath:"modelPath"}),t.createObjectStore(m,{keyPath:"modelPath"})}var y=function(){"use strict";function e(t){if((0,s._)(this,e),this.indexedDB=_(),null==t||!t)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,i._)(e,[{key:"save",value:function(e){var t=this;return(0,o._)(function(){return(0,c._)(this,function(r){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,t.databaseAction(t.modelPath,e)]})})()}},{key:"load",value:function(){var e=this;return(0,o._)(function(){return(0,c._)(this,function(t){return[2,e.databaseAction(e.modelPath)]})})()}},{key:"databaseAction",value:function(e,t){var r=this;return new Promise(function(e,n){var a=r.indexedDB.open(d,1);a.onupgradeneeded=function(){return x(a)},a.onsuccess=function(){var o=a.result;if(null==t){var s=o.transaction(h,"readonly"),i=s.objectStore(h).get(r.modelPath);i.onsuccess=function(){if(null==i.result)return o.close(),n(Error("Cannot find model with path '".concat(r.modelPath,"' ")+"in IndexedDB."));e(i.result.modelArtifacts)},i.onerror=function(e){return o.close(),n(i.error)},s.oncomplete=function(){return o.close()}}else{t.weightData=f.CompositeArrayBuffer.join(t.weightData);var c,u,p=(0,l.getModelArtifactsInfoForJSON)(t),d=o.transaction(m,"readwrite"),g=d.objectStore(m);try{c=g.put({modelPath:r.modelPath,modelArtifactsInfo:p})}catch(e){return n(e)}c.onsuccess=function(){var a,s=(u=o.transaction(h,"readwrite")).objectStore(h);try{a=s.put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:p})}catch(e){return n(e)}a.onsuccess=function(){return e({modelArtifactsInfo:p})},a.onerror=function(e){var t=(g=d.objectStore(m)).delete(r.modelPath);t.onsuccess=function(){return o.close(),n(a.error)},t.onerror=function(e){return o.close(),n(a.error)}}},c.onerror=function(e){return o.close(),n(c.error)},d.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return n(a.error)}})}}]),e}();y.URL_SCHEME="indexeddb://";var b=function(e){return(0,u.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?k(e.slice(y.URL_SCHEME.length)):null};function k(e){return new y(e)}p.IORouterRegistry.registerSaveRouter(b),p.IORouterRegistry.registerLoadRouter(b);var j=function(){"use strict";function e(){(0,s._)(this,e),this.indexedDB=_()}return(0,i._)(e,[{key:"listModels",value:function(){var e=this;return(0,o._)(function(){return(0,c._)(this,function(t){return[2,new Promise(function(t,r){var n=e.indexedDB.open(d,1);n.onupgradeneeded=function(){return x(n)},n.onsuccess=function(){var e=n.result,a=e.transaction(m,"readonly"),o=a.objectStore(m).getAll();o.onsuccess=function(){var e={},r=!0,n=!1,a=void 0;try{for(var s,i=o.result[Symbol.iterator]();!(r=(s=i.next()).done);r=!0){var c=s.value;e[c.modelPath]=c.modelArtifactsInfo}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}t(e)},o.onerror=function(t){return e.close(),r(o.error)},a.oncomplete=function(){return e.close()}},n.onerror=function(e){return r(n.error)}})]})})()}},{key:"removeModel",value:function(e){var t=this;return(0,o._)(function(){return(0,c._)(this,function(r){var n;return e=(n=e).startsWith(y.URL_SCHEME)?n.slice(y.URL_SCHEME.length):n,[2,new Promise(function(r,n){var a=t.indexedDB.open(d,1);a.onupgradeneeded=function(){return x(a)},a.onsuccess=function(){var t,o=a.result,s=o.transaction(m,"readwrite"),i=s.objectStore(m),c=i.get(e);c.onsuccess=function(){if(null==c.result)return o.close(),n(Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));var a=i.delete(e),s=function(){var a=(t=o.transaction(h,"readwrite")).objectStore(h).delete(e);a.onsuccess=function(){return r(c.result.modelArtifactsInfo)},a.onerror=function(e){return n(c.error)}};a.onsuccess=s,a.onerror=function(e){return s(),o.close(),n(c.error)}},c.onerror=function(e){return o.close(),n(c.error)},s.oncomplete=function(){null==t?o.close():t.oncomplete=function(){return o.close()}}},a.onerror=function(e){return n(a.error)}})]})})()}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../flags":"8adxq","../environment":"8AL2D","./io_utils":"hm6ro","./router_registry":"3y9TL","./composite_array_buffer":"digvQ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hm6ro:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"encodeWeights",function(){return g}),a.export(r,"decodeWeights",function(){return _}),a.export(r,"decodeWeightsStream",function(){return j}),a.export(r,"concatenateTypedArrays",function(){return S}),a.export(r,"stringByteLength",function(){return T}),a.export(r,"arrayBufferToBase64String",function(){return N}),a.export(r,"base64StringToArrayBuffer",function(){return C}),a.export(r,"concatenateArrayBuffers",function(){return E}),a.export(r,"basename",function(){return F}),a.export(r,"getModelJSONForModelArtifacts",function(){return A}),a.export(r,"getModelArtifactsForJSONSync",function(){return P}),a.export(r,"getModelArtifactsForJSON",function(){return R}),a.export(r,"getModelArtifactsInfoForJSON",function(){return M}),a.export(r,"getWeightSpecs",function(){return O}),a.export(r,"getFloat16Decoder",function(){return L});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../ops/complex"),l=e("../ops/tensor"),p=e("../util"),f=e("./types"),d=e("./composite_array_buffer"),h=e("../globals"),m=e("../environment");function g(e,t){return v.apply(this,arguments)}function v(){return(v=(0,o._)(function(e,t){var r,n,a,s,i;return(0,c._)(this,function(u){switch(u.label){case 0:for(i=0,r=function(r){var i=s[r],u=Array.isArray(e)?e[r].tensor:e[i];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype&&"complex64"!==u.dtype)throw Error("Unsupported dtype in weight '".concat(i,"': ").concat(u.dtype));var l={name:i,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var p,f=new Promise((p=(0,o._)(function(e){var t,r,n,a,o,s;return(0,c._)(this,function(i){switch(i.label){case 0:return[4,u.bytes()];case 1:for(a=0,r=new Uint8Array((t=i.sent()).reduce(function(e,t){return e+t.length},0)+4*t.length),n=0;a<t.length;a++)s=new Uint8Array(new Uint32Array([(o=t[a]).length]).buffer),r.set(s,n),n+=4,r.set(o,n),n+=o.length;return e(r),[2]}})}),function(e){return p.apply(this,arguments)}));a.push(f)}else a.push(u.data());null!=t&&(l.group=t),n.push(l)},n=[],a=[],s=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);i<s.length;++i)r(i);return[4,Promise.all(a)];case 1:return[2,{data:S(u.sent()),specs:n}]}})})).apply(this,arguments)}function _(e,t){var r=new(0,d.CompositeArrayBuffer)(e),n={},a=0,o=!0,s=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,h=function(e,t){var r,n=(0,p.sizeFromShape)(e.shape);if("quantization"in e){var a=e.quantization;r=f.DTYPE_VALUE_SIZE_MAP[a.dtype]}else if("string"===e.dtype){for(var o=0,s=0;s<n;s++)o+=4+new Uint32Array(t(o,o+4))[0];return o}else r=f.DTYPE_VALUE_SIZE_MAP[e.dtype];return n*r}(l,function(e,t){return r.slice(a+e,a+t)});n[l.name]=y(l,r.slice(a,a+h)),a+=h}}catch(e){s=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw i}}return n}function x(){return(x=(0,o._)(function(e,t){var r,n,a,o,s,i;return(0,c._)(this,function(c){switch(c.label){case 0:if(r=(0,p.sizeFromShape)(e.shape),!("quantization"in e))return[3,1];return a=e.quantization,n=f.DTYPE_VALUE_SIZE_MAP[a.dtype],[3,7];case 1:if("string"!==e.dtype)return[3,6];o=0,s=0,c.label=2;case 2:if(!(s<r))return[3,5];return i=Uint32Array.bind,[4,t(o,o+4)];case 3:o+=4+(new(i.apply(Uint32Array,[void 0,c.sent()])))[0],c.label=4;case 4:return s++,[3,2];case 5:return[2,o];case 6:n=f.DTYPE_VALUE_SIZE_MAP[e.dtype],c.label=7;case 7:return[2,r*n]}})})).apply(this,arguments)}function y(e,t){var r,n=e.name,a=e.dtype,o=e.shape,s=(0,p.sizeFromShape)(o),i=0;if("quantization"in e){var c=e.quantization;if("uint8"===c.dtype||"uint16"===c.dtype){if(!("min"in c&&"scale"in c))throw Error("Weight ".concat(e.name," with quantization ").concat(c.dtype," ")+"doesn't have corresponding metadata min and scale.")}else if("float16"===c.dtype){if("float32"!==a)throw Error("Weight ".concat(e.name," is quantized with ").concat(c.dtype," ")+"which only supports weights of type float32 not ".concat(a,"."))}else throw Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(c.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");var d=f.DTYPE_VALUE_SIZE_MAP[c.dtype],h="uint8"===c.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===a)if("uint8"===c.dtype||"uint16"===c.dtype){r=new Float32Array(h.length);for(var m=0;m<h.length;m++){var g=h[m];r[m]=g*c.scale+c.min}}else if("float16"===c.dtype)r=L()(h);else throw Error("Unsupported quantization type ".concat(c.dtype," ")+"for weight type float32.");else if("int32"===a){if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw Error("Unsupported quantization type ".concat(c.dtype," ")+"for weight type int32.");r=new Int32Array(h.length);for(var v=0;v<h.length;v++){var _=h[v];r[v]=Math.round(_*c.scale+c.min)}}else throw Error("Unsupported dtype in weight '".concat(n,"': ").concat(a));i+=s*d}else if("string"===a){var x=(0,p.sizeFromShape)(e.shape);r=[];for(var y=0;y<x;y++){var b=new Uint32Array(t.slice(i,i+4))[0];i+=4;var k=new Uint8Array(t.slice(i,i+b));r.push(k),i+=b}}else{var j=f.DTYPE_VALUE_SIZE_MAP[a];if("float32"===a)r=new Float32Array(t);else if("int32"===a)r=new Int32Array(t);else if("bool"===a)r=new Uint8Array(t);else if("complex64"===a){r=new Float32Array(t);for(var w=new Float32Array(r.length/2),S=new Float32Array(r.length/2),I=0;I<w.length;I++)w[I]=r[2*I],S[I]=r[2*I+1];var T=(0,l.tensor)(w,o,"float32"),N=(0,l.tensor)(S,o,"float32"),C=(0,u.complex)(T,N);return T.dispose(),N.dispose(),C}else throw Error("Unsupported dtype in weight '".concat(n,"': ").concat(a));i+=s*j}return(0,l.tensor)(r,o,a)}function b(e,t,r){return k.apply(this,arguments)}function k(){return(k=(0,o._)(function(e,t,r){var n,a,o,s,i,u;return(0,c._)(this,function(c){switch(c.label){case 0:n=new Uint8Array(t),c.label=1;case 1:if(!(n.byteLength<r))return[3,3];return[4,e.read()];case 2:if(o=(a=c.sent()).done,s=a.value,o&&null==s)throw i=r-n.byteLength,Error("Reader is done but ".concat(i," bytes are still expected"));return(u=new Uint8Array(n.length+s.byteLength)).set(n,0),u.set(new Uint8Array(s),n.length),n=u,[3,1];case 3:return[2,n.buffer]}})})).apply(this,arguments)}function j(e,t){return w.apply(this,arguments)}function w(){return(w=(0,o._)(function(e,t){var r,n,a,s,i,u,l,f,d,g,v,_,k,j;return(0,c._)(this,function(w){switch(w.label){case 0:r={},n=e.getReader(),a=new ArrayBuffer(0),s=!0,i=!1,u=void 0,w.label=1;case 1:w.trys.push([1,7,8,9]),l=t[Symbol.iterator](),w.label=2;case 2:var S;if(s=(f=l.next()).done)return[3,6];return[4,function(e,t){return x.apply(this,arguments)}(d=f.value,(S=(0,o._)(function(e,t){return(0,c._)(this,function(r){switch(r.label){case 0:return[4,b(n,a,t)];case 1:return[2,(a=r.sent()).slice(e,t)]}})}),function(e,t){return S.apply(this,arguments)}))];case 3:return g=w.sent(),[4,b(n,a,g)];case 4:v=(a=w.sent()).slice(0,g),a=a.slice(g),_=y(d,v),r[d.name]=_,"webgpu"===(0,h.getBackend)()&&"uploadToGPU"in(k=(0,h.backend)())&&(0,p.sizeFromShape)(_.shape)>=(0,m.env)().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&k.uploadToGPU(_.dataId),w.label=5;case 5:return s=!0,[3,2];case 6:return[3,9];case 7:return j=w.sent(),i=!0,u=j,[3,9];case 8:try{s||null==l.return||l.return()}finally{if(i)throw u}return[7];case 9:return[2,r]}})})).apply(this,arguments)}function S(e){if(null===e)throw Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,r=[];e.forEach(function(e){if(t+=e.byteLength,r.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))});var n=new Uint8Array(t),a=0;return r.forEach(function(e){n.set(new Uint8Array(e.buffer),a),a+=e.byteLength}),n.buffer}var I="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function T(e){return I?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function N(e){if(I)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),r="",n=0,a=t.length;n<a;n++)r+=String.fromCharCode(t[n]);return btoa(r)}function C(e){if(I){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var r=atob(e),n=new Uint8Array(r.length),a=0;a<r.length;++a)n.set([r.charCodeAt(a)],a);return n.buffer}function E(e){return d.CompositeArrayBuffer.join(e)}function F(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function A(e,t){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),r}function P(e,t,r){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!r)throw Error("modelJSON has weightsManifest but weightData is null");n.weightSpecs=t,n.weightData=r}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),n}function R(e,t){return D.apply(this,arguments)}function D(){return(D=(0,o._)(function(e,t){var r,n,a;return(0,c._)(this,function(o){switch(o.label){case 0:if(null==e.weightsManifest)return[3,2];return[4,t(e.weightsManifest)];case 1:r=(a=s._.apply(void 0,[o.sent(),2]))[0],n=a[1],o.label=2;case 2:return[2,P(e,r,n)]}})})).apply(this,arguments)}function M(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:T(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:T(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new(0,d.CompositeArrayBuffer)(e.weightData).byteLength}}function O(e){var t=[],r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;t.push.apply(t,(0,i._)(c.weights))}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return t}function L(){var e=function(){var e=new Uint32Array(2048);e[0]=0;for(var t=1;t<1024;t++)e[t]=function(e){for(var t=e<<13,r=0;(8388608&t)==0;)r-=8388608,t<<=1;return(t&=-8388609)|(r+=0x38800000)}(t);for(var r=1024;r<2048;r++)e[r]=0x38000000+(r-1024<<13);return e}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=0x47800000,e[32]=0x80000000,e[63]=0xc7800000;for(var t=1;t<31;t++)e[t]=t<<23;for(var r=33;r<63;r++)e[r]=0x80000000+(r-32<<23);return e}(),r=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(n){for(var a=new ArrayBuffer(4*n.length),o=new Uint32Array(a),s=0;s<n.length;s++){var i=n[s],c=e[r[i>>10]+(1023&i)]+t[i>>10];o[s]=c}return new Float32Array(a)}}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../ops/complex":"4Yj8v","../ops/tensor":"5NoRV","../util":"5L87y","./types":"jVvy5","./composite_array_buffer":"digvQ","../globals":"74CiM","../environment":"8AL2D","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Yj8v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complex",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({complex_:function(e,t){var r=(0,i.convertToTensor)(e,"real","complex"),n=(0,i.convertToTensor)(t,"imag","complex");return c.assertShapesMatch(r.shape,n.shape,"real and imag shapes, ".concat(r.shape," and ").concat(n.shape,", ")+"must match in call to tf.complex()."),o.ENGINE.runKernel(s.Complex,{real:r,imag:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6H9ky":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"inferShape",function(){return p}),a.export(r,"convertToTensor",function(){return d}),a.export(r,"convertToTensorArray",function(){return h});var o=e("./engine"),s=e("./environment"),i=e("./tensor"),c=e("./types"),u=e("./util"),l=e("./util_base");function p(e,t){var r=e;if((0,u.isTypedArray)(e))return"string"===t?[]:[e.length];if((0,c.isWebGLData)(e)){var n=e.channels||"RGBA";return[e.height,e.width*n.length]}if((0,c.isWebGPUData)(e))return[e.buffer.size/(null==t?4:(0,l.bytesPerElement)(t))];if(!Array.isArray(e))return[];for(var a=[];Array.isArray(r)||(0,u.isTypedArray)(r)&&"string"!==t;)a.push(r.length),r=r[0];return Array.isArray(e)&&(0,s.env)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,r,n){if(n=n||[],!Array.isArray(t)&&!(0,u.isTypedArray)(t))return void(0,u.assert)(0===r.length,function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(r[0]," elements")});(0,u.assert)(r.length>0,function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")}),(0,u.assert)(t.length===r[0],function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(r[0]," ")+"elements, but has ".concat(t.length," elements")});for(var a=r.slice(1),o=0;o<t.length;++o)e(t[o],a,n.concat(o))}(e,a,[]),a}function f(e,t,r,n){if("string_or_numeric"!==e){if(null==e)throw Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw Error("Argument '".concat(r,"' passed to '").concat(n,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof(0,i.getGlobalTensorClass)())return f(n,e.dtype,t,r),e;var a=(0,u.inferDtype)(e);if("string"!==a&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),f(n,a,t,r),null==e||!(0,u.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var s=null==e?"null":e.constructor.name;throw Error("Argument '".concat(t,"' passed to '").concat(r,"' must be a ")+"Tensor or TensorLike, but got '".concat(s,"'"))}var c=p(e,a);(0,u.isTypedArray)(e)||Array.isArray(e)||(e=[e]);var l="string"!==a?(0,u.toTypedArray)(e,a):(0,u.flatten)(e,[],!0);return o.ENGINE.makeTensor(l,c,a)}function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw Error("Argument ".concat(t," passed to ").concat(r," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(function(e,a){return d(e,"".concat(t,"[").concat(a,"]"),r,n)})}},{"./engine":"hSfoX","./environment":"8AL2D","./tensor":"6yx3i","./types":"8Anyq","./util":"5L87y","./util_base":"h6qVW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"23NhK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OP_SCOPE_SUFFIX",function(){return c}),a.export(r,"op",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("../engine"),i=e("../util"),c="__op";function u(e){var t=Object.keys(e);if(1!==t.length)throw Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var r=t[0],n=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var a=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];s.ENGINE.startScope(r);try{var c=n.apply(void 0,(0,o._)(t));return(0,i.isPromise)(c)&&console.error("Cannot return a Promise inside of tidy."),s.ENGINE.endScope(c),c}catch(e){throw s.ENGINE.endScope(null),e}};return Object.defineProperty(a,"name",{value:r+=c,configurable:!0}),a}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","../engine":"hSfoX","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5NoRV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor",function(){return i});var o=e("../tensor_util_env"),s=e("./tensor_ops_util");function i(e,t,r){var n=(0,o.inferShape)(e,r);return(0,s.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1YAhm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeTensor",function(){return c});var o=e("../engine"),s=e("../types"),i=e("../util");function c(e,t,r,n){if(null==n)n=(0,i.inferDtype)(e);else if("complex64"===n)throw Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if((0,s.isWebGPUData)(e)||(0,s.isWebGLData)(e)){if("float32"!==n&&"int32"!==n)throw Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(n,"."));return o.ENGINE.backend.createTensorFromGPUData(e,t||r,n)}if(!(0,i.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.assertNonNegativeIntegerDimensions)(t);var a=(0,i.sizeFromShape)(t),c=(0,i.sizeFromShape)(r);(0,i.assert)(a===c,function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(c)});for(var u=0;u<r.length;++u){var l=r[u],p=u!==r.length-1||l!==(0,i.sizeFromShape)(t.slice(u));(0,i.assert)(r[u]===t[u]||!p,function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(r,") does not match the provided ")+"shape (".concat(t,"). ")})}}return(0,i.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||r,e="string"!==n?(0,i.toTypedArray)(e,n):(0,i.flatten)(e,[],!0),o.ENGINE.makeTensor(e,t,n)}},{"../engine":"hSfoX","../types":"8Anyq","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jVvy5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DTYPE_VALUE_SIZE_MAP",function(){return o});var o={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],digvQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CompositeArrayBuffer",function(){return c}),a.export(r,"search",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("../util"),c=function(){"use strict";function e(t){if(((0,o._)(this,e),this.shards=[],this.previousShardIndex=0,null!=t)&&(t instanceof Array||(t=[t]),0!==(t=t.map(function(e){return i.isTypedArray(e)?e.buffer:e})).length)){this.bufferUniformSize=t[0].byteLength;for(var r=0,n=0;n<t.length;n++){var a=t[n];n!==t.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);var s=r+a.byteLength;this.shards.push({buffer:a,start:r,end:s}),r=s}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}}return(0,s._)(e,[{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length||(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e))return new ArrayBuffer(0);var r=this.findShardForByte(e);if(-1===r)throw Error("Could not find start shard for byte ".concat(e));for(var n=new ArrayBuffer(t-e),a=new Uint8Array(n),o=0,s=r;s<this.shards.length;s++){var i=this.shards[s],c=e+o-i.start,u=o,l=Math.min(t,i.end)-i.start,p=new Uint8Array(i.buffer,c,l-c);if(a.set(p,u),o+=p.length,t<i.end)break}return n}},{key:"findShardForByte",value:function(e){if(0===this.shards.length||e<0||e>=this.byteLength)return -1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:+(e>=t.end)}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;var r=u(this.shards,t);return -1===r?-1:(this.previousShardIndex=r,this.previousShardIndex)}}],[{key:"join",value:function(t){return new e(t).slice()}}]),e}();function u(e,t){for(var r=0,n=e.length;r<=n;){var a=Math.floor((n-r)/2)+r,o=t(e[a]);if(0===o)return a;o<0?n=a:r=a+1}return -1}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"74CiM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"enableProdMode",function(){return u}),a.export(r,"enableDebugMode",function(){return l}),a.export(r,"disableDeprecationWarnings",function(){return p}),a.export(r,"deprecationWarn",function(){return f}),a.export(r,"disposeVariables",function(){return d}),a.export(r,"engine",function(){return h}),a.export(r,"memory",function(){return m}),a.export(r,"profile",function(){return g}),a.export(r,"tidy",function(){return v}),a.export(r,"dispose",function(){return _}),a.export(r,"keep",function(){return x}),a.export(r,"time",function(){return y}),a.export(r,"setBackend",function(){return b}),a.export(r,"ready",function(){return k}),a.export(r,"getBackend",function(){return j}),a.export(r,"removeBackend",function(){return w}),a.export(r,"findBackend",function(){return S}),a.export(r,"findBackendFactory",function(){return I}),a.export(r,"registerBackend",function(){return T}),a.export(r,"backend",function(){return N}),a.export(r,"setPlatform",function(){return C});var o=e("./engine"),s=e("./environment"),i=e("./tensor"),c=e("./tensor_util");function u(){(0,s.env)().set("PROD",!0)}function l(){(0,s.env)().set("DEBUG",!0)}function p(){(0,s.env)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function f(e){(0,s.env)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){o.ENGINE.disposeVariables()}function h(){return o.ENGINE}function m(){return o.ENGINE.memory()}function g(e){return o.ENGINE.profile(e)}function v(e,t){return o.ENGINE.tidy(e,t)}function _(e){(0,c.getTensorsInContainer)(e).forEach(function(e){return e.dispose()})}function x(e){return o.ENGINE.keep(e)}function y(e){return o.ENGINE.time(e)}function b(e){return o.ENGINE.setBackend(e)}function k(){return o.ENGINE.ready()}function j(){return o.ENGINE.backendName}function w(e){o.ENGINE.removeBackend(e)}function S(e){return o.ENGINE.findBackend(e)}function I(e){return o.ENGINE.findBackendFactory(e)}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return o.ENGINE.registerBackend(e,t,r)}function N(){return o.ENGINE.backend}function C(e,t){(0,s.env)().setPlatform(e,t)}(0,i.setDeprecationWarningFn)(f)},{"./engine":"hSfoX","./environment":"8AL2D","./tensor":"6yx3i","./tensor_util":"ilCpq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3y9TL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"IORouterRegistry",function(){return i}),a.export(r,"registerSaveRouter",function(){return c}),a.export(r,"registerLoadRouter",function(){return u}),a.export(r,"getSaveHandlers",function(){return l}),a.export(r,"getLoadHandlers",function(){return p});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){(0,o._)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,s._)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,r){return e.getHandlers(t,"load",r)}},{key:"getHandlers",value:function(t,r,n){var a=[];return("load"===r?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var r=e(t,n);null!==r&&a.push(r)}),a}}]),e}(),c=function(e){return i.registerSaveRouter(e)},u=function(e){return i.registerLoadRouter(e)},l=function(e){return i.getSaveHandlers(e)},p=function(e,t){return i.getLoadHandlers(e,t)}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],acJMR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"purgeLocalStorageArtifacts",function(){return g}),a.export(r,"BrowserLocalStorage",function(){return y}),a.export(r,"localStorageRouter",function(){return b}),a.export(r,"browserLocalStorage",function(){return k}),a.export(r,"BrowserLocalStorageManager",function(){return j});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var u=e("../environment"),l=e("../util"),p=e("./io_utils"),f=e("./composite_array_buffer"),d=e("./router_registry"),h="tensorflowjs_models",m="info";function g(){if(!(0,u.env)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");for(var e=window.localStorage,t=[],r=0;r<e.length;++r){var n=e.key(r),a=h+"/";if(n.startsWith(a)&&n.length>a.length){e.removeItem(n);var o=x(n);-1===t.indexOf(o)&&t.push(o)}}return t}function v(e){return{info:[h,e,m].join("/"),topology:[h,e,"model_topology"].join("/"),weightSpecs:[h,e,"weight_specs"].join("/"),weightData:[h,e,"weight_data"].join("/"),modelMetadata:[h,e,"model_metadata"].join("/")}}function _(e){var t=!0,r=!1,n=void 0;try{for(var a,o=Object.values(e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;window.localStorage.removeItem(s)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}function x(e){var t=e.split("/");if(t.length<3)throw Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join("/")}var y=function(){"use strict";function e(t){if((0,s._)(this,e),!(0,u.env)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=v(this.modelPath)}return(0,i._)(e,[{key:"save",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s;return(0,c._)(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=(0,p.getModelArtifactsInfoForJSON)(e),o=f.CompositeArrayBuffer.join(e.weightData);try{return t.LS.setItem(t.keys.info,JSON.stringify(a)),t.LS.setItem(t.keys.topology,r),t.LS.setItem(t.keys.weightSpecs,n),t.LS.setItem(t.keys.weightData,(0,p.arrayBufferToBase64String)(o)),s={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0},t.LS.setItem(t.keys.modelMetadata,JSON.stringify(s)),[2,{modelArtifactsInfo:a}]}catch(e){throw _(t.keys),Error("Failed to save model '".concat(t.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."))}})})()}},{key:"load",value:function(){var e=this;return(0,o._)(function(){var t,r,n,a,o,s,i;return(0,c._)(this,function(c){if(null==(t=JSON.parse(e.LS.getItem(e.keys.info))))throw Error("In local storage, there is no model with name '".concat(e.modelPath,"'"));if("JSON"!==t.modelTopologyType)throw Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},null==(n=JSON.parse(e.LS.getItem(e.keys.topology))))throw Error("In local storage, the topology of model '".concat(e.modelPath,"' ")+"is missing.");if(r.modelTopology=n,null==(a=JSON.parse(e.LS.getItem(e.keys.weightSpecs))))throw Error("In local storage, the weight specs of model '".concat(e.modelPath,"' ")+"are missing.");if(r.weightSpecs=a,null!=(o=e.LS.getItem(e.keys.modelMetadata))&&(r.format=(s=JSON.parse(o)).format,r.generatedBy=s.generatedBy,r.convertedBy=s.convertedBy,null!=s.signature&&(r.signature=s.signature),null!=s.userDefinedMetadata&&(r.userDefinedMetadata=s.userDefinedMetadata),null!=s.modelInitializer&&(r.modelInitializer=s.modelInitializer),null!=s.initializerSignature&&(r.initializerSignature=s.initializerSignature),null!=s.trainingConfig&&(r.trainingConfig=s.trainingConfig)),null==(i=e.LS.getItem(e.keys.weightData)))throw Error("In local storage, the binary weight values of model "+"'".concat(e.modelPath,"' are missing."));return r.weightData=(0,p.base64StringToArrayBuffer)(i),[2,r]})})()}}]),e}();y.URL_SCHEME="localstorage://";var b=function(e){return(0,u.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(y.URL_SCHEME)?k(e.slice(y.URL_SCHEME.length)):null};function k(e){return new y(e)}d.IORouterRegistry.registerSaveRouter(b),d.IORouterRegistry.registerLoadRouter(b);var j=function(){"use strict";function e(){(0,s._)(this,e),(0,l.assert)((0,u.env)().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),(0,l.assert)("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return(0,i._)(e,[{key:"listModels",value:function(){var e=this;return(0,o._)(function(){var t,r,n,a,o;return(0,c._)(this,function(s){for(a=0,t={},r=h+"/",n="/"+m;a<e.LS.length;++a)(o=e.LS.key(a)).startsWith(r)&&o.endsWith(n)&&(t[x(o)]=JSON.parse(e.LS.getItem(o)));return[2,t]})})()}},{key:"removeModel",value:function(e){var t=this;return(0,o._)(function(){var r,n;return(0,c._)(this,function(a){var o;if(r=v(e=(o=e).startsWith(y.URL_SCHEME)?o.slice(y.URL_SCHEME.length):o),null==t.LS.getItem(r.info))throw Error("Cannot find model at path '".concat(e,"'"));return n=JSON.parse(t.LS.getItem(r.info)),_(r),[2,n]})})()}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../flags":"8adxq","../environment":"8AL2D","../util":"5L87y","./io_utils":"hm6ro","./composite_array_buffer":"digvQ","./router_registry":"3y9TL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],B5yLf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ModelStoreManagerRegistry",function(){return p}),a.export(r,"moveModel",function(){return b}),a.export(r,"copyModel",function(){return x}),a.export(r,"removeModel",function(){return v}),a.export(r,"listModels",function(){return m});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../util"),l=e("./router_registry"),p=function(){"use strict";function e(){(0,s._)(this,e),this.managers={}}return(0,i._)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,r){(0,u.assert)(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith("://")&&(t=t.slice(0,t.indexOf("://"))),(0,u.assert)(t.length>0,function(){return"scheme must not be an empty string."});var n=e.getInstance();(0,u.assert)(null==n.managers[t],function(){return"A model store manager is already registered for scheme '".concat(t,"'.")}),n.managers[t]=r}},{key:"getManager",value:function(t){var r=e.getInstance().managers[t];if(null==r)throw Error("Cannot find model manager for scheme '".concat(t,"'"));return r}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function f(e){if(-1===e.indexOf("://"))throw Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(p.getSchemes().join(",")));return{scheme:e.split("://")[0],path:e.split("://")[1]}}function d(e,t){return h.apply(this,arguments)}function h(){return(h=(0,o._)(function(e,t){var r,n,a,o,s,i,d,h,m,g,v=arguments;return(0,c._)(this,function(c){switch(c.label){case 0:return r=v.length>2&&void 0!==v[2]&&v[2],(0,u.assert)(e!==t,function(){return"Old path and new path are the same: '".concat(e,"'")}),n=l.IORouterRegistry.getLoadHandlers(e),(0,u.assert)(n.length>0,function(){return"Copying failed because no load handler is found for source URL ".concat(e,".")}),(0,u.assert)(n.length<2,function(){return"Copying failed because more than one (".concat(n.length,") ")+"load handlers for source URL ".concat(e,".")}),a=n[0],o=l.IORouterRegistry.getSaveHandlers(t),(0,u.assert)(o.length>0,function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(t,".")}),(0,u.assert)(o.length<2,function(){return"Copying failed because more than one (".concat(n.length,") ")+"save handlers for destination URL ".concat(t,".")}),s=o[0],i=f(e).scheme,d=f(e).path,h=i===f(e).scheme,[4,a.load()];case 1:if(m=c.sent(),!(r&&h))return[3,3];return[4,p.getManager(i).removeModel(d)];case 2:c.sent(),c.label=3;case 3:return[4,s.save(m)];case 4:if(g=c.sent(),!(r&&!h))return[3,6];return[4,p.getManager(i).removeModel(d)];case 5:c.sent(),c.label=6;case 6:return[2,g.modelArtifactsInfo]}})})).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=(0,o._)(function(){var e,t,r,n,a,o,s,i,u,l;return(0,c._)(this,function(c){switch(c.label){case 0:e=p.getSchemes(),t={},r=!0,n=!1,a=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),o=e[Symbol.iterator](),c.label=2;case 2:if(r=(s=o.next()).done)return[3,5];return i=s.value,[4,p.getManager(i).listModels()];case 3:for(var f in u=c.sent())t[i+"://"+f]=u[f];c.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return l=c.sent(),n=!0,a=l,[3,8];case 7:try{r||null==o.return||o.return()}finally{if(n)throw a}return[7];case 8:return[2,t]}})})).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=(0,o._)(function(e){var t;return(0,c._)(this,function(r){return t=f(e),[2,p.getManager(t.scheme).removeModel(t.path)]})})).apply(this,arguments)}function x(e,t){return y.apply(this,arguments)}function y(){return(y=(0,o._)(function(e,t){return(0,c._)(this,function(r){return[2,d(e,t,!1)]})})).apply(this,arguments)}function b(e,t){return k.apply(this,arguments)}function k(){return(k=(0,o._)(function(e,t){return(0,c._)(this,function(r){return[2,d(e,t,!0)]})})).apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../util":"5L87y","./router_registry":"3y9TL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lJud2:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"getNodeFetch",function(){return u}),o.export(r,"resetSystemFetch",function(){return l}),o.export(r,"setSystemFetch",function(){return p}),o.export(r,"getSystemFetch",function(){return f}),o.export(r,"PlatformNode",function(){return d});var s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("../environment"),u={importFetch:function(){return e("1c9e5be66c0803cd")}};function l(){a=null}function p(e){a=e}function f(){return a}var d=function(){"use strict";function t(){(0,s._)(this,t),this.util=e("9b5adc76b70879d9"),this.textEncoder=new this.util.TextEncoder}return(0,i._)(t,[{key:"fetch",value:function(e,t){return null!=(0,c.env)().global.fetch?(0,c.env)().global.fetch(e,t):(null==a&&(a=u.importFetch()),a(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}},{key:"isTypedArray",value:function(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}]),t}();(0,c.env)().get("IS_NODE")&&!(0,c.env)().get("IS_BROWSER")&&(0,c.env)().setPlatform("node",new d)},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","../environment":"8AL2D","1c9e5be66c0803cd":"fJabD","9b5adc76b70879d9":"fJabD","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fJabD:[function(e,t,r,n){},{}],"3oGg4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"buffer",function(){return i});var o=e("../tensor"),s=e("../util");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2?arguments[2]:void 0;return t=t||"float32",s.assertNonNegativeIntegerDimensions(e),new(0,o.TensorBuffer)(e,t,r)}},{"../tensor":"6yx3i","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fGyHk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cast",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({cast_:function(e,t){var r=(0,i.convertToTensor)(e,"x","cast");if(!c.isValidDtype(t))throw Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==r.dtype||"string"!==t&&"string"===r.dtype)throw Error("Only strings can be casted to strings");return o.ENGINE.runKernel(s.Cast,{x:r},{dtype:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bBKSn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clone",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({clone_:function(e){var t=(0,i.convertToTensor)(e,"x","clone","string_or_numeric");return o.ENGINE.runKernel(s.Identity,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],erCZv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}a.defineInteropFlag(r),a.export(r,"print",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3mJml":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"registerOptimizers",function(){return h});var o=e("./adadelta_optimizer"),s=e("./adagrad_optimizer"),i=e("./adam_optimizer"),c=e("./adamax_optimizer"),u=e("./momentum_optimizer"),l=e("./rmsprop_optimizer"),p=e("./sgd_optimizer"),f=e("../serialization"),d=[o.AdadeltaOptimizer,s.AdagradOptimizer,i.AdamOptimizer,c.AdamaxOptimizer,u.MomentumOptimizer,l.RMSPropOptimizer,p.SGDOptimizer];function h(){var e=!0,t=!1,r=void 0;try{for(var n,a=d[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value;(0,f.registerClass)(o)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{"./adadelta_optimizer":"43bPv","./adagrad_optimizer":"7Lkv7","./adam_optimizer":"cQiav","./adamax_optimizer":"7ZUKi","./momentum_optimizer":"caXp9","./rmsprop_optimizer":"gaa5Y","./sgd_optimizer":"2x938","../serialization":"6bIxy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"43bPv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdadeltaOptimizer",function(){return y});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/ops"),_=e("../ops/square"),x=e("../ops/zeros_like"),y=function(e){"use strict";function t(e,r){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,i._)(this,t),(n=(0,s._)(this,t)).learningRate=e,n.rho=r,n.epsilon=a,n.accumulatedGrads=[],n.accumulatedUpdates=[],null==a&&(n.epsilon=f.ENGINE.backend.epsilon()),n}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=f.ENGINE.registeredVariables[r];null==t.accumulatedGrads[n]&&(t.accumulatedGrads[n]={originalName:"".concat(r,"/accum_grad"),variable:(0,d.tidy)(function(){return(0,x.zerosLike)(a).variable(!1)})}),null==t.accumulatedUpdates[n]&&(t.accumulatedUpdates[n]={originalName:"".concat(r,"/accum_var"),variable:(0,d.tidy)(function(){return(0,x.zerosLike)(a).variable(!1)})});var o=Array.isArray(e)?e[n].tensor:e[r];if(null!=o){var s=t.accumulatedGrads[n].variable,i=t.accumulatedUpdates[n].variable;(0,d.tidy)(function(){var e=(0,h.add)((0,g.mul)(s,t.rho),(0,g.mul)((0,_.square)(o),1-t.rho)),r=(0,g.mul)((0,m.div)((0,v.sqrt)((0,h.add)(i,t.epsilon)),(0,v.sqrt)((0,h.add)(s,t.epsilon))),o),n=(0,h.add)((0,g.mul)(i,t.rho),(0,g.mul)((0,_.square)(r),1-t.rho));s.assign(e),i.assign(n);var c=(0,h.add)((0,g.mul)(r,-t.learningRate),a);a.assign(c)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,d.dispose)(this.accumulatedGrads.map(function(e){return e.variable})),(0,d.dispose)(this.accumulatedUpdates.map(function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){var t;return(0,p._)(this,function(r){switch(r.label){case 0:return t=(0,l._)(e.accumulatedGrads).concat((0,l._)(e.accumulatedUpdates)),[4,e.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,p._)(this,function(n){switch(n.label){case 0:return[4,t.extractIterations(e)];case 1:return r=(e=n.sent()).length/2,t.accumulatedGrads=e.slice(0,r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),t.accumulatedUpdates=e.slice(r,2*r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adadelta"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/div":"guYTU","../ops/mul":"6PT7e","../ops/ops":"hDvbm","../ops/square":"7VgfQ","../ops/zeros_like":"ivNIK","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dD0ce:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"add",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({add_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","add"),a=(0,u.convertToTensor)(t,"b","add"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Add,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],guYTU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"div",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./floorDiv"),p=(0,e("./operation").op)({div_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","div"),a=(0,u.convertToTensor)(t,"b","div");if(n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"int32"===n.dtype&&"int32"===a.dtype)return(0,l.floorDiv)(n,a);var p={a:n,b:a};return s.ENGINE.runKernel(i.RealDiv,p,{})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./floorDiv":"5DJ9K","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5DJ9K":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDiv",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({floorDiv_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","floorDiv"),a=(0,u.convertToTensor)(t,"b","floorDiv"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.FloorDiv,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6PT7e":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mul",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({mul_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","mul"),a=(0,u.convertToTensor)(t,"b","mul"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Multiply,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hDvbm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return o.abs}),a.export(r,"acos",function(){return s.acos}),a.export(r,"acosh",function(){return i.acosh}),a.export(r,"add",function(){return c.add}),a.export(r,"addN",function(){return u.addN}),a.export(r,"all",function(){return l.all}),a.export(r,"any",function(){return p.any}),a.export(r,"argMax",function(){return f.argMax}),a.export(r,"argMin",function(){return d.argMin}),a.export(r,"asin",function(){return h.asin}),a.export(r,"asinh",function(){return m.asinh}),a.export(r,"atan",function(){return g.atan}),a.export(r,"atan2",function(){return v.atan2}),a.export(r,"atanh",function(){return _.atanh}),a.export(r,"avgPool",function(){return x.avgPool}),a.export(r,"avgPool3d",function(){return y.avgPool3d}),a.export(r,"basicLSTMCell",function(){return b.basicLSTMCell}),a.export(r,"batchToSpaceND",function(){return k.batchToSpaceND}),a.export(r,"batchNorm",function(){return j.batchNorm}),a.export(r,"batchNorm2d",function(){return w.batchNorm2d}),a.export(r,"batchNorm3d",function(){return S.batchNorm3d}),a.export(r,"batchNorm4d",function(){return I.batchNorm4d}),a.export(r,"bincount",function(){return T.bincount}),a.export(r,"bitwiseAnd",function(){return N.bitwiseAnd}),a.export(r,"broadcastArgs",function(){return C.broadcastArgs}),a.export(r,"broadcastTo",function(){return E.broadcastTo}),a.export(r,"buffer",function(){return F.buffer}),a.export(r,"cast",function(){return A.cast}),a.export(r,"ceil",function(){return P.ceil}),a.export(r,"clipByValue",function(){return R.clipByValue}),a.export(r,"clone",function(){return D.clone}),a.export(r,"complex",function(){return M.complex}),a.export(r,"concat",function(){return O.concat}),a.export(r,"concat1d",function(){return L.concat1d}),a.export(r,"concat2d",function(){return V.concat2d}),a.export(r,"concat3d",function(){return U.concat3d}),a.export(r,"concat4d",function(){return B.concat4d}),a.export(r,"conv1d",function(){return z.conv1d}),a.export(r,"conv2d",function(){return G.conv2d}),a.export(r,"conv2dTranspose",function(){return W.conv2dTranspose}),a.export(r,"conv3d",function(){return q.conv3d}),a.export(r,"conv3dTranspose",function(){return H.conv3dTranspose}),a.export(r,"cos",function(){return Z.cos}),a.export(r,"cosh",function(){return K.cosh}),a.export(r,"cumprod",function(){return X.cumprod}),a.export(r,"cumsum",function(){return Y.cumsum}),a.export(r,"denseBincount",function(){return J.denseBincount}),a.export(r,"depthToSpace",function(){return Q.depthToSpace}),a.export(r,"depthwiseConv2d",function(){return $.depthwiseConv2d}),a.export(r,"diag",function(){return ee.diag}),a.export(r,"dilation2d",function(){return et.dilation2d}),a.export(r,"div",function(){return er.div}),a.export(r,"divNoNan",function(){return en.divNoNan}),a.export(r,"dot",function(){return ea.dot}),a.export(r,"einsum",function(){return eo.einsum}),a.export(r,"elu",function(){return es.elu}),a.export(r,"ensureShape",function(){return ei.ensureShape}),a.export(r,"equal",function(){return ec.equal}),a.export(r,"erf",function(){return eu.erf}),a.export(r,"euclideanNorm",function(){return el.euclideanNorm}),a.export(r,"exp",function(){return ep.exp}),a.export(r,"expandDims",function(){return ef.expandDims}),a.export(r,"expm1",function(){return ed.expm1}),a.export(r,"eye",function(){return eh.eye}),a.export(r,"fill",function(){return em.fill}),a.export(r,"floor",function(){return eg.floor}),a.export(r,"floorDiv",function(){return ev.floorDiv}),a.export(r,"gather",function(){return e_.gather}),a.export(r,"greater",function(){return ex.greater}),a.export(r,"greaterEqual",function(){return ey.greaterEqual}),a.export(r,"imag",function(){return eb.imag}),a.export(r,"isFinite",function(){return ek.isFinite}),a.export(r,"isInf",function(){return ej.isInf}),a.export(r,"isNaN",function(){return ew.isNaN}),a.export(r,"leakyRelu",function(){return eS.leakyRelu}),a.export(r,"less",function(){return eI.less}),a.export(r,"lessEqual",function(){return eT.lessEqual}),a.export(r,"linspace",function(){return eN.linspace}),a.export(r,"localResponseNormalization",function(){return eC.localResponseNormalization}),a.export(r,"log",function(){return eE.log}),a.export(r,"log1p",function(){return eF.log1p}),a.export(r,"logSigmoid",function(){return eA.logSigmoid}),a.export(r,"logSoftmax",function(){return eP.logSoftmax}),a.export(r,"logSumExp",function(){return eR.logSumExp}),a.export(r,"logicalAnd",function(){return eD.logicalAnd}),a.export(r,"logicalNot",function(){return eM.logicalNot}),a.export(r,"logicalOr",function(){return eO.logicalOr}),a.export(r,"logicalXor",function(){return eL.logicalXor}),a.export(r,"lowerBound",function(){return eV.lowerBound}),a.export(r,"matMul",function(){return eU.matMul}),a.export(r,"max",function(){return eB.max}),a.export(r,"maxPool",function(){return ez.maxPool}),a.export(r,"maxPool3d",function(){return eG.maxPool3d}),a.export(r,"maxPoolWithArgmax",function(){return eW.maxPoolWithArgmax}),a.export(r,"maximum",function(){return eq.maximum}),a.export(r,"mean",function(){return eH.mean}),a.export(r,"meshgrid",function(){return eZ.meshgrid}),a.export(r,"min",function(){return eK.min}),a.export(r,"minimum",function(){return eX.minimum}),a.export(r,"mirrorPad",function(){return eY.mirrorPad}),a.export(r,"mod",function(){return eJ.mod}),a.export(r,"moments",function(){return eQ.moments}),a.export(r,"mul",function(){return e$.mul}),a.export(r,"multiRNNCell",function(){return e0.multiRNNCell}),a.export(r,"multinomial",function(){return e1.multinomial}),a.export(r,"neg",function(){return e2.neg}),a.export(r,"notEqual",function(){return e3.notEqual}),a.export(r,"oneHot",function(){return e4.oneHot}),a.export(r,"ones",function(){return e8.ones}),a.export(r,"onesLike",function(){return e6.onesLike}),a.export(r,"outerProduct",function(){return e5.outerProduct}),a.export(r,"pad",function(){return e7.pad}),a.export(r,"pad1d",function(){return e9.pad1d}),a.export(r,"pad2d",function(){return te.pad2d}),a.export(r,"pad3d",function(){return tt.pad3d}),a.export(r,"pad4d",function(){return tr.pad4d}),a.export(r,"pool",function(){return tn.pool}),a.export(r,"pow",function(){return ta.pow}),a.export(r,"prelu",function(){return to.prelu}),a.export(r,"print",function(){return ts.print}),a.export(r,"prod",function(){return ti.prod}),a.export(r,"raggedGather",function(){return tc.raggedGather}),a.export(r,"raggedRange",function(){return tu.raggedRange}),a.export(r,"raggedTensorToTensor",function(){return tl.raggedTensorToTensor}),a.export(r,"rand",function(){return tp.rand}),a.export(r,"randomGamma",function(){return tf.randomGamma}),a.export(r,"randomNormal",function(){return td.randomNormal}),a.export(r,"randomStandardNormal",function(){return th.randomStandardNormal}),a.export(r,"randomUniform",function(){return tm.randomUniform}),a.export(r,"randomUniformInt",function(){return tg.randomUniformInt}),a.export(r,"range",function(){return tv.range}),a.export(r,"real",function(){return t_.real}),a.export(r,"reciprocal",function(){return tx.reciprocal}),a.export(r,"relu",function(){return ty.relu}),a.export(r,"relu6",function(){return tb.relu6}),a.export(r,"reshape",function(){return tk.reshape}),a.export(r,"reverse",function(){return tj.reverse}),a.export(r,"reverse1d",function(){return tw.reverse1d}),a.export(r,"reverse2d",function(){return tS.reverse2d}),a.export(r,"reverse3d",function(){return tI.reverse3d}),a.export(r,"reverse4d",function(){return tT.reverse4d}),a.export(r,"round",function(){return tN.round}),a.export(r,"rsqrt",function(){return tC.rsqrt}),a.export(r,"scalar",function(){return tE.scalar}),a.export(r,"selu",function(){return tF.selu}),a.export(r,"separableConv2d",function(){return tA.separableConv2d}),a.export(r,"setdiff1dAsync",function(){return tP.setdiff1dAsync}),a.export(r,"sigmoid",function(){return tR.sigmoid}),a.export(r,"sign",function(){return tD.sign}),a.export(r,"sin",function(){return tM.sin}),a.export(r,"sinh",function(){return tO.sinh}),a.export(r,"slice",function(){return tL.slice}),a.export(r,"slice1d",function(){return tV.slice1d}),a.export(r,"slice2d",function(){return tU.slice2d}),a.export(r,"slice3d",function(){return tB.slice3d}),a.export(r,"slice4d",function(){return tz.slice4d}),a.export(r,"softmax",function(){return tG.softmax}),a.export(r,"softplus",function(){return tW.softplus}),a.export(r,"spaceToBatchND",function(){return tq.spaceToBatchND}),a.export(r,"fft",function(){return tH.fft}),a.export(r,"ifft",function(){return tZ.ifft}),a.export(r,"irfft",function(){return tK.irfft}),a.export(r,"rfft",function(){return tX.rfft}),a.export(r,"split",function(){return tY.split}),a.export(r,"sqrt",function(){return tJ.sqrt}),a.export(r,"square",function(){return tQ.square}),a.export(r,"squaredDifference",function(){return t$.squaredDifference}),a.export(r,"squeeze",function(){return t0.squeeze}),a.export(r,"stack",function(){return t1.stack}),a.export(r,"step",function(){return t2.step}),a.export(r,"stridedSlice",function(){return t3.stridedSlice}),a.export(r,"sub",function(){return t4.sub}),a.export(r,"sum",function(){return t8.sum}),a.export(r,"tan",function(){return t6.tan}),a.export(r,"tanh",function(){return t5.tanh}),a.export(r,"tensor",function(){return t7.tensor}),a.export(r,"tensor1d",function(){return t9.tensor1d}),a.export(r,"tensor2d",function(){return re.tensor2d}),a.export(r,"tensor3d",function(){return rt.tensor3d}),a.export(r,"tensor4d",function(){return rr.tensor4d}),a.export(r,"tensor5d",function(){return rn.tensor5d}),a.export(r,"tensor6d",function(){return ra.tensor6d}),a.export(r,"tensorScatterUpdate",function(){return ro.tensorScatterUpdate}),a.export(r,"tile",function(){return rs.tile}),a.export(r,"topk",function(){return ri.topk}),a.export(r,"truncatedNormal",function(){return rc.truncatedNormal}),a.export(r,"unique",function(){return ru.unique}),a.export(r,"unsortedSegmentSum",function(){return rl.unsortedSegmentSum}),a.export(r,"unstack",function(){return rp.unstack}),a.export(r,"upperBound",function(){return rf.upperBound}),a.export(r,"variable",function(){return rd.variable}),a.export(r,"where",function(){return rh.where}),a.export(r,"whereAsync",function(){return rm.whereAsync}),a.export(r,"zeros",function(){return rg.zeros}),a.export(r,"zerosLike",function(){return rv.zerosLike}),a.export(r,"op",function(){return rC.op}),a.export(r,"OP_SCOPE_SUFFIX",function(){return rC.OP_SCOPE_SUFFIX}),a.export(r,"image",function(){return nc}),a.export(r,"linalg",function(){return nu}),a.export(r,"losses",function(){return nl}),a.export(r,"spectral",function(){return ns}),a.export(r,"fused",function(){return rE}),a.export(r,"signal",function(){return ni}),a.export(r,"sparse",function(){return np}),a.export(r,"string",function(){return nf});var o=e("./abs"),s=e("./acos"),i=e("./acosh"),c=e("./add"),u=e("./add_n"),l=e("./all"),p=e("./any"),f=e("./arg_max"),d=e("./arg_min"),h=e("./asin"),m=e("./asinh"),g=e("./atan"),v=e("./atan2"),_=e("./atanh"),x=e("./avg_pool"),y=e("./avg_pool_3d"),b=e("./basic_lstm_cell"),k=e("./batch_to_space_nd"),j=e("./batchnorm"),w=e("./batchnorm2d"),S=e("./batchnorm3d"),I=e("./batchnorm4d"),T=e("./bincount"),N=e("./bitwise_and"),C=e("./broadcast_args"),E=e("./broadcast_to"),F=e("./buffer"),A=e("./cast"),P=e("./ceil"),R=e("./clip_by_value"),D=e("./clone"),M=e("./complex"),O=e("./concat"),L=e("./concat_1d"),V=e("./concat_2d"),U=e("./concat_3d"),B=e("./concat_4d"),z=e("./conv1d"),G=e("./conv2d"),W=e("./conv2d_transpose"),q=e("./conv3d"),H=e("./conv3d_transpose"),Z=e("./cos"),K=e("./cosh"),X=e("./cumprod"),Y=e("./cumsum"),J=e("./dense_bincount"),Q=e("./depth_to_space"),$=e("./depthwise_conv2d"),ee=e("./diag"),et=e("./dilation2d"),er=e("./div"),en=e("./div_no_nan"),ea=e("./dot"),eo=e("./einsum"),es=e("./elu"),ei=e("./ensure_shape"),ec=e("./equal"),eu=e("./erf"),el=e("./euclidean_norm"),ep=e("./exp"),ef=e("./expand_dims"),ed=e("./expm1"),eh=e("./eye"),em=e("./fill"),eg=e("./floor"),ev=e("./floorDiv"),e_=e("./gather"),ex=e("./greater"),ey=e("./greater_equal"),eb=e("./imag"),ek=e("./is_finite"),ej=e("./is_inf"),ew=e("./is_nan"),eS=e("./leaky_relu"),eI=e("./less"),eT=e("./less_equal"),eN=e("./linspace"),eC=e("./local_response_normalization"),eE=e("./log"),eF=e("./log1p"),eA=e("./log_sigmoid"),eP=e("./log_softmax"),eR=e("./log_sum_exp"),eD=e("./logical_and"),eM=e("./logical_not"),eO=e("./logical_or"),eL=e("./logical_xor"),eV=e("./lower_bound"),eU=e("./mat_mul"),eB=e("./max"),ez=e("./max_pool"),eG=e("./max_pool_3d"),eW=e("./max_pool_with_argmax"),eq=e("./maximum"),eH=e("./mean"),eZ=e("./meshgrid"),eK=e("./min"),eX=e("./minimum"),eY=e("./mirror_pad"),eJ=e("./mod"),eQ=e("./moments"),e$=e("./mul"),e0=e("./multi_rnn_cell"),e1=e("./multinomial"),e2=e("./neg"),e3=e("./not_equal"),e4=e("./one_hot"),e8=e("./ones"),e6=e("./ones_like"),e5=e("./outer_product"),e7=e("./pad"),e9=e("./pad1d"),te=e("./pad2d"),tt=e("./pad3d"),tr=e("./pad4d"),tn=e("./pool"),ta=e("./pow"),to=e("./prelu"),ts=e("./print"),ti=e("./prod"),tc=e("./ragged_gather"),tu=e("./ragged_range"),tl=e("./ragged_tensor_to_tensor"),tp=e("./rand"),tf=e("./random_gamma"),td=e("./random_normal"),th=e("./random_standard_normal"),tm=e("./random_uniform"),tg=e("./random_uniform_int"),tv=e("./range"),t_=e("./real"),tx=e("./reciprocal"),ty=e("./relu"),tb=e("./relu6"),tk=e("./reshape"),tj=e("./reverse"),tw=e("./reverse_1d"),tS=e("./reverse_2d"),tI=e("./reverse_3d"),tT=e("./reverse_4d"),tN=e("./round"),tC=e("./rsqrt"),tE=e("./scalar"),tF=e("./selu"),tA=e("./separable_conv2d"),tP=e("./setdiff1d_async"),tR=e("./sigmoid"),tD=e("./sign"),tM=e("./sin"),tO=e("./sinh"),tL=e("./slice"),tV=e("./slice1d"),tU=e("./slice2d"),tB=e("./slice3d"),tz=e("./slice4d"),tG=e("./softmax"),tW=e("./softplus"),tq=e("./space_to_batch_nd"),tH=e("./spectral/fft"),tZ=e("./spectral/ifft"),tK=e("./spectral/irfft"),tX=e("./spectral/rfft"),tY=e("./split"),tJ=e("./sqrt"),tQ=e("./square"),t$=e("./squared_difference"),t0=e("./squeeze"),t1=e("./stack"),t2=e("./step"),t3=e("./strided_slice"),t4=e("./sub"),t8=e("./sum"),t6=e("./tan"),t5=e("./tanh"),t7=e("./tensor"),t9=e("./tensor1d"),re=e("./tensor2d"),rt=e("./tensor3d"),rr=e("./tensor4d"),rn=e("./tensor5d"),ra=e("./tensor6d"),ro=e("./tensor_scatter_update"),rs=e("./tile"),ri=e("./topk"),rc=e("./truncated_normal"),ru=e("./unique"),rl=e("./unsorted_segment_sum"),rp=e("./unstack"),rf=e("./upper_bound"),rd=e("./variable"),rh=e("./where"),rm=e("./where_async"),rg=e("./zeros"),rv=e("./zeros_like"),r_=e("./boolean_mask");a.exportAll(r_,r);var rx=e("./transpose");a.exportAll(rx,r);var ry=e("./norm");a.exportAll(ry,r);var rb=e("./moving_average");a.exportAll(rb,r);var rk=e("./scatter_nd");a.exportAll(rk,r);var rj=e("./search_sorted");a.exportAll(rj,r);var rw=e("./sparse_to_dense");a.exportAll(rw,r);var rS=e("./gather_nd");a.exportAll(rS,r);var rI=e("./dropout");a.exportAll(rI,r);var rT=e("./signal_ops_util");a.exportAll(rT,r);var rN=e("./in_top_k");a.exportAll(rN,r);var rC=e("./operation"),rE=e("./fused_ops"),rF=e("./signal/hamming_window"),rA=e("./signal/hann_window"),rP=e("./signal/frame"),rR=e("./signal/stft"),rD=e("./image/crop_and_resize"),rM=e("./image/flip_left_right"),rO=e("./image/grayscale_to_rgb"),rL=e("./image/rgb_to_grayscale"),rV=e("./image/rotate_with_offset"),rU=e("./image/non_max_suppression"),rB=e("./image/non_max_suppression_async"),rz=e("./image/non_max_suppression_with_score"),rG=e("./image/non_max_suppression_with_score_async"),rW=e("./image/non_max_suppression_padded"),rq=e("./image/non_max_suppression_padded_async"),rH=e("./image/resize_bilinear"),rZ=e("./image/resize_nearest_neighbor"),rK=e("./image/threshold"),rX=e("./image/transform"),rY=e("./linalg/band_part"),rJ=e("./linalg/gram_schmidt"),rQ=e("./linalg/qr"),r$=e("./losses/absolute_difference"),r0=e("./losses/compute_weighted_loss"),r1=e("./losses/cosine_distance"),r2=e("./losses/hinge_loss"),r3=e("./losses/huber_loss"),r4=e("./losses/log_loss"),r8=e("./losses/mean_squared_error"),r6=e("./losses/sigmoid_cross_entropy"),r5=e("./losses/softmax_cross_entropy"),r7=e("./sparse/sparse_fill_empty_rows"),r9=e("./sparse/sparse_reshape"),ne=e("./sparse/sparse_segment_mean"),nt=e("./sparse/sparse_segment_sum"),nr=e("./string/string_n_grams"),nn=e("./string/string_split"),na=e("./string/string_to_hash_bucket_fast"),no=e("./string/static_regex_replace"),ns={fft:tH.fft,ifft:tZ.ifft,rfft:tX.rfft,irfft:tK.irfft},ni={hammingWindow:rF.hammingWindow,hannWindow:rA.hannWindow,frame:rP.frame,stft:rR.stft},nc={flipLeftRight:rM.flipLeftRight,grayscaleToRGB:rO.grayscaleToRGB,resizeNearestNeighbor:rZ.resizeNearestNeighbor,resizeBilinear:rH.resizeBilinear,rgbToGrayscale:rL.rgbToGrayscale,rotateWithOffset:rV.rotateWithOffset,cropAndResize:rD.cropAndResize,nonMaxSuppression:rU.nonMaxSuppression,nonMaxSuppressionAsync:rB.nonMaxSuppressionAsync,nonMaxSuppressionWithScore:rz.nonMaxSuppressionWithScore,nonMaxSuppressionWithScoreAsync:rG.nonMaxSuppressionWithScoreAsync,nonMaxSuppressionPadded:rW.nonMaxSuppressionPadded,nonMaxSuppressionPaddedAsync:rq.nonMaxSuppressionPaddedAsync,threshold:rK.threshold,transform:rX.transform},nu={bandPart:rY.bandPart,gramSchmidt:rJ.gramSchmidt,qr:rQ.qr},nl={absoluteDifference:r$.absoluteDifference,computeWeightedLoss:r0.computeWeightedLoss,cosineDistance:r1.cosineDistance,hingeLoss:r2.hingeLoss,huberLoss:r3.huberLoss,logLoss:r4.logLoss,meanSquaredError:r8.meanSquaredError,sigmoidCrossEntropy:r6.sigmoidCrossEntropy,softmaxCrossEntropy:r5.softmaxCrossEntropy},np={sparseFillEmptyRows:r7.sparseFillEmptyRows,sparseReshape:r9.sparseReshape,sparseSegmentMean:ne.sparseSegmentMean,sparseSegmentSum:nt.sparseSegmentSum},nf={stringNGrams:nr.stringNGrams,stringSplit:nn.stringSplit,stringToHashBucketFast:na.stringToHashBucketFast,staticRegexReplace:no.staticRegexReplace}},{"./abs":"l0gI3","./acos":"abcRj","./acosh":"i49XT","./add":"dD0ce","./add_n":"baKDF","./all":"4JQeI","./any":"9SeUq","./arg_max":"fka49","./arg_min":"7FLo9","./asin":"4Ykyd","./asinh":"k9f9j","./atan":"8lJHX","./atan2":"eanBd","./atanh":"69k1i","./avg_pool":"c72tI","./avg_pool_3d":"l3yHm","./basic_lstm_cell":"8giOC","./batch_to_space_nd":"jJjfM","./batchnorm":"8P0vL","./batchnorm2d":"2gcsy","./batchnorm3d":"aGkHf","./batchnorm4d":"1fbmj","./bincount":"egzJ5","./bitwise_and":"78O59","./broadcast_args":"9g32m","./broadcast_to":"3i6Ta","./buffer":"3oGg4","./cast":"fGyHk","./ceil":"eC6ZT","./clip_by_value":"5b6ob","./clone":"bBKSn","./complex":"4Yj8v","./concat":"hgCiG","./concat_1d":"RhaqM","./concat_2d":"bqFQf","./concat_3d":"cQGAX","./concat_4d":"bG2Zs","./conv1d":"8BRKv","./conv2d":"5PoKv","./conv2d_transpose":"hidzm","./conv3d":"8GZBV","./conv3d_transpose":"iugR4","./cos":"kH3LF","./cosh":"8YIVA","./cumprod":"6KKz1","./cumsum":"4KPwJ","./dense_bincount":"iEHLZ","./depth_to_space":"e4Rgp","./depthwise_conv2d":"k8VSg","./diag":"3KKP7","./dilation2d":"4Ux9L","./div":"guYTU","./div_no_nan":"aLBOr","./dot":"61oJD","./einsum":"1SRTv","./elu":"1NkbF","./ensure_shape":"2Orut","./equal":"bX5kh","./erf":"esVIV","./euclidean_norm":"eGc2O","./exp":"7bNTE","./expand_dims":"8AyIU","./expm1":"ekuN8","./eye":"3zjQP","./fill":"1zzPz","./floor":"6wQYX","./floorDiv":"5DJ9K","./gather":"9JiHz","./greater":"d2nQD","./greater_equal":"lKn6m","./imag":"jdH88","./is_finite":"dSpiR","./is_inf":"iCcl7","./is_nan":"bNS6C","./leaky_relu":"1K7b3","./less":"5JwUZ","./less_equal":"hEJ4U","./linspace":"hMcHv","./local_response_normalization":"f1rZJ","./log":"bq5Qf","./log1p":"9S55v","./log_sigmoid":"gIiiz","./log_softmax":"kFfe3","./log_sum_exp":"80fTx","./logical_and":"cdrF8","./logical_not":"jYdjG","./logical_or":"91ilU","./logical_xor":"ijRBc","./lower_bound":"6oG4m","./mat_mul":"bBIoC","./max":"1LDoB","./max_pool":"jN1VA","./max_pool_3d":"5bYJP","./max_pool_with_argmax":"aj3gR","./maximum":"aC15f","./mean":"hL4iN","./meshgrid":"44eJS","./min":"fQZS9","./minimum":"9s2uB","./mirror_pad":"eZ8jv","./mod":"asP0V","./moments":"jOTDT","./mul":"6PT7e","./multi_rnn_cell":"b5rJ2","./multinomial":"3saOA","./neg":"7x4sX","./not_equal":"fFOFr","./one_hot":"fYUMP","./ones":"kOOFR","./ones_like":"9beze","./outer_product":"lnL8Z","./pad":"h3tg4","./pad1d":"6JxR2","./pad2d":"7hnjd","./pad3d":"25YyF","./pad4d":"1jGjz","./pool":"eritJ","./pow":"dL1Je","./prelu":"2LpOI","./print":"erCZv","./prod":"2aFf0","./ragged_gather":"18nVK","./ragged_range":"dR4B1","./ragged_tensor_to_tensor":"7npU9","./rand":"8gF1a","./random_gamma":"4Zbid","./random_normal":"k5ghv","./random_standard_normal":"7FgHR","./random_uniform":"c1FSD","./random_uniform_int":"2UBJS","./range":"dg2ot","./real":"i8MTR","./reciprocal":"19GKS","./relu":"34tae","./relu6":"kK1do","./reshape":"hItZV","./reverse":"cbIap","./reverse_1d":"8Y48j","./reverse_2d":"gpq5B","./reverse_3d":"9xp5v","./reverse_4d":"3l299","./round":"eUmtk","./rsqrt":"dPOop","./scalar":"bjcHX","./selu":"b4cxU","./separable_conv2d":"c4HPd","./setdiff1d_async":"9uYVH","./sigmoid":"dr0s3","./sign":"5r7FN","./sin":"62ng0","./sinh":"jbgmC","./slice":"dqV13","./slice1d":"2gzwS","./slice2d":"b4vuL","./slice3d":"ffV9f","./slice4d":"krRJm","./softmax":"apwmK","./softplus":"2OSaU","./space_to_batch_nd":"c0hcC","./spectral/fft":"9Fok6","./spectral/ifft":"h76FD","./spectral/irfft":"b4Hiv","./spectral/rfft":"al6XI","./split":"1AaNg","./sqrt":"153k2","./square":"7VgfQ","./squared_difference":"6z3Ei","./squeeze":"3xQh4","./stack":"1IrD4","./step":"blTul","./strided_slice":"9Gigy","./sub":"bzNOI","./sum":"eozn0","./tan":"Vv6OT","./tanh":"5osah","./tensor":"5NoRV","./tensor1d":"fcXCO","./tensor2d":"l2W8n","./tensor3d":"3GTgg","./tensor4d":"8Oucb","./tensor5d":"4RlJk","./tensor6d":"jLj56","./tensor_scatter_update":"1WTyD","./tile":"3dBuq","./topk":"fg4BH","./truncated_normal":"6ADfU","./unique":"5YOqF","./unsorted_segment_sum":"k2b7S","./unstack":"e09B2","./upper_bound":"eNELd","./variable":"fdh6T","./where":"3HW7C","./where_async":"86zHB","./zeros":"81gWj","./zeros_like":"ivNIK","./boolean_mask":"6dh8r","./transpose":"8lNVv","./norm":"2ucoK","./moving_average":"9bKAe","./scatter_nd":"28F9T","./search_sorted":"7TcXH","./sparse_to_dense":"1eQYP","./gather_nd":"I1vCI","./dropout":"7HZhW","./signal_ops_util":"37jMC","./in_top_k":"bK9iw","./operation":"23NhK","./fused_ops":"fqDO4","./signal/hamming_window":"627Ew","./signal/hann_window":"jRZYm","./signal/frame":"fPLpc","./signal/stft":"bv88p","./image/crop_and_resize":"cpKis","./image/flip_left_right":"03gQa","./image/grayscale_to_rgb":"2zt5e","./image/rgb_to_grayscale":"ekLA9","./image/rotate_with_offset":"8UygL","./image/non_max_suppression":"i7vtp","./image/non_max_suppression_async":"eDDht","./image/non_max_suppression_with_score":"hwZhy","./image/non_max_suppression_with_score_async":"gTLgP","./image/non_max_suppression_padded":"l60Uw","./image/non_max_suppression_padded_async":"jrZcd","./image/resize_bilinear":"5xHyB","./image/resize_nearest_neighbor":"c4yH9","./image/threshold":"7XAlY","./image/transform":"1p7Nl","./linalg/band_part":"eoiKv","./linalg/gram_schmidt":"3zMKp","./linalg/qr":"fZ2rs","./losses/absolute_difference":"kfaDN","./losses/compute_weighted_loss":"jaZEm","./losses/cosine_distance":"6hh93","./losses/hinge_loss":"3WWLp","./losses/huber_loss":"h2QFn","./losses/log_loss":"kdAGC","./losses/mean_squared_error":"2o4fo","./losses/sigmoid_cross_entropy":"4ApAp","./losses/softmax_cross_entropy":"2aow1","./sparse/sparse_fill_empty_rows":"6jDe7","./sparse/sparse_reshape":"by7ap","./sparse/sparse_segment_mean":"hccW2","./sparse/sparse_segment_sum":"gGjcp","./string/string_n_grams":"5Rvo0","./string/string_split":"dNu7P","./string/string_to_hash_bucket_fast":"8K5g5","./string/static_regex_replace":"8DXav","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l0gI3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({abs_:function(e){var t=(0,i.convertToTensor)(e,"x","abs");return"complex64"===t.dtype?o.ENGINE.runKernel(s.ComplexAbs,{x:t}):o.ENGINE.runKernel(s.Abs,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],abcRj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({acos_:function(e){var t=(0,i.convertToTensor)(e,"x","acos");return o.ENGINE.runKernel(s.Acos,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i49XT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({acosh_:function(e){var t=(0,i.convertToTensor)(e,"x","acosh");return o.ENGINE.runKernel(s.Acosh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],baKDF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({addN_:function(e){c.assert(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),c.assert(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)});var t=e.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"addN")}),r=t[0];return t.forEach(function(e){if(e.dtype!==r.dtype)throw Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!c.arraysEqual(e.shape,r.shape))throw Error("All tensors passed to tf.addN() must have the same shape")}),o.ENGINE.runKernel(s.AddN,t)}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4JQeI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","all","bool");return o.ENGINE.runKernel(s.All,{x:n},{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9SeUq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","any","bool");return o.ENGINE.runKernel(s.Any,{x:n},{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fka49:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","argMax");return o.ENGINE.runKernel(s.ArgMax,{x:r},{axis:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7FLo9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","argMin");return o.ENGINE.runKernel(s.ArgMin,{x:r},{axis:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Ykyd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({asin_:function(e){var t=(0,i.convertToTensor)(e,"x","asin");return o.ENGINE.runKernel(s.Asin,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k9f9j:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({asinh_:function(e){var t=(0,i.convertToTensor)(e,"x","asinh");return o.ENGINE.runKernel(s.Asinh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8lJHX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({atan_:function(e){var t=(0,i.convertToTensor)(e,"x","atan");return o.ENGINE.runKernel(s.Atan,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eanBd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({atan2_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","atan2"),a=(0,u.convertToTensor)(t,"b","atan2"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Atan2,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"69k1i":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({atanh_:function(e){var t=(0,i.convertToTensor)(e,"x","atanh");return o.ENGINE.runKernel(s.Atanh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c72tI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return d});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=e("./conv_util"),p=e("./operation"),f=e("./reshape"),d=(0,p.op)({avgPool_:function(e,t,r,n,a){var p=(0,i.convertToTensor)(e,"x","avgPool","float32");c.assert(l.eitherStridesOrDilationsAreOne(r,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")});var d=p,h=!1;3===p.rank&&(h=!0,d=(0,f.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),c.assert(4===d.rank,function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(d.rank,".")}),l.checkPadOnDimRoundingMode("avgPool",n,a);var m={x:d},g=o.ENGINE.runKernel(s.AvgPool,m,{filterSize:t,strides:r,pad:n,dimRoundingMode:a});return(g=(0,u.cast)(g,p.dtype),h)?(0,f.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./cast":"fGyHk","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3Awi4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"computeDilation2DInfo",function(){return u}),a.export(r,"computePool2DInfo",function(){return l}),a.export(r,"computePool3DInfo",function(){return p}),a.export(r,"computeConv2DInfo",function(){return f}),a.export(r,"computeConv3DInfo",function(){return d}),a.export(r,"computeDefaultPad",function(){return h}),a.export(r,"tupleValuesAreOne",function(){return x}),a.export(r,"eitherStridesOrDilationsAreOne",function(){return y}),a.export(r,"stridesOrDilationsArePositive",function(){return b}),a.export(r,"convertConv2DDataFormat",function(){return k}),a.export(r,"checkPadOnDimRoundingMode",function(){return j});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@swc/helpers/cjs/_type_of.cjs"),c=e("../util");function u(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,i=e[3];return f(e,(0,s._)(t).concat([i]),r,o,n,null,null,k(a))}function l(e,t,r,n,a,s){var i,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=(0,o._)(m(t),2),l=u[0],p=u[1];if("channelsLast"===c)i=[l,p,e[3],e[3]];else if("channelsFirst"===c)i=[l,p,e[1],e[1]];else throw Error("Unknown dataFormat ".concat(c));return f(e,i,r,n,a,s,!1,c)}function p(e,t,r,n,a,s){var i,c,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",l=(0,o._)(g(t),3),p=l[0],f=l[1],h=l[2];if("NDHWC"===u)c="channelsLast",i=[p,f,h,e[4],e[4]];else if("NCDHW"===u)c="channelsFirst",i=[p,f,h,e[1],e[1]];else throw Error("Unknown dataFormat ".concat(u));return d(e,i,r,n,a,!1,c,s)}function f(e,t,r,n,a,s){var c,u,l,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",d=-1,g=-1,x=-1,y=-1;if("channelsLast"===f)d=(c=(0,o._)(e,4))[0],g=c[1],x=c[2],y=c[3];else if("channelsFirst"===f)d=(u=(0,o._)(e,4))[0],y=u[1],g=u[2],x=u[3];else throw Error("Unknown dataFormat ".concat(f));var b=(0,o._)(t,4),k=b[0],j=b[1],w=b[3],S=(0,o._)(m(r),2),I=S[0],T=S[1],N=(0,o._)(m(n),2),C=N[0],E=N[1],F=v(k,C),A=v(j,E),P=function(e,t,r,n,a,o,s,c,u){if("number"==typeof e){var l,p,f,d,m,g,v,x=0===e?"VALID":"NUMBER";m={top:e,bottom:e,left:e,right:e,type:x};var y=(l=[t,r],null==(p=e)&&(p=h(l,o,n)),f=l[0],d=l[1],[_((f-o+2*p)/n+1,c),_((d-o+2*p)/n+1,c)]);g=y[0],v=y[1]}else if("same"===e){var b=Math.max(0,((g=Math.ceil(t/n))-1)*n+o-t),k=Math.max(0,((v=Math.ceil(r/a))-1)*a+s-r),j=Math.floor(b/2),w=Math.floor(k/2);m={top:j,bottom:b-j,left:w,right:k-w,type:"SAME"}}else if("valid"===e)m={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((t-o+1)/n),v=Math.ceil((r-s+1)/a);else if((void 0===e?"undefined":(0,i._)(e))==="object"){var S="channelsLast"===u?e[1][0]:e[2][0],I="channelsLast"===u?e[1][1]:e[2][1],T="channelsLast"===u?e[2][0]:e[3][0],N="channelsLast"===u?e[2][1]:e[3][1];m={top:S,bottom:I,left:T,right:N,type:0===S&&0===I&&0===T&&0===N?"VALID":"EXPLICIT"},g=_((t-o+S+I)/n+1,c),v=_((r-s+T+N)/a+1,c)}else throw Error("Unknown padding parameter: ".concat(e));return{padInfo:m,outHeight:g,outWidth:v}}(a,g,x,I,T,F,A,s,f),R=P.padInfo,D=P.outHeight,M=P.outWidth,O=p?w*y:w;return"channelsFirst"===f?l=[d,O,D,M]:"channelsLast"===f&&(l=[d,D,M,O]),{batchSize:d,dataFormat:f,inHeight:g,inWidth:x,inChannels:y,outHeight:D,outWidth:M,outChannels:O,padInfo:R,strideHeight:I,strideWidth:T,filterHeight:k,filterWidth:j,effectiveFilterHeight:F,effectiveFilterWidth:A,dilationHeight:C,dilationWidth:E,inShape:e,outShape:l,filterShape:t}}function d(e,t,r,n,a){var s,i,c,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",p=arguments.length>7?arguments[7]:void 0,f=-1,d=-1,m=-1,x=-1,y=-1;if("channelsLast"===l)f=(s=(0,o._)(e,5))[0],d=s[1],m=s[2],x=s[3],y=s[4];else if("channelsFirst"===l)f=(i=(0,o._)(e,5))[0],y=i[1],d=i[2],m=i[3],x=i[4];else throw Error("Unknown dataFormat ".concat(l));var b=(0,o._)(t,5),k=b[0],j=b[1],w=b[2],S=b[4],I=(0,o._)(g(r),3),T=I[0],N=I[1],C=I[2],E=(0,o._)(g(n),3),F=E[0],A=E[1],P=E[2],R=v(k,F),D=v(j,A),M=v(w,P),O=function(e,t,r,n,a,o,s,i,c,u,l){if("valid"===e&&(e=0),"number"==typeof e){var p,f,d,m,g=0===e?"VALID":"NUMBER";p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:g};var v=function(e,t,r,n,a,o){null==a&&(a=h(e,t[0],n[0]));for(var s=[0,0,0,1],i=0;i<3;i++)e[i]+2*a>=t[i]&&(s[i]=_((e[i]-t[i]+2*a)/n[i]+1,o));return s}([t,r,n,1],[i,c,u],0,[a,o,s],e,l);f=v[0],d=v[1],m=v[2]}else if("same"===e){var x=((f=Math.ceil(t/a))-1)*a+i-t,y=((d=Math.ceil(r/o))-1)*o+c-r,b=((m=Math.ceil(n/s))-1)*s+u-n,k=Math.floor(x/2),j=Math.floor(y/2),w=Math.floor(b/2);p={top:j,bottom:y-j,left:w,right:b-w,front:k,back:x-k,type:"SAME"}}else throw Error("Unknown padding parameter: ".concat(e));return{padInfo:p,outDepth:f,outHeight:d,outWidth:m}}(a,d,m,x,T,N,C,R,D,M,p),L=O.padInfo,V=O.outDepth,U=O.outHeight,B=O.outWidth,z=u?S*y:S;return"channelsFirst"===l?c=[f,z,V,U,B]:"channelsLast"===l&&(c=[f,V,U,B,z]),{batchSize:f,dataFormat:l,inDepth:d,inHeight:m,inWidth:x,inChannels:y,outDepth:V,outHeight:U,outWidth:B,outChannels:z,padInfo:L,strideDepth:T,strideHeight:N,strideWidth:C,filterDepth:k,filterHeight:j,filterWidth:w,effectiveFilterDepth:R,effectiveFilterHeight:D,effectiveFilterWidth:M,dilationDepth:F,dilationHeight:A,dilationWidth:P,inShape:e,outShape:c,filterShape:t}}function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=v(t,n);return Math.floor((e[0]*(r-1)-r+a)/2)}function m(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function g(e){return"number"==typeof e?[e,e,e]:e}function v(e,t){return t<=1?e:e+(e-1)*(t-1)}function _(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw Error("Unknown roundingMode ".concat(t))}}function x(e){var t=(0,o._)(m(e),3),r=t[0],n=t[1],a=t[2];return 1===r&&1===n&&1===a}function y(e,t){return x(e)||x(t)}function b(e){return m(e).every(function(e){return e>0})}function k(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw Error("Unknown dataFormat ".concat(e))}function j(e,t,r){if(null!=r)if("string"==typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,"."));else if("number"==typeof t)c.assert(c.isInt(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,".")});else if((void 0===t?"undefined":(0,i._)(t))==="object")t.forEach(function(t){t.forEach(function(t){c.assert(c.isInt(t),function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(r," but got pad ").concat(t,".")})})});else throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t))}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_type_of.cjs":"9vrOw","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hItZV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reshape_:function(e,t){var r=(0,i.convertToTensor)(e,"x","reshape","string_or_numeric");return o.ENGINE.runKernel(s.Reshape,{x:r},{shape:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l3yHm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3d",function(){return d});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=e("./conv_util"),p=e("./operation"),f=e("./reshape"),d=(0,p.op)({avgPool3d_:function(e,t,r,n,a){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=(0,i.convertToTensor)(e,"x","avgPool3d","float32"),h=d,m=!1;4===d.rank&&(m=!0,h=(0,f.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),c.assert(5===h.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")}),c.assert("NDHWC"===p,function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(p)}),c.assert("number"==typeof r&&r>0||Array.isArray(r)&&r[0]>0&&r[1]>0&&r[2]>0,function(){return"Error in avgPool3d: Stride must be > 0, but got '".concat(r,"'")}),(0,l.checkPadOnDimRoundingMode)("avgPool3d",n,a);var g={x:h},v=o.ENGINE.runKernel(s.AvgPool3D,g,{filterSize:t,strides:r,pad:n,dimRoundingMode:a,dataFormat:p});return(v=(0,u.cast)(v,h.dtype),m)?(0,f.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./cast":"fGyHk","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8giOC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"basicLSTMCell",function(){return h});var o=e("../tensor_util_env"),s=e("./add"),i=e("./concat"),c=e("./mat_mul"),u=e("./mul"),l=e("./operation"),p=e("./sigmoid"),f=e("./slice"),d=e("./tanh"),h=(0,l.op)({basicLSTMCell_:function(e,t,r,n,a,l){var h=(0,o.convertToTensor)(e,"forgetBias","basicLSTMCell"),m=(0,o.convertToTensor)(t,"lstmKernel","basicLSTMCell"),g=(0,o.convertToTensor)(r,"lstmBias","basicLSTMCell"),v=(0,o.convertToTensor)(n,"data","basicLSTMCell"),_=(0,o.convertToTensor)(a,"c","basicLSTMCell"),x=(0,o.convertToTensor)(l,"h","basicLSTMCell"),y=(0,i.concat)([v,x],1),b=(0,c.matMul)(y,m),k=(0,s.add)(b,g),j=k.shape[0],w=k.shape[1]/4,S=[j,w],I=(0,f.slice)(k,[0,0],S),T=(0,f.slice)(k,[0,w],S),N=(0,f.slice)(k,[0,2*w],S),C=(0,f.slice)(k,[0,3*w],S),E=(0,s.add)((0,u.mul)((0,p.sigmoid)(I),(0,d.tanh)(T)),(0,u.mul)(_,(0,p.sigmoid)((0,s.add)(h,N)))),F=(0,u.mul)((0,d.tanh)(E),(0,p.sigmoid)(C));return[E,F]}})},{"../tensor_util_env":"6H9ky","./add":"dD0ce","./concat":"hgCiG","./mat_mul":"bBIoC","./mul":"6PT7e","./operation":"23NhK","./sigmoid":"dr0s3","./slice":"dqV13","./tanh":"5osah","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hgCiG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./clone"),l=(0,e("./operation").op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.assert)(e.length>=1,function(){return"Pass at least one tensor to concat"});var r=(0,i.convertToTensorArray)(e,"tensors","concat","string_or_numeric");return("complex64"===r[0].dtype&&r.forEach(function(e){if("complex64"!==e.dtype)throw Error("Cannot concatenate complex64 tensors with a tensor\n with dtype ".concat(e.dtype,". "))}),1===r.length)?(0,u.clone)(r[0]):o.ENGINE.runKernel(s.Concat,r,{axis:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./clone":"bBKSn","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bBIoC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"matMul",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({matMul_:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,u.convertToTensor)(e,"a","matMul"),p=(0,u.convertToTensor)(t,"b","matMul"),f={a:l=(r=(0,o._)((0,c.makeTypesMatch)(l,p),2))[0],b:p=r[1]};return s.ENGINE.runKernel(i.BatchMatMul,f,{transposeA:n,transposeB:a})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dr0s3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoid",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sigmoid_:function(e){var t=(0,i.convertToTensor)(e,"x","sigmoid","float32");return o.ENGINE.runKernel(s.Sigmoid,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dqV13:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({slice_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","slice","string_or_numeric");if(0===n.rank)throw Error("Slicing scalar is not possible");return o.ENGINE.runKernel(s.Slice,{x:n},{begin:t,size:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5osah":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({tanh_:function(e){var t=(0,i.convertToTensor)(e,"x","tanh","float32");return o.ENGINE.runKernel(s.Tanh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jJjfM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({batchToSpaceND_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","batchToSpaceND"),a=t.reduce(function(e,t){return e*t});return c.assert(n.rank>=1+t.length,function(){return"input rank is ".concat(n.rank," but should be > than blockShape.length ").concat(t.length)}),c.assert(r.length===t.length,function(){return"crops.length is ".concat(r.length," but should be equal to blockShape.length ").concat(t.length)}),c.assert(n.shape[0]%a==0,function(){return"input tensor batch is ".concat(n.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}),o.ENGINE.runKernel(s.BatchToSpaceND,{x:n},{blockShape:t,crops:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8P0vL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./batchnorm_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({batchNorm_:function(e,t,r,n,a,l){null==l&&(l=.001);var f,d,h=(0,i.convertToTensor)(e,"x","batchNorm"),m=(0,i.convertToTensor)(t,"mean","batchNorm"),g=(0,i.convertToTensor)(r,"variance","batchNorm");null!=a&&(f=(0,i.convertToTensor)(a,"scale","batchNorm")),null!=n&&(d=(0,i.convertToTensor)(n,"offset","batchNorm")),c.assert(m.rank===g.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),c.assert(null==d||m.rank===d.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),c.assert(null==f||m.rank===f.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var v={x:(0,u.xAs4D)(h),scale:f,offset:d,mean:m,variance:g},_={varianceEpsilon:l},x=o.ENGINE.runKernel(s.FusedBatchNorm,v,_);return(0,p.reshape)(x,h.shape)}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./batchnorm_util":"j27jE","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],j27jE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"xAs4D",function(){return s});var o=e("./reshape");function s(e){var t;return 0===e.rank||1===e.rank?(0,o.reshape)(e,[1,1,1,e.size]):2===e.rank?(0,o.reshape)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,o.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}},{"./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2gcsy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm2d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm2d_:function(e,t,r,n,a,c){var u,l,p=(0,o.convertToTensor)(e,"x","batchNorm"),f=(0,o.convertToTensor)(t,"mean","batchNorm"),d=(0,o.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,o.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,o.convertToTensor)(n,"offset","batchNorm")),s.assert(2===p.rank,function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(p.rank,".")}),s.assert(2===f.rank||1===f.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(f.rank,".")}),s.assert(2===d.rank||1===d.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&s.assert(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&s.assert(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./batchnorm":"8P0vL","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aGkHf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm3d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm3d_:function(e,t,r,n,a,c){var u,l,p=(0,o.convertToTensor)(e,"x","batchNorm"),f=(0,o.convertToTensor)(t,"mean","batchNorm"),d=(0,o.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,o.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,o.convertToTensor)(n,"offset","batchNorm")),s.assert(3===p.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(p.rank,".")}),s.assert(3===f.rank||1===f.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(f.rank,".")}),s.assert(3===d.rank||1===d.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&s.assert(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&s.assert(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./batchnorm":"8P0vL","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1fbmj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm4d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./batchnorm"),c=(0,e("./operation").op)({batchNorm4d_:function(e,t,r,n,a,c){var u,l,p=(0,o.convertToTensor)(e,"x","batchNorm"),f=(0,o.convertToTensor)(t,"mean","batchNorm"),d=(0,o.convertToTensor)(r,"variance","batchNorm");return null!=a&&(u=(0,o.convertToTensor)(a,"scale","batchNorm")),null!=n&&(l=(0,o.convertToTensor)(n,"offset","batchNorm")),s.assert(4===p.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(p.rank,".")}),s.assert(4===f.rank||1===f.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(f.rank,".")}),s.assert(4===d.rank||1===d.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(d.rank,".")}),null!=u&&s.assert(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")}),null!=l&&s.assert(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")}),(0,i.batchNorm)(p,f,d,l,u,c)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./batchnorm":"8P0vL","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],egzJ5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({bincount_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","bincount"),a=(0,i.convertToTensor)(t,"weights","bincount");return c.assert("int32"===n.dtype,function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(n.dtype)}),c.assert(r>=0,function(){return"size must be non-negative, but got ".concat(r,".")}),c.assert(a.size===n.size||0===a.size,function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(n.shape,", weights shape: ")+"".concat(a.shape,".")}),o.ENGINE.runKernel(s.Bincount,{x:n,weights:a},{size:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"78O59":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bitwiseAnd",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=(0,e("./operation").op)({bitwiseAnd_:function(e,t){var r=(0,i.convertToTensor)(e,"x","bitwiseAnd"),n=(0,i.convertToTensor)(t,"y","bitwiseAnd");if(!(0,c.arraysEqual)(r.shape,n.shape))throw Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(r.shape,", y: ").concat(n.shape));if("int32"!==r.dtype||"int32"!==n.dtype)throw Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(r.dtype," and type of y: ").concat(n.dtype));return o.ENGINE.runKernel(s.BitwiseAnd,{a:r,b:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util_base":"h6qVW","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9g32m":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({broadcastArgs_:function(e,t){var r=(0,i.convertToTensor)(e,"s0","broadcastArgs","int32"),n=(0,i.convertToTensor)(t,"s1","broadcastArgs","int32");if(1!==r.rank)throw Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(r.rank));if(1!==n.rank)throw Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(n.rank));return o.ENGINE.runKernel(s.BroadcastArgs,{s0:r,s1:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3i6Ta":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastTo",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./clone"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({broadcastTo_:function(e,t){var r=(0,i.convertToTensor)(e,"broadcastTo","x"),n=r.shape;if((0,c.assertNonNegativeIntegerDimensions)(t),t.length<r.rank)throw Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(r.rank,"."));if(t.length>r.rank){for(var a=r.shape.slice();a.length<t.length;)a.unshift(1);r=(0,p.reshape)(r,a)}for(var l=r.shape,f=Array.from(t),d=t.length-1;d>=0;d--)if(l[d]===t[d])f[d]=1;else if(1!==r.shape[d])throw Error("broadcastTo(): [".concat(n,"] cannot be broadcast to [").concat(t,"]."));if(0===f.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0}).length)return(0,u.clone)(r);var h={x:r};return o.ENGINE.runKernel(s.Tile,h,{reps:f})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util_base":"h6qVW","./clone":"bBKSn","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eC6ZT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceil",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({ceil_:function(e){var t=(0,i.convertToTensor)(e,"x","ceil","float32");return o.ENGINE.runKernel(s.Ceil,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5b6ob":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./fill"),l=(0,e("./operation").op)({clipByValue_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","clipByValue");return(c.assert(t<=r,function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(r,").")}),t===r)?(0,u.fill)(n.shape,t,n.dtype):o.ENGINE.runKernel(s.ClipByValue,{x:n},{clipValueMin:t,clipValueMax:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./fill":"1zzPz","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1zzPz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../util"),c=e("../util_base");function u(e,t,r){(0,c.assertNonNegativeIntegerDimensions)(e),r=r||(0,i.inferDtype)(t);var n={shape:e,value:t,dtype:r};return o.ENGINE.runKernel(s.Fill,{},n)}},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../util":"5L87y","../util_base":"h6qVW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],RhaqM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat1d",function(){return s});var o=e("./concat"),s=(0,e("./operation").op)({concat1d_:function(e){return(0,o.concat)(e,0)}})},{"./concat":"hgCiG","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bqFQf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat2d",function(){return s});var o=e("./concat"),s=(0,e("./operation").op)({concat2d_:function(e,t){return(0,o.concat)(e,t)}})},{"./concat":"hgCiG","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cQGAX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat3d",function(){return s});var o=e("./concat"),s=(0,e("./operation").op)({concat3d_:function(e,t){return(0,o.concat)(e,t)}})},{"./concat":"hgCiG","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bG2Zs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat4d",function(){return s});var o=e("./concat"),s=(0,e("./operation").op)({concat4d_:function(e,t){return(0,o.concat)(e,t)}})},{"./concat":"hgCiG","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8BRKv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv1d",function(){return p});var o=e("../tensor_util_env"),s=e("../util"),i=e("./conv2d"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv1d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,p=arguments.length>6?arguments[6]:void 0,f=(0,o.convertToTensor)(e,"x","conv1d"),d=(0,o.convertToTensor)(t,"filter","conv1d"),h=f,m=!1;2===f.rank&&(m=!0,h=(0,l.reshape)(f,[1,f.shape[0],f.shape[1]])),s.assert(3===h.rank,function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")}),s.assert(3===d.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(d.rank,".")}),c.checkPadOnDimRoundingMode("conv1d",n,p),s.assert(h.shape[2]===d.shape[1],function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(d.shape[1],".")}),s.assert(c.eitherStridesOrDilationsAreOne(r,u),function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(r," and dilation '").concat(u,"'")}),s.assert(c.stridesOrDilationsArePositive(u),function(){return"Error in conv1D: Dilated rates should be larger than 0."}),s.assert(c.stridesOrDilationsArePositive(r),function(){return"Error in conv1D: Stride should be larger than 0."}),s.assert("NWC"===a,function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")});var g=(0,l.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),v=(0,l.reshape)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),_=(0,i.conv2d)(v,g,[1,r],n,"NHWC",[1,u],p);return m?(0,l.reshape)(_,[_.shape[2],_.shape[3]]):(0,l.reshape)(_,[_.shape[0],_.shape[2],_.shape[3]])}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./conv2d":"5PoKv","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5PoKv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({conv2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,d=(0,i.convertToTensor)(e,"x","conv2d","float32"),h=(0,i.convertToTensor)(t,"filter","conv2d","float32"),m=d,g=!1;3===d.rank&&(g=!0,m=(0,p.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),c.assert(4===m.rank,function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")}),c.assert(4===h.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")}),u.checkPadOnDimRoundingMode("conv2d",n,f);var v="NHWC"===a?m.shape[3]:m.shape[1];c.assert(v===h.shape[2],function(){return"Error in conv2d: depth of input (".concat(v,") must match ")+"input depth for filter ".concat(h.shape[2],".")}),c.assert(u.eitherStridesOrDilationsAreOne(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")}),c.assert(u.stridesOrDilationsArePositive(l),function(){return"Error in conv2D: Dilated rates should be larger than 0."}),c.assert(u.stridesOrDilationsArePositive(r),function(){return"Error in conv2D: Strides should be larger than 0."});var _={x:m,filter:h},x=o.ENGINE.runKernel(s.Conv2D,_,{strides:r,pad:n,dataFormat:a,dilations:l,dimRoundingMode:f});return g?(0,p.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hidzm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2dTranspose",function(){return i});var o=e("../tensor_util_env"),s=e("./conv2d_backprop_input"),i=(0,e("./operation").op)({conv2dTranspose_:function(e,t,r,n,a,i){var c=(0,o.convertToTensor)(e,"x","conv2dTranspose"),u=(0,o.convertToTensor)(t,"filter","conv2dTranspose");return(0,s.conv2DBackpropInput)(r,c,u,n,a,"NHWC",i)}})},{"../tensor_util_env":"6H9ky","./conv2d_backprop_input":"4JABu","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4JABu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../util"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv2DBackpropInput_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=arguments.length>6?arguments[6]:void 0;i.assert(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var f=e,d=t,h=!1;3===t.rank&&(h=!0,d=(0,l.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),i.assert(4===f.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(f.length,".")}),i.assert(4===d.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(d.rank)}),i.assert(4===r.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(r.rank)});var m="NHWC"===u?f[3]:f[1],g="NHWC"===u?d.shape[3]:d.shape[1];i.assert(m===r.shape[2],function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(r.shape[2],".")}),i.assert(g===r.shape[3],function(){return"Error in conv2dDerInput: depth of output (".concat(g,") must ")+"match output depth for filter ".concat(r.shape[3],".")}),c.checkPadOnDimRoundingMode("conv2dDerInput",a,p);var v={dy:d,filter:r},_={strides:n,pad:a,dataFormat:u,dimRoundingMode:p,inputShape:f},x=o.ENGINE.runKernel(s.Conv2DBackpropInput,v,_);return h?(0,l.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8GZBV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3d",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({conv3d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],f=(0,i.convertToTensor)(e,"x","conv3d"),d=(0,i.convertToTensor)(t,"filter","conv3d"),h=f,m=!1;4===f.rank&&(m=!0,h=(0,p.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),c.assert(5===h.rank,function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(h.rank,".")}),c.assert(5===d.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(d.rank,".")}),c.assert(h.shape[4]===d.shape[3],function(){return"Error in conv3d: depth of input (".concat(h.shape[4],") must match ")+"input depth for filter ".concat(d.shape[3],".")}),c.assert((0,u.eitherStridesOrDilationsAreOne)(r,l),function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")}),c.assert("NDHWC"===a,function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}),c.assert((0,u.stridesOrDilationsArePositive)(l),function(){return"Error in conv3D: Dilated rates should be larger than 0."}),c.assert((0,u.stridesOrDilationsArePositive)(r),function(){return"Error in conv3D: Strides should be larger than 0."});var g={x:h,filter:d},v=o.ENGINE.runKernel(s.Conv3D,g,{strides:r,pad:n,dataFormat:a,dilations:l});return m?(0,p.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iugR4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3dTranspose",function(){return i});var o=e("../tensor_util_env"),s=e("./conv3d_backprop_input"),i=(0,e("./operation").op)({conv3dTranspose_:function(e,t,r,n,a){var i=(0,o.convertToTensor)(e,"x","conv3dTranspose"),c=(0,o.convertToTensor)(t,"filter","conv3dTranspose");return(0,s.conv3DBackpropInput)(r,i,c,n,a)}})},{"../tensor_util_env":"6H9ky","./conv3d_backprop_input":"dBUEM","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dBUEM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInput",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../util"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({conv3DBackpropInput_:function(e,t,r,n,a){i.assert(e.length===t.rank,function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")});var c=e,l=t,p=!1;4===t.rank&&(p=!0,l=(0,u.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var f=c[4],d=l.shape[4];i.assert(5===c.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")}),i.assert(5===l.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)}),i.assert(5===r.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(r.rank)}),i.assert(f===r.shape[3],function(){return"Error in conv3dDerInput: depth of input (".concat(f,") must ")+"match input depth for filter ".concat(r.shape[3],".")}),i.assert(d===r.shape[4],function(){return"Error in conv3dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(r.shape[4],".")});var h={dy:l,filter:r},m={pad:a,strides:n,inputShape:c},g=o.ENGINE.runKernel(s.Conv3DBackpropInputV2,h,m);return p?(0,u.reshape)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../util":"5L87y","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kH3LF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cos_:function(e){var t=(0,i.convertToTensor)(e,"x","cos","float32");return o.ENGINE.runKernel(s.Cos,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8YIVA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cosh_:function(e){var t=(0,i.convertToTensor)(e,"x","cosh","float32");return o.ENGINE.runKernel(s.Cosh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6KKz1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","cumprod");return o.ENGINE.runKernel(s.Cumprod,{x:a},{axis:t,exclusive:r,reverse:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4KPwJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","cumsum");return o.ENGINE.runKernel(s.Cumsum,{x:a},{axis:t,exclusive:r,reverse:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iEHLZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({denseBincount_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"x","denseBincount"),u=(0,i.convertToTensor)(t,"weights","denseBincount");return c.assert("int32"===a.dtype,function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)}),c.assert(a.rank<=2,function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")}),c.assert(r>=0,function(){return"size must be non-negative, but got ".concat(r,".")}),c.assert(u.size===a.size||0===u.size,function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(u.shape,".")}),o.ENGINE.runKernel(s.DenseBincount,{x:a,weights:u},{size:r,binaryOutput:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e4Rgp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({depthToSpace_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",n=(0,i.convertToTensor)(e,"x","depthToSpace","float32"),a="NHWC"===r?n.shape[1]:n.shape[2],u="NHWC"===r?n.shape[2]:n.shape[3],l="NHWC"===r?n.shape[3]:n.shape[1];return c.assert(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)}),c.assert(a*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n ".concat(a," and ").concat(t," for depthToSpace with input shape\n ").concat(n.shape)}),c.assert(u*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n ".concat(u," and ").concat(t," for depthToSpace with input shape\n ").concat(n.shape)}),c.assert(l%(t*t)==0,function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(n.shape)}),o.ENGINE.runKernel(s.DepthToSpace,{x:n},{blockSize:t,dataFormat:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k8VSg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2d",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({depthwiseConv2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,d=(0,i.convertToTensor)(e,"x","depthwiseConv2d","float32"),h=(0,i.convertToTensor)(t,"filter","depthwiseConv2d","float32"),m=d,g=!1;3===d.rank&&(g=!0,m=(0,p.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),c.assert(4===m.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),c.assert(4===h.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")});var v="NHWC"===a?m.shape[3]:m.shape[1];c.assert(v===h.shape[2],function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v,") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")}),u.checkPadOnDimRoundingMode("depthwiseConv2d",n,f);var _={x:m,filter:h},x=o.ENGINE.runKernel(s.DepthwiseConv2dNative,_,{strides:r,pad:n,dataFormat:a,dilations:l,dimRoundingMode:f});return g?(0,p.reshape)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3KKP7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({diag_:function(e){var t=(0,i.convertToTensor)(e,"x","diag");return o.ENGINE.runKernel(s.Diag,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Ux9L":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2d",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({dilation2d_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=(0,i.convertToTensor)(e,"x","dilation2d"),f=(0,i.convertToTensor)(t,"filter","dilation2d");c.assert(3===p.rank||4===p.rank,function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(p.rank,".")}),c.assert(3===f.rank,function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(f.rank,".")}),c.assert("NHWC"===u,function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(u)});var d=p,h=!1;3===p.rank&&(d=(0,l.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),h=!0),c.assert(d.shape[3]===f.shape[2],function(){return"Error in dilation2d: input and filter must have the same depth: ".concat(d.shape[3]," vs ").concat(f.shape[2])});var m={x:d,filter:f},g=o.ENGINE.runKernel(s.Dilation2D,m,{strides:r,pad:n,dilations:a});return h?(0,l.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aLBOr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"divNoNan",function(){return d});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../tensor_util"),i=e("../tensor_util_env"),c=e("./div"),u=e("./equal"),l=e("./operation"),p=e("./where"),f=e("./zeros_like"),d=(0,l.op)({divNoNan_:function(e,t){var r,n=(0,i.convertToTensor)(e,"a","div"),a=(0,i.convertToTensor)(t,"b","div");n=(r=(0,o._)((0,s.makeTypesMatch)(n,a),2))[0],a=r[1];var l=(0,c.div)(n,a),d=(0,f.zerosLike)(l),h=(0,u.equal)(a,d);return(0,p.where)(h,d,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./div":"guYTU","./equal":"bX5kh","./operation":"23NhK","./where":"3HW7C","./zeros_like":"ivNIK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bX5kh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equal",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({equal_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","equal","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","equal","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.Equal,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cACWh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t){for(var r=e.length,n=[],a=0;a<r;a++){var o=r-1-a,s=e[o]||1;(t[t.length-1-a]||1)>1&&1===s&&n.unshift(o)}return n}function s(e,t){for(var r=[],n=0;n<t.length;n++){var a=e[e.length-n-1],o=t.length-n-1,s=t[o];(null==a||1===a&&s>1)&&r.unshift(o)}return r}function i(e,t){for(var r=Math.max(e.length,t.length),n=Array(r),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var s=t[t.length-a-1];if(null==s&&(s=1),1===o)n[r-a-1]=s;else if(1===s)n[r-a-1]=o;else if(o!==s)throw Error("Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,"."));else n[r-a-1]=o}return n}a.defineInteropFlag(r),a.export(r,"getBroadcastDims",function(){return o}),a.export(r,"getReductionAxes",function(){return s}),a.export(r,"assertAndGetBroadcastShape",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3HW7C":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"where",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_to"),u=e("./broadcast_util"),l=(0,e("./operation").op)({where_:function(e,t,r){var n=(0,i.convertToTensor)(t,"a","where"),a=(0,i.convertToTensor)(r,"b","where"),l=(0,i.convertToTensor)(e,"condition","where","bool"),p=(0,u.assertAndGetBroadcastShape)((0,u.assertAndGetBroadcastShape)(l.shape,n.shape),a.shape),f=(0,c.broadcastTo)(l,p),d=(0,c.broadcastTo)(n,p),h=(0,c.broadcastTo)(a,p);return o.ENGINE.runKernel(s.Select,{condition:f,t:d,e:h})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./broadcast_to":"3i6Ta","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ivNIK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({zerosLike_:function(e){var t=(0,i.convertToTensor)(e,"x","zerosLike");return o.ENGINE.runKernel(s.ZerosLike,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"61oJD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dot",function(){return l});var o=e("../tensor_util_env"),s=e("../util"),i=e("./mat_mul"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({dot_:function(e,t){var r=(0,o.convertToTensor)(e,"t1","dot"),n=(0,o.convertToTensor)(t,"t2","dot");s.assert((1===r.rank||2===r.rank)&&(1===n.rank||2===n.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(r.rank," and ").concat(n.rank,".")});var a=1===r.rank?r.size:r.shape[1],c=1===n.rank?n.size:n.shape[0];if(s.assert(a===c,function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(c,".")}),1===r.rank&&1===n.rank){var l=(0,u.reshape)(r,[1,-1]),p=(0,u.reshape)(n,[-1,1]),f=(0,i.matMul)(l,p);return(0,u.reshape)(f,[])}if(1===r.rank&&2===n.rank){var d=(0,u.reshape)(r,[1,-1]),h=(0,u.reshape)(n,[n.shape[0],n.shape[1]]),m=(0,i.matMul)(d,h);return(0,u.reshape)(m,[m.size])}if(2===r.rank&&1===n.rank){var g=(0,u.reshape)(n,[-1,1]),v=(0,i.matMul)(r,g);return(0,u.reshape)(v,[v.size])}var _=(0,u.reshape)(n,[n.shape[0],n.shape[1]]);return(0,i.matMul)(r,_)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./mat_mul":"bBIoC","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1SRTv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum_",function(){return c}),a.export(r,"einsum",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env");function c(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"einsum")});return o.ENGINE.runKernel(s.Einsum,a,{equation:e})}var u=(0,e("./operation").op)({einsum_:c})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1NkbF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"elu",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({elu_:function(e){var t=(0,i.convertToTensor)(e,"x","elu","float32");return o.ENGINE.runKernel(s.Elu,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2Orut":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ensureShape",function(){return i});var o=e("../tensor_util_env"),s=e("../util_base"),i=(0,e("./operation").op)({ensureShape_:function(e,t){var r=(0,o.convertToTensor)(e,"x","ensureShape","string_or_numeric");if(!(0,s.arraysEqualWithNull)(r.shape,t))throw Error("EnsureShape: Shape of tensor ".concat(r.shape," is not compatible with expected shape ").concat(t));return e}})},{"../tensor_util_env":"6H9ky","../util_base":"h6qVW","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],esVIV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./cast"),l=(0,e("./operation").op)({erf_:function(e){var t=(0,i.convertToTensor)(e,"x","erf");c.assert("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=(0,u.cast)(t,"float32"));var r={x:t};return o.ENGINE.runKernel(s.Erf,r)}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./cast":"fGyHk","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eGc2O:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"euclideanNorm",function(){return s});var o=e("./norm"),s=(0,e("./operation").op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.norm)(e,"euclidean",t,r)}})},{"./norm":"2ucoK","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2ucoK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"norm",function(){return _});var o=e("../tensor_util_env"),s=e("../util"),i=e("./abs"),c=e("./axis_util"),u=e("./max"),l=e("./min"),p=e("./operation"),f=e("./pow"),d=e("./reshape"),h=e("./scalar"),m=e("./sqrt"),g=e("./square"),v=e("./sum"),_=(0,p.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===t.rank)return(0,i.abs)(t);if(1!==t.rank&&null===n)return e((0,d.reshape)(t,[-1]),r,n);if(1===t.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===r)return(0,v.sum)((0,i.abs)(t),n);if(r===1/0)return(0,u.max)((0,i.abs)(t),n);if(r===-1/0)return(0,l.min)((0,i.abs)(t),n);if("euclidean"===r||2===r)return(0,m.sqrt)((0,v.sum)((0,f.pow)((0,i.abs)(t),(0,h.scalar)(2,"int32")),n));throw Error("Error in norm: invalid ord value: ".concat(r))}if(Array.isArray(n)&&2===n.length){if(1===r)return(0,u.max)((0,v.sum)((0,i.abs)(t),n[0]),n[1]-1);if(r===1/0)return(0,u.max)((0,v.sum)((0,i.abs)(t),n[1]),n[0]);if(r===-1/0)return(0,l.min)((0,v.sum)((0,i.abs)(t),n[1]),n[0]);if("fro"===r||"euclidean"===r)return(0,m.sqrt)((0,v.sum)((0,g.square)(t),n));throw Error("Error in norm: invalid ord value: ".concat(r))}throw Error("Error in norm: invalid axis: ".concat(n))}(e=(0,o.convertToTensor)(e,"x","norm"),t,r),p=a.shape;if(n){var _=(0,s.parseAxisParam)(r,e.shape);p=c.expandShapeToKeepDim(a.shape,_)}return(0,d.reshape)(a,p)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./abs":"l0gI3","./axis_util":"c20Tj","./max":"1LDoB","./min":"fQZS9","./operation":"23NhK","./pow":"dL1Je","./reshape":"hItZV","./scalar":"bjcHX","./sqrt":"153k2","./square":"7VgfQ","./sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c20Tj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"axesAreInnerMostDims",function(){return s}),a.export(r,"combineLocations",function(){return i}),a.export(r,"computeOutAndReduceShapes",function(){return c}),a.export(r,"expandShapeToKeepDim",function(){return u}),a.export(r,"assertAxesAreInnerMostDims",function(){return l}),a.export(r,"getAxesPermutation",function(){return p}),a.export(r,"getUndoAxesPermutation",function(){return f}),a.export(r,"getInnerMostAxes",function(){return d});var o=e("../util");function s(e,t){for(var r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function i(e,t,r){for(var n=e.length+t.length,a=[],o=0,s=0,i=0;i<n;i++)-1===r.indexOf(i)?a.push(e[o++]):a.push(t[s++]);return a}function c(e,t){for(var r=[],n=e.length,a=0;a<n;a++)-1===t.indexOf(a)&&r.push(e[a]);return[r,t.map(function(t){return e[t]})]}function u(e,t){return i(e,t.map(function(e){return 1}),t)}function l(e,t,r){o.assert(s(t,r),function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(r," input.")})}function p(e,t){if(s(e,t))return null;for(var r=[],n=0;n<t;++n)-1===e.indexOf(n)&&r.push(n);return e.forEach(function(e){return r.push(e)}),r}function f(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function d(e,t){for(var r=[],n=t-e;n<t;++n)r.push(n);return r}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1LDoB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","max");return o.ENGINE.runKernel(s.Max,{x:n},{reductionIndices:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fQZS9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","min");return o.ENGINE.runKernel(s.Min,{x:n},{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dL1Je:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pow",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({pow_:function(e,t){var r,n=(0,u.convertToTensor)(e,"base","pow"),a=(0,u.convertToTensor)(t,"exp","pow"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Pow,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bjcHX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scalar",function(){return i});var o=e("../util"),s=e("./tensor_ops_util");function i(e,t){if(((0,o.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,o.isTypedArray)(e)&&!(e instanceof Uint8Array))throw Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,s.makeTensor)(e,[],[],t)}},{"../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"153k2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrt",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sqrt_:function(e){var t=(0,i.convertToTensor)(e,"x","sqrt","float32");return o.ENGINE.runKernel(s.Sqrt,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7VgfQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"square",function(){return i});var o=e("../engine"),s=e("../tensor_util_env"),i=(0,e("./operation").op)({square_:function(e){var t=(0,s.convertToTensor)(e,"x","square");return o.ENGINE.runKernel("Square",{x:t},{})}})},{"../engine":"hSfoX","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eozn0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./cast"),u=(0,e("./operation").op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","sum");"bool"===n.dtype&&(n=(0,c.cast)(n,"int32"));var a={x:n};return o.ENGINE.runKernel(s.Sum,a,{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./cast":"fGyHk","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7bNTE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"exp",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({exp_:function(e){var t=(0,i.convertToTensor)(e,"x","exp");return o.ENGINE.runKernel(s.Exp,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8AyIU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","expandDims","string_or_numeric");return c.assert(t<=r.rank,function(){return"Axis must be <= rank of the tensor"}),o.ENGINE.runKernel(s.ExpandDims,{input:r},{dim:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ekuN8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({expm1_:function(e){var t=(0,i.convertToTensor)(e,"x","expm1");return o.ENGINE.runKernel(s.Expm1,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3zjQP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eye",function(){return l});var o=e("./buffer"),s=e("./expand_dims"),i=e("./operation"),c=e("./reshape"),u=e("./tile"),l=(0,i.op)({eye_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=(0,o.buffer)([e,t],n),i=e<=t?e:t,l=0;l<i;++l)a.set(1,l,l);var p=(0,c.reshape)(a.toTensor(),[e,t]);if(null==r)return p;if(1===r.length)return(0,u.tile)((0,s.expandDims)(p,0),[r[0],1,1]);if(2===r.length)return(0,u.tile)((0,s.expandDims)((0,s.expandDims)(p,0),0),[r[0],r[1],1,1]);if(3===r.length)return(0,u.tile)((0,s.expandDims)((0,s.expandDims)((0,s.expandDims)(p,0),0),0),[r[0],r[1],r[2],1,1]);throw Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(r.length,"D."))}})},{"./buffer":"3oGg4","./expand_dims":"8AyIU","./operation":"23NhK","./reshape":"hItZV","./tile":"3dBuq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3dBuq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({tile_:function(e,t){var r=(0,i.convertToTensor)(e,"x","tile","string_or_numeric");return c.assert(r.rank===t.length,function(){return"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of reps ".concat(t,".")}),o.ENGINE.runKernel(s.Tile,{x:r},{reps:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6wQYX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floor",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({floor_:function(e){var t=(0,i.convertToTensor)(e,"x","floor","float32");return o.ENGINE.runKernel(s.Floor,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9JiHz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gather",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({gather_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=(0,i.convertToTensor)(e,"x","gather"),c=(0,i.convertToTensor)(t,"indices","gather","int32");return o.ENGINE.runKernel(s.GatherV2,{x:a,indices:c},{axis:r,batchDims:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d2nQD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greater",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({greater_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","greater","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","greater","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.Greater,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lKn6m:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqual",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({greaterEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","greaterEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","greaterEqual","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.GreaterEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jdH88:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"imag",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({imag_:function(e){var t=(0,i.convertToTensor)(e,"input","imag");return o.ENGINE.runKernel(s.Imag,{input:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dSpiR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isFinite_:function(e){var t=(0,i.convertToTensor)(e,"x","isFinite");return o.ENGINE.runKernel(s.IsFinite,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iCcl7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isInf_:function(e){var t=(0,i.convertToTensor)(e,"x","isInf");return o.ENGINE.runKernel(s.IsInf,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bNS6C:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({isNaN_:function(e){var t=(0,i.convertToTensor)(e,"x","isNaN");return o.ENGINE.runKernel(s.IsNan,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1K7b3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"leakyRelu",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=(0,i.convertToTensor)(e,"x","leakyRelu");return o.ENGINE.runKernel(s.LeakyRelu,{x:r},{alpha:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5JwUZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"less",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({less_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","less","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","less","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.Less,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hEJ4U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessEqual",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({lessEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","lessEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","lessEqual","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.LessEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hMcHv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linspace",function(){return i});var o=e("../engine"),s=e("../kernel_names");function i(e,t,r){if(r<=0)throw Error("The number of values should be positive.");return o.ENGINE.runKernel(s.LinSpace,{},{start:e,stop:t,num:r})}},{"../engine":"hSfoX","../kernel_names":"7S4Sf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f1rZJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"localResponseNormalization",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,u=(0,i.convertToTensor)(e,"x","localResponseNormalization");c.assert(4===u.rank||3===u.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n rank ".concat(u.rank,".")}),c.assert(c.isInt(t),function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")});var p=u,f=!1;3===u.rank&&(f=!0,p=(0,l.reshape)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));var d={x:p},h=o.ENGINE.runKernel(s.LRN,d,{depthRadius:t,bias:r,alpha:n,beta:a});return f?(0,l.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bq5Qf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({log_:function(e){var t=(0,i.convertToTensor)(e,"x","log","float32");return o.ENGINE.runKernel(s.Log,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9S55v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({log1p_:function(e){var t=(0,i.convertToTensor)(e,"x","log1p");return o.ENGINE.runKernel(s.Log1p,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gIiiz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSigmoid",function(){return f});var o=e("../gradients"),s=e("../tensor_util_env"),i=e("./mul"),c=e("./neg"),u=e("./operation"),l=e("./sigmoid"),p=e("./softplus"),f=(0,u.op)({logSigmoid_:function(e){var t=(0,s.convertToTensor)(e,"x","logSigmoid");return(0,o.customGrad)(function(e){return{value:(0,c.neg)((0,p.softplus)((0,c.neg)(e))),gradFunc:function(t){return(0,i.mul)(t,(0,l.sigmoid)((0,c.neg)(e)))}}})(t)}})},{"../gradients":"anUIo","../tensor_util_env":"6H9ky","./mul":"6PT7e","./neg":"7x4sX","./operation":"23NhK","./sigmoid":"dr0s3","./softplus":"2OSaU","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],anUIo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"customGrad",function(){return m}),a.export(r,"variableGrads",function(){return h}),a.export(r,"valueAndGrad",function(){return f}),a.export(r,"valueAndGrads",function(){return d}),a.export(r,"grad",function(){return l}),a.export(r,"grads",function(){return p});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("./engine"),i=e("./tensor"),c=e("./tensor_util_env"),u=e("./util");function l(e){return u.assert(u.isFunction(e),function(){return"The f passed in grad(f) must be a function"}),function(t,r){var n=(0,c.convertToTensor)(t,"x","tf.grad","string_or_numeric"),a=null!=r?(0,c.convertToTensor)(r,"dy","tf.grad"):null;return s.ENGINE.tidy(function(){var t=s.ENGINE.gradients(function(){return e(n)},[n],a),r=t.value,o=t.grads;return null!=a&&u.assertShapesMatch(r.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),g(o),o[0]})}}function p(e){return u.assert(u.isFunction(e),function(){return"The f passed in grads(f) must be a function"}),function(t,r){u.assert(Array.isArray(t),function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"});var n=(0,c.convertToTensorArray)(t,"args","tf.grads","string_or_numeric"),a=null!=r?(0,c.convertToTensor)(r,"dy","tf.grads"):null;return s.ENGINE.tidy(function(){var t=s.ENGINE.gradients(function(){return e.apply(void 0,(0,o._)(n))},n,a),r=t.value,i=t.grads;return null!=a&&u.assertShapesMatch(r.shape,a.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),g(i),i})}}function f(e){return u.assert(u.isFunction(e),function(){return"The f passed in valueAndGrad(f) must be a function"}),function(t,r){u.assert(t instanceof i.Tensor,function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"}),u.assert(null==r||r instanceof i.Tensor,function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"});var n=s.ENGINE.gradients(function(){return e(t)},[t],r),a=n.grads,o=n.value;return g(a),{grad:a[0],value:o}}}function d(e){return u.assert(u.isFunction(e),function(){return"The f passed in valueAndGrads(f) must be a function"}),function(t,r){u.assert(Array.isArray(t)&&t.every(function(e){return e instanceof i.Tensor}),function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"}),u.assert(null==r||r instanceof i.Tensor,function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"});var n=s.ENGINE.gradients(function(){return e.apply(void 0,(0,o._)(t))},t,r);return null!=r&&u.assertShapesMatch(n.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),g(n.grads),n}}function h(e,t){u.assert(u.isFunction(e),function(){return"The f passed in variableGrads(f) must be a function"}),u.assert(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof i.Variable}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var r=null!=t;if(!r)for(var n in t=[],s.ENGINE.registeredVariables)t.push(s.ENGINE.registeredVariables[n]);var a=r?t.filter(function(e){return!e.trainable}):null,o=t.length;t=t.filter(function(e){return e.trainable}),u.assert(t.length>0,function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(o," variables is ")+"trainable."});var c=s.ENGINE.gradients(e,t,null,!0),l=c.value,p=c.grads;u.assert(p.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),u.assert(0===l.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")});var f={};return t.forEach(function(e,t){null!=p[t]&&(f[e.name]=p[t])}),null!=a&&a.forEach(function(e){return f[e.name]=null}),{value:l,grads:f}}function m(e){return s.ENGINE.customGrad(e)}function g(e){if(e.filter(function(e){return null==e}).length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n the f you passed encloses all operations that lead from x to y.")}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","./engine":"hSfoX","./tensor":"6yx3i","./tensor_util_env":"6H9ky","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7x4sX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"neg",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({neg_:function(e){var t=(0,i.convertToTensor)(e,"x","neg");return o.ENGINE.runKernel(s.Neg,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2OSaU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({softplus_:function(e){var t=(0,i.convertToTensor)(e,"x","softplus");return o.ENGINE.runKernel(s.Softplus,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kFfe3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSoftmax",function(){return g});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../gradients"),i=e("../tensor_util_env"),c=e("./cast"),u=e("./exp"),l=e("./log"),p=e("./max"),f=e("./mul"),d=e("./operation"),h=e("./sub"),m=e("./sum"),g=(0,d.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,i.convertToTensor)(e,"logits","logSoftmax");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and axis was ").concat(t));return(0,s.customGrad)(function(e,r){var n=(0,p.max)(e,t,!0),a=(0,h.sub)(e,n),s=(0,h.sub)((0,c.cast)(a,"float32"),(0,l.log)((0,m.sum)((0,u.exp)(a),t,!0)));return r([s]),{value:s,gradFunc:function(e,r){var n=(0,o._)(r,1)[0],a=(0,u.exp)(n);return(0,h.sub)(e,(0,f.mul)((0,m.sum)(e,t,!0),a))}}})(r)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../gradients":"anUIo","../tensor_util_env":"6H9ky","./cast":"fGyHk","./exp":"7bNTE","./log":"bq5Qf","./max":"1LDoB","./mul":"6PT7e","./operation":"23NhK","./sub":"bzNOI","./sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bzNOI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sub",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({sub_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","sub"),a=(0,u.convertToTensor)(t,"b","sub"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Sub,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"80fTx":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logSumExp",function(){return g});var o=e("../tensor_util_env"),s=e("../util"),i=e("./add"),c=e("./axis_util"),u=e("./exp"),l=e("./log"),p=e("./max"),f=e("./operation"),d=e("./reshape"),h=e("./sub"),m=e("./sum"),g=(0,f.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,o.convertToTensor)(e,"x","logSumExp"),a=(0,s.parseAxisParam)(t,n.shape),f=(0,p.max)(n,a,!0),g=(0,h.sub)(n,f),v=(0,u.exp)(g),_=(0,m.sum)(v,a),x=(0,l.log)(_),y=(0,i.add)((0,d.reshape)(f,x.shape),x);if(r){var b=(0,c.expandShapeToKeepDim)(y.shape,a);return(0,d.reshape)(y,b)}return y}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./add":"dD0ce","./axis_util":"c20Tj","./exp":"7bNTE","./log":"bq5Qf","./max":"1LDoB","./operation":"23NhK","./reshape":"hItZV","./sub":"bzNOI","./sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cdrF8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAnd",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_util"),u=(0,e("./operation").op)({logicalAnd_:function(e,t){var r=(0,i.convertToTensor)(e,"a","logicalAnd","bool"),n=(0,i.convertToTensor)(t,"b","logicalAnd","bool");return(0,c.assertAndGetBroadcastShape)(r.shape,n.shape),o.ENGINE.runKernel(s.LogicalAnd,{a:r,b:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jYdjG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({logicalNot_:function(e){var t=(0,i.convertToTensor)(e,"x","logicalNot","bool");return o.ENGINE.runKernel(s.LogicalNot,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"91ilU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOr",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./broadcast_util"),u=(0,e("./operation").op)({logicalOr_:function(e,t){var r=(0,i.convertToTensor)(e,"a","logicalOr","bool"),n=(0,i.convertToTensor)(t,"b","logicalOr","bool");return(0,c.assertAndGetBroadcastShape)(r.shape,n.shape),o.ENGINE.runKernel(s.LogicalOr,{a:r,b:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ijRBc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalXor",function(){return l});var o=e("../tensor_util_env"),s=e("./broadcast_util"),i=e("./logical_and"),c=e("./logical_not"),u=e("./logical_or"),l=(0,e("./operation").op)({logicalXor_:function(e,t){var r=(0,o.convertToTensor)(e,"a","logicalXor","bool"),n=(0,o.convertToTensor)(t,"b","logicalXor","bool");return(0,s.assertAndGetBroadcastShape)(r.shape,n.shape),(0,i.logicalAnd)((0,u.logicalOr)(e,t),(0,c.logicalNot)((0,i.logicalAnd)(e,t)))}})},{"../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./logical_and":"cdrF8","./logical_not":"jYdjG","./logical_or":"91ilU","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6oG4m":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lowerBound",function(){return s});var o=e("./search_sorted");function s(e,t){return(0,o.searchSorted)(e,t,"left")}},{"./search_sorted":"7TcXH","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7TcXH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({searchSorted_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",n=(0,i.convertToTensor)(e,"sortedSequence","searchSorted"),a=(0,i.convertToTensor)(t,"values","searchSorted"),u=n.shape[n.shape.length-1],p=a.shape[a.shape.length-1],f=(0,l.reshape)(n,[-1,u]),d=(0,l.reshape)(a,[-1,p]);if(f.rank<2)throw Error("Sorted input argument must be at least 2-dimensional");if(f.shape[0]!==d.shape[0])throw Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,c.sizeFromShape)(d.shape)>=0x80000000)throw Error("values tensor size must less than ".concat(0x80000000));if(f.shape[1]>=0x80000000)throw Error("trailing dim_size must less than ".concat(0x80000000," for int32 output type, was ").concat(f.shape[1]));return o.ENGINE.runKernel(s.SearchSorted,{sortedSequence:f,values:d},{side:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util_base":"h6qVW","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jN1VA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({maxPool_:function(e,t,r,n,a){var l=(0,i.convertToTensor)(e,"x","maxPool"),f=l,d=!1;3===l.rank&&(d=!0,f=(0,p.reshape)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),c.assert(4===f.rank,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(f.rank,".")}),c.assert(u.eitherStridesOrDilationsAreOne(r,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")}),u.checkPadOnDimRoundingMode("maxPool",n,a);var h={x:f},m=o.ENGINE.runKernel(s.MaxPool,h,{filterSize:t,strides:r,pad:n,dimRoundingMode:a});return d?(0,p.reshape)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5bYJP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3d",function(){return f});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=e("./conv_util"),l=e("./operation"),p=e("./reshape"),f=(0,l.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",f=(0,i.convertToTensor)(e,"x","maxPool3d"),d=f,h=!1;4===f.rank&&(h=!0,d=(0,p.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),c.assert(5===d.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(d.rank,".")}),c.assert("NDHWC"===l,function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(l)}),(0,u.checkPadOnDimRoundingMode)("maxPool3d",n,a);var m={x:d},g=o.ENGINE.runKernel(s.MaxPool3D,m,{filterSize:t,strides:r,pad:n,dimRoundingMode:a,dataFormat:l});return h?(0,p.reshape)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aj3gR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmax",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({maxPoolWithArgmax_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=(0,i.convertToTensor)(e,"x","maxPoolWithArgmax"),u=o.ENGINE.runKernel(s.MaxPoolWithArgmax,{x:c},{filterSize:t,strides:r,pad:n,includeBatchInIndex:a});return{result:u[0],indexes:u[1]}}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aC15f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximum",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=e("./cast"),f=(0,e("./operation").op)({maximum_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","maximum"),a=(0,u.convertToTensor)(t,"b","maximum");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"bool"===n.dtype&&(n=(0,p.cast)(n,"int32"),a=(0,p.cast)(a,"int32")),(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var f={a:n,b:a};return s.ENGINE.runKernel(i.Maximum,f)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./cast":"fGyHk","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hL4iN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mean",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","mean");return o.ENGINE.runKernel(s.Mean,{x:n},{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"44eJS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meshgrid",function(){return p});var o=e("./mat_mul"),s=e("./ones"),i=e("./reshape"),c=e("../tensor"),u=e("../tensor_util_env"),l=e("../util_base");function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.indexing,a=void 0===n?"xy":n;if("xy"!==a&&"ij"!==a)throw TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var p=(0,u.convertToTensor)(e,"x","meshgrid",e instanceof c.Tensor?e.dtype:"float32");if(void 0===t)return[p];var f=(0,u.convertToTensor)(t,"y","meshgrid",t instanceof c.Tensor?t.dtype:"float32"),d=(0,l.sizeFromShape)(p.shape),h=(0,l.sizeFromShape)(f.shape);return"xy"===a?(p=(0,i.reshape)(p,[1,-1]),f=(0,i.reshape)(f,[-1,1]),[(0,o.matMul)((0,s.ones)([h,1],p.dtype),p),(0,o.matMul)(f,(0,s.ones)([1,d],f.dtype))]):(p=(0,i.reshape)(p,[-1,1]),f=(0,i.reshape)(f,[1,-1]),[(0,o.matMul)(p,(0,s.ones)([1,h],p.dtype)),(0,o.matMul)((0,s.ones)([d,1],f.dtype),f)])}},{"./mat_mul":"bBIoC","./ones":"kOOFR","./reshape":"hItZV","../tensor":"6yx3i","../tensor_util_env":"6H9ky","../util_base":"h6qVW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kOOFR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ones",function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if((0,i.assertNonNegativeIntegerDimensions)(t),"complex64"===r){var n=e(t,"float32"),a=(0,u.zeros)(t,"float32");return(0,c.complex)(n,a)}var l=(0,s.makeOnesTypedArray)((0,s.sizeFromShape)(t),r);return o.ENGINE.makeTensor(l,t,r)}});var o=e("../engine"),s=e("../util"),i=e("../util_base"),c=e("./complex"),u=e("./zeros")},{"../engine":"hSfoX","../util":"5L87y","../util_base":"h6qVW","./complex":"4Yj8v","./zeros":"81gWj","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"81gWj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zeros",function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if((0,s.assertNonNegativeIntegerDimensions)(t),"complex64"===r){var n=e(t,"float32"),a=e(t,"float32");return(0,i.complex)(n,a)}var c=(0,s.makeZerosTypedArray)((0,s.sizeFromShape)(t),r);return o.ENGINE.makeTensor(c,t,r)}});var o=e("../engine"),s=e("../util"),i=e("./complex")},{"../engine":"hSfoX","../util":"5L87y","./complex":"4Yj8v","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9s2uB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimum",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=e("./cast"),f=(0,e("./operation").op)({minimum_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","minimum"),a=(0,u.convertToTensor)(t,"b","minimum");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],"bool"===n.dtype&&(n=(0,p.cast)(n,"int32"),a=(0,p.cast)(a,"int32")),(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var f={a:n,b:a};return s.ENGINE.runKernel(i.Minimum,f)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./cast":"fGyHk","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eZ8jv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPad",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({mirrorPad_:function(e,t,r){var n=function(e){c.assert(2===t[e].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),c.assert(t[e][0]>=0&&t[e][0]<=a.shape[e]-u&&t[e][1]>=0&&t[e][1]<=a.shape[e]-u,function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(a.shape[e]-u," or less than 0 for input of ")+"shape ".concat(a.shape)})};c.assert("reflect"===r||"symmetric"===r,function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(r,".")});var a=(0,i.convertToTensor)(e,"x","mirrorPad");if(0===a.rank)throw Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");c.assert(t.length===a.rank,function(){return"Padding doesn't match input. Must be ".concat(a.rank,". ")+"Got ".concat(t.length,".")});for(var u=+("reflect"===r),l=0;l<a.rank;l++)n(l);return o.ENGINE.runKernel(s.MirrorPad,{x:a},{paddings:t,mode:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],asP0V:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mod",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=(0,e("./operation").op)({mod_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","mod"),a=(0,u.convertToTensor)(t,"b","mod"),l={a:n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],b:a=r[1]};return s.ENGINE.runKernel(i.Mod,l)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jOTDT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"moments",function(){return h});var o=e("../tensor_util_env"),s=e("../util"),i=e("./axis_util"),c=e("./cast"),u=e("./mean"),l=e("./operation"),p=e("./reshape"),f=e("./square"),d=e("./sub"),h=(0,l.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,o.convertToTensor)(e,"x","moments");var n=(0,s.parseAxisParam)(t,e.shape),a=(0,u.mean)(e,n,r),l=a.shape;r||(l=(0,i.expandShapeToKeepDim)(a.shape,n));var h=(0,f.square)((0,d.sub)((0,c.cast)(e,"float32"),(0,p.reshape)(a,l)));return{mean:a,variance:(0,u.mean)(h,n,r)}}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./axis_util":"c20Tj","./cast":"fGyHk","./mean":"hL4iN","./operation":"23NhK","./reshape":"hItZV","./square":"7VgfQ","./sub":"bzNOI","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b5rJ2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiRNNCell",function(){return s});var o=e("../tensor_util_env"),s=(0,e("./operation").op)({multiRNNCell_:function(e,t,r,n){for(var a=(0,o.convertToTensor)(t,"data","multiRNNCell"),s=(0,o.convertToTensorArray)(r,"c","multiRNNCell"),i=(0,o.convertToTensorArray)(n,"h","multiRNNCell"),c=a,u=[],l=0;l<e.length;l++){var p=e[l](c,s[l],i[l]);u.push(p[0]),u.push(p[1]),c=p[1]}for(var f=[],d=[],h=0;h<u.length;h+=2)f.push(u[h]),d.push(u[h+1]);return[f,d]}})},{"../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3saOA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({multinomial_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.convertToTensor)(e,"logits","multinomial"),c=a.size,l=a.rank;if(c<2)throw Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw Error("Rank of probabilities must be 1 or 2, but is ".concat(l));r=r||Math.random();var p=1===l?(0,u.reshape)(a,[1,-1]):a,f={numSamples:t,seed:r,normalized:n},d=o.ENGINE.runKernel(s.Multinomial,{logits:p},f);return 1===l?(0,u.reshape)(d,[d.size]):d}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fFOFr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqual",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({notEqual_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","notEqual","string_or_numeric"),a=(0,u.convertToTensor)(t,"b","notEqual","string_or_numeric");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.NotEqual,p)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fYUMP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({oneHot_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var c=(0,i.convertToTensor)(e,"indices","oneHot","int32");return o.ENGINE.runKernel(s.OneHot,{indices:c},{dtype:a,depth:t,onValue:r,offValue:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9beze":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({onesLike_:function(e){var t=(0,i.convertToTensor)(e,"x","onesLike");return o.ENGINE.runKernel(s.OnesLike,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lnL8Z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"outerProduct",function(){return l});var o=e("../tensor_util_env"),s=e("../util"),i=e("./mat_mul"),c=e("./operation"),u=e("./reshape"),l=(0,c.op)({outerProduct_:function(e,t){var r=(0,o.convertToTensor)(e,"v1","outerProduct"),n=(0,o.convertToTensor)(t,"v2","outerProduct");s.assert(1===r.rank&&1===n.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(r.rank," and ").concat(n.rank,".")});var a=(0,u.reshape)(r,[-1,1]),c=(0,u.reshape)(n,[1,-1]);return(0,i.matMul)(a,c)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./mat_mul":"bBIoC","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h3tg4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({pad_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(0,i.convertToTensor)(e,"x","pad");if(0===n.rank)throw Error("pad(scalar) is not defined. Pass non-scalar to pad");return o.ENGINE.runKernel(s.PadV2,{x:n},{paddings:t,constantValue:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6JxR2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad1d",function(){return c});var o=e("../util"),s=e("./operation"),i=e("./pad"),c=(0,s.op)({pad1d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.assert)(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),(0,i.pad)(e,[t],r)}})},{"../util":"5L87y","./operation":"23NhK","./pad":"h3tg4","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7hnjd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad2d",function(){return c});var o=e("../util"),s=e("./operation"),i=e("./pad"),c=(0,s.op)({pad2d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.assert)(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"5L87y","./operation":"23NhK","./pad":"h3tg4","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"25YyF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad3d",function(){return c});var o=e("../util"),s=e("./operation"),i=e("./pad"),c=(0,s.op)({pad3d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.assert)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"5L87y","./operation":"23NhK","./pad":"h3tg4","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1jGjz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pad4d",function(){return c});var o=e("../util"),s=e("./operation"),i=e("./pad"),c=(0,s.op)({pad4d_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,o.assert)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),(0,i.pad)(e,t,r)}})},{"../util":"5L87y","./operation":"23NhK","./pad":"h3tg4","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eritJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pool",function(){return m});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../tensor_util_env"),i=e("../util"),c=e("./avg_pool"),u=e("./batch_to_space_nd"),l=e("./conv_util"),p=e("./max_pool"),f=e("./operation"),d=e("./reshape"),h=e("./space_to_batch_nd"),m=(0,f.op)({pool_:function(e,t,r,n,a,f,m){null==a&&(a=[1,1]),null==f&&(f=1),0===n&&(n="valid");var g,v,_,x,y,b,k,j,w,S,I,T,N,C,E=(0,s.convertToTensor)(e,"x","maxPool"),F=E,A=!1;3===E.rank&&(A=!0,F=(0,d.reshape)(E,[1,E.shape[0],E.shape[1],E.shape[2]])),i.assert(l.eitherStridesOrDilationsAreOne(f,a),function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(f," and dilations '").concat(a,"'")});var P=l.computePool2DInfo(F.shape,t,f,a,n),R=[P.dilationHeight,P.dilationWidth];C="same"===n?(g=[P.filterHeight,P.filterWidth],v=R,x=(_=g.map(function(e,t){return e+(e-1)*(v[t]-1)}).map(function(e){return e-1})).map(function(e){return Math.floor(e/2)}),y=_.map(function(e,t){return e-x[t]}),_.map(function(e,t){return[x[t],y[t]]})):[[0,0],[0,0]];var D=1===R[0]&&1===R[1],M=(0,o._)((b=[P.inHeight,P.inWidth],k=R,w=(j=C).map(function(e){return e[0]}),I=b.concat(w,S=j.map(function(e){return e[1]})),T=k.map(function(e,t){return(e-I[t]%e)%e}),N=S.map(function(e,t){return e+T[t]}),[k.map(function(e,t){return[w[t],N[t]]}),k.map(function(e,t){return[0,T[t]]})]),2),O=M[0],L=M[1],V=D?n:"valid",U=D?F:(0,h.spaceToBatchND)(F,R,O),B=("avg"===r?function(){return(0,c.avgPool)(U,t,f,V,m)}:function(){return(0,p.maxPool)(U,t,f,V,m)})(),z=D?B:(0,u.batchToSpaceND)(B,R,L);return A?(0,d.reshape)(z,[z.shape[1],z.shape[2],z.shape[3]]):z}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../tensor_util_env":"6H9ky","../util":"5L87y","./avg_pool":"c72tI","./batch_to_space_nd":"jJjfM","./conv_util":"3Awi4","./max_pool":"jN1VA","./operation":"23NhK","./reshape":"hItZV","./space_to_batch_nd":"c0hcC","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c0hcC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({spaceToBatchND_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","spaceToBatchND");return c.assert(n.rank>=1+t.length,function(){return"input rank ".concat(n.rank," should be > than [blockShape] ").concat(t.length)}),c.assert(r.length===t.length,function(){return"paddings.shape[0] ".concat(r.length," must be equal to [blockShape] ").concat(t.length)}),c.assert(n.shape.reduce(function(e,n,a){return a>0&&a<=t.length?e&&(n+r[a-1][0]+r[a-1][1])%t[a-1]==0:e},!0),function(){return"input spatial dimensions ".concat(n.shape.slice(1)," with paddings ").concat(r.toString()," must be divisible by blockShapes ").concat(t.toString())}),o.ENGINE.runKernel(s.SpaceToBatchND,{x:n},{blockShape:t,paddings:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2LpOI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prelu",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({prelu_:function(e,t){var r=(0,i.convertToTensor)(e,"x","prelu"),n=(0,i.convertToTensor)(t,"alpha","prelu");return o.ENGINE.runKernel(s.Prelu,{x:r,alpha:n})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2aFf0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prod",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./cast"),u=(0,e("./operation").op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,i.convertToTensor)(e,"x","prod");"bool"===n.dtype&&(n=(0,c.cast)(n,"int32"));var a={x:n};return o.ENGINE.runKernel(s.Prod,a,{axis:t,keepDims:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./cast":"fGyHk","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"18nVK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedGather_:function(e,t,r,n){var a=e.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"raggedGather","int32")}),c=(0,i.convertToTensor)(t,"paramsDenseValues","raggedGather"),u=(0,i.convertToTensor)(r,"indices","raggedGather","int32"),l=o.ENGINE.runKernel(s.RaggedGather,{paramsNestedSplits:a,paramsDenseValues:c,indices:u},{outputRaggedRank:n});return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dR4B1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedRange_:function(e,t,r){var n=(0,i.convertToTensor)(e,"starts","raggedRange"),a=(0,i.convertToTensor)(t,"limits","raggedRange",n.dtype),c=(0,i.convertToTensor)(r,"deltas","raggedRange",n.dtype),u=o.ENGINE.runKernel(s.RaggedRange,{starts:n,limits:a,deltas:c});return{rtNestedSplits:u[0],rtDenseValues:u[1]}}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7npU9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({raggedTensorToTensor_:function(e,t,r,n,a){var c=(0,i.convertToTensor)(e,"shape","raggedTensorToTensor","int32"),u=(0,i.convertToTensor)(t,"values","raggedTensorToTensor"),l=(0,i.convertToTensor)(r,"defaultValue","raggedTensorToTensor",u.dtype),p=n.map(function(e,t){return(0,i.convertToTensor)(e,"tensors".concat(t),"raggedTensorToTensor","int32")});return o.ENGINE.runKernel(s.RaggedTensorToTensor,{shape:c,values:u,defaultValue:l,rowPartitionTensors:p},{rowPartitionTypes:a})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8gF1a":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rand",function(){return c});var o=e("../engine"),s=e("../util"),i=e("../util_base"),c=(0,e("./operation").op)({rand_:function(e,t,r){(0,i.assertNonNegativeIntegerDimensions)(e);var n=(0,s.sizeFromShape)(e),a=null;if(null==r||"float32"===r)a=new Float32Array(n);else if("int32"===r)a=new Int32Array(n);else if("bool"===r)a=new Uint8Array(n);else throw Error("Unknown data type ".concat(r));for(var c=0;c<n;c++)a[c]=t();return o.ENGINE.makeTensor(a,e,r)}})},{"../engine":"hSfoX","../util":"5L87y","../util_base":"h6qVW","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Zbid":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomGamma",function(){return u});var o=e("../util_base"),s=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomGamma_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if((0,o.assertNonNegativeIntegerDimensions)(e),null==r&&(r=1),null==n&&(n="float32"),"float32"!==n&&"int32"!==n)throw Error("Unsupported data type ".concat(n));for(var i=new(0,c.RandGamma)(t,r,n,a),u=(0,s.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"h6qVW","./buffer":"3oGg4","./operation":"23NhK","./rand_util":"2aCQ8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2aCQ8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MPRandGauss",function(){return u}),a.export(r,"RandGamma",function(){return l}),a.export(r,"UniformRandom",function(){return p}),a.export(r,"jarqueBeraNormalityTest",function(){return f}),a.export(r,"expectArrayInMeanStdRange",function(){return d});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("seedrandom"),c=e("../test_util"),u=function(){"use strict";function e(t,r,n,a,s){(0,o._)(this,e),this.mean=t,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var c=s||Math.random();this.random=i.alea(c.toString())}return(0,s._)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e,t,r=this.nextVal;return this.nextVal=NaN,r}for(var n=!1;!n;){var a=void 0,o=void 0,s=void 0;do s=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o;while(s>=1||0===s)var i=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*a*i,t=this.mean+this.stdDev*o*i,(!this.truncated||this.isValidTruncated(e))&&(n=!0)}return(!this.truncated||this.isValidTruncated(t))&&(this.nextVal=this.convertValue(t)),this.convertValue(e)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),l=function(){"use strict";function e(t,r,n,a){(0,o._)(this,e),this.alpha=t,this.beta=1/r,this.dtype=n;var s=a||Math.random();this.randu=i.alea(s.toString()),this.randn=new u(0,1,n,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,s._)(e,[{key:"nextValue",value:function(){for(var e,t,r,n,a,o;;){do n=this.randn.nextValue(),o=1+this.c*n;while(o<=0)if(o*=o*o,t=1-.331*(e=n*n)*e,r=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),p=function(){"use strict";function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if((0,o._)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=r,this.range=n-r,this.dtype=a,null==s&&(s=Math.random()),"number"==typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw Error("The difference between ".concat(r," - ").concat(n," <= 1 and dtype is not float"));this.random=i.alea(s)}return(0,s._)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();function f(e){var t=e.length/6*(Math.pow(function(e){for(var t=h(e),r=e.length,n=0,a=0,o=0;o<r;o++){var s=e[o]-t;n+=Math.pow(s,2),a+=Math.pow(s,3)}return 1/r*a/Math.pow(1/(r-1)*n,1.5)}(e),2)+.25*Math.pow(function(e){for(var t=h(e),r=e.length,n=0,a=0,o=0;o<r;o++){var s=e[o]-t;n+=Math.pow(s,2),a+=Math.pow(s,4)}return 1/r*a/Math.pow(1/r*n,2)}(e)-3,2));if(t>5.991)throw Error("Invalid p-value for JB: ".concat(t))}function d(e,t,r,n){null==n&&(n=(0,c.testEpsilon)());var a=h(e);(0,c.expectNumbersClose)(a,t,n),(0,c.expectNumbersClose)(function(e,t){for(var r=0,n=0;n<e.length;n++){var a=e[n]-t;r+=a*a}return Math.sqrt(r/e.length)}(e,a),r,n)}function h(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2",seedrandom:"cQeYB","../test_util":"kqbGH","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cQeYB:[function(e,t,r,n){var a=e("1927a92fef990886"),o=e("7bb2acc2aee01039"),s=e("6d848120ff8a99cc"),i=e("ed9efe137f601fc9"),c=e("726f7a7dc874a77"),u=e("a96f31f0fd0d238b"),l=e("1cef7d30f03deb6f");l.alea=a,l.xor128=o,l.xorwow=s,l.xorshift7=i,l.xor4096=c,l.tychei=u,t.exports=l},{"1927a92fef990886":"5GN3M","7bb2acc2aee01039":"lnYk0","6d848120ff8a99cc":"ifYgp",ed9efe137f601fc9:"gbOf7","726f7a7dc874a77":"crBxX",a96f31f0fd0d238b:"6ebFH","1cef7d30f03deb6f":"ijIev"}],"5GN3M":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t,r=this,n=(t=0xefc8249d,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=0x100000000*n}return(t>>>0)*23283064365386963e-26});r.next=function(){var e=2091639*r.s0+23283064365386963e-26*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1)}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var r=new n(e),s=t&&t.state,i=r.next;return i.int32=function(){return 0x100000000*r.next()|0},i.double=function(){return i()+(2097152*i()|0)*11102230246251565e-32},i.quick=i,s&&((void 0===s?"undefined":(0,a._)(s))=="object"&&o(s,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.alea=s}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw"}],lnYk0:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=r.charCodeAt(n),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,s&&((void 0===s?"undefined":(0,a._)(s))=="object"&&o(s,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.xor128=s}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw"}],ifYgp:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,s&&((void 0===s?"undefined":(0,a._)(s))=="object"&&o(s,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.xorwow=s}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw"}],gbOf7:[function(e,t,r,n){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,a=t.i;return e=n[a],e^=e>>>7,r=e^e<<24^((e=n[a+1&7])^e>>>10)^((e=n[a+3&7])^e>>>3)^((e=n[a+4&7])^e<<7),e=n[a+7&7],e^=e<<13,r^=e^e<<9,n[a]=r,t.i=a+1&7,r};var r,n=e,a=[];if(n===(0|n))a[0]=n;else for(r=0,n=""+n;r<n.length;++r)a[7&r]=a[7&r]<<15^n.charCodeAt(r)+a[r+1&7]<<13;for(;a.length<8;)a.push(0);for(r=0;r<8&&0===a[r];++r);for(8==r?a[7]=-1:a[r],t.x=a,t.i=0,r=256;r>0;--r)t.next()}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var r=new n(e),o=t&&t.state,s=function(){return(r.next()>>>0)/0x100000000};return s.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},s.int32=r.next,s.quick=s,o&&(o.x&&a(o,r),s.state=function(){return a(r,{})}),s}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o}(0,t,"function"==typeof define&&define)},{}],crBxX:[function(e,t,r,n){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,a=t.X,o=t.i;return t.w=n=n+0x61c88647|0,r=a[o+34&127],e=a[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=a[o]=r^e,t.i=o,r+(n^n>>>16)|0},!function(e,t){var r,n,a,o,s,i=[],c=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,c=Math.max(c,t.length)),a=0,o=-32;o<c;++o)t&&(n^=t.charCodeAt((o+32)%t.length)),0===o&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(s=s+0x61c88647|0,a=0==(r=i[127&o]^=n+s)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)n=i[a+34&127],r=i[a=a+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,i[a]=n^r;e.w=s,e.X=i,e.i=a}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var r=new n(e),o=t&&t.state,s=function(){return(r.next()>>>0)/0x100000000};return s.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},s.int32=r.next,s.quick=s,o&&(o.X&&a(o,r),s.state=function(){return a(r,{})}),s}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o}(0,t,"function"==typeof define&&define)},{}],"6ebFH":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,a=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=r.charCodeAt(n),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/0x100000000};return i.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},i.int32=r.next,i.quick=i,s&&((void 0===s?"undefined":(0,a._)(s))=="object"&&o(s,r),i.state=function(){return o(r,{})}),i}t&&t.exports?t.exports=s:r&&r.amd?r(function(){return s}):this.tychei=s}(0,t,"function"==typeof define&&define)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw"}],ijIev:[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");!function(r,n,o){var s,i="random",c=o.pow(256,6),u=o.pow(2,52),l=2*u;function p(e,t,p){var g=[],v=h(function e(t,r){var n,o=[],s=void 0===t?"undefined":(0,a._)(t);if(r&&"object"==s)for(n in t)try{o.push(e(t[n],r-1))}catch(e){}return o.length?o:"string"==s?t:t+"\0"}((t=!0==t?{entropy:!0}:t||{}).entropy?[e,m(n)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(256):(e=new Uint8Array(256),(r.crypto||r.msCrypto).getRandomValues(e)),m(e)}catch(e){var t=r.navigator,a=t&&t.plugins;return[+new Date,r,a,r.screen,m(n)]}}():e,3),g),_=new f(g),x=function(){for(var e=_.g(6),t=c,r=0;e<u;)e=(e+r)*256,t*=256,r=_.g(1);for(;e>=l;)e/=2,t/=2,r>>>=1;return(e+r)/t};return x.int32=function(){return 0|_.g(4)},x.quick=function(){return _.g(4)/0x100000000},x.double=x,h(m(_.S),n),(t.pass||p||function(e,t,r,n){return(n&&(n.S&&d(n,_),e.state=function(){return d(_,{})}),r)?(o[i]=e,t):e})(x,v,"global"in t?t.global:this==o,t.state)}function f(e){var t,r=e.length,n=this,a=0,o=n.i=n.j=0,s=n.S=[];for(r||(e=[r++]);a<256;)s[a]=a++;for(a=0;a<256;a++)s[a]=s[o=255&o+e[a%r]+(t=s[a])],s[o]=t;(n.g=function(e){for(var t,r=0,a=n.i,o=n.j,s=n.S;e--;)t=s[a=255&a+1],r=256*r+s[255&(s[a]=s[o=255&o+t])+(s[o]=t)];return n.i=a,n.j=o,r})(256)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){for(var r,n=e+"",a=0;a<n.length;)t[255&a]=255&(r^=19*t[255&a])+n.charCodeAt(a++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(h(o.random(),n),t.exports){t.exports=p;try{s=e("72141cc4d77fdbf9")}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return p}):o["seed"+i]=p}("undefined"!=typeof self?self:void 0,[],Math)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw","72141cc4d77fdbf9":"fJabD"}],kqbGH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TEST_EPSILON_FLOAT16",function(){return l}),a.export(r,"expectArraysClose",function(){return p}),a.export(r,"testEpsilon",function(){return f}),a.export(r,"expectPromiseToFail",function(){return h}),a.export(r,"expectArraysEqual",function(){return m}),a.export(r,"expectNumbersClose",function(){return g}),a.export(r,"expectValuesInRange",function(){return _}),a.export(r,"expectArrayBuffersEqual",function(){return x}),a.export(r,"encodeStrings",function(){return function e(t){for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?e(n):t[r]=(0,u.encodeString)(n)}return t}}),a.export(r,"createVideoElement",function(){return y}),a.export(r,"play",function(){return b});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("./engine"),c=e("./tensor_util_env"),u=e("./util"),l=.1;function p(e,t,r){return null==r&&(r=f()),d(e,t,function(e,t){return v(e,t,r)})}function f(){return 32===i.ENGINE.backend.floatPrecision()?.001:l}function d(e,t,r){var n=!0;if(((0,u.isTypedArray)(e)||(0,u.isTypedArray)(t))&&(n=!1),(0,u.isTypedArray)(e)&&(0,u.isTypedArray)(t)&&(n=!0),n){var a=e.constructor.name,o=t.constructor.name;if(a!==o)throw Error("Arrays are of different type. Actual: ".concat(a,". ")+"Expected: ".concat(o))}if(Array.isArray(e)&&Array.isArray(t)){var s=(0,c.inferShape)(e),i=(0,c.inferShape)(t);if(!(0,u.arraysEqual)(s,i))throw Error("Arrays have different shapes. "+"Actual: [".concat(s,"]. Expected: [").concat(i,"]"))}var l=(0,u.isTypedArray)(e)?e:(0,u.flatten)(e),p=(0,u.isTypedArray)(t)?t:(0,u.flatten)(t);if(l.length!==p.length)throw Error("Arrays have different lengths actual: ".concat(l.length," vs ")+"expected: ".concat(p.length,".\n")+"Actual: ".concat(l,".\n")+"Expected: ".concat(p,"."));for(var f=0;f<p.length;++f){var d=l[f],h=p[f];if(!r(d,h))throw Error("Arrays differ: actual[".concat(f,"] = ").concat(d,", expected[").concat(f,"] = ").concat(h,".\n")+"Actual: ".concat(l,".\n")+"Expected: ".concat(p,"."))}"undefined"!=typeof expect&&expect().nothing()}function h(e,t){e().then(function(){return t.fail()},function(){return t()}),"undefined"!=typeof expect&&expect().nothing()}function m(e,t){var r="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return(0,u.isString)(e)||(0,u.isString)(e[0])||(0,u.isString)(t)||(0,u.isString)(t[0])?d(e,r,function(e,t){return e==t}):d(e,t,function(e,t){return v(e,t,0)})}function g(e,t,r){if(null==r&&(r=f()),!v(e,t,r))throw Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!=typeof expect&&expect().nothing()}function v(e,t,r){return!(isFinite(e)||isFinite(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>r)}function _(e,t,r){for(var n=0;n<e.length;n++)if(e[n]<t||e[n]>r)throw Error("Value out of range:".concat(e[n]," low: ").concat(t,", high: ").concat(r))}function x(e,t){var r=new Float32Array(e),n=new Float32Array(t);if(r.length!==n.length)throw Error("Expected ArrayBuffer to be of length "+"".concat(n.length,", but it was ").concat(r.length));for(var a=0;a<n.length;a++)if(r[a]!==n[a])throw Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(n[a]," but got ").concat(r[a]," instead"))}function y(e){var t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise(function(e){t.addEventListener("loadeddata",function(r){return e(t)}),t.load()})}function b(e){return k.apply(this,arguments)}function k(){return(k=(0,o._)(function(e){return(0,s._)(this,function(t){switch(t.label){case 0:return[4,e.play()];case 1:if(t.sent(),!("requestVideoFrameCallback"in e))return[3,3];return[4,new Promise(function(t){e.requestVideoFrameCallback(t)})];case 2:t.sent(),t.label=3;case 3:return[2]}})})).apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","./engine":"hSfoX","./tensor_util_env":"6H9ky","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k5ghv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomNormal",function(){return u});var o=e("../util_base"),s=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if((0,o.assertNonNegativeIntegerDimensions)(e),null!=n&&"bool"===n)throw Error("Unsupported data type ".concat(n));for(var i=new(0,c.MPRandGauss)(t,r,n,!1,a),u=(0,s.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"h6qVW","./buffer":"3oGg4","./operation":"23NhK","./rand_util":"2aCQ8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7FgHR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomStandardNormal",function(){return i});var o=e("./operation"),s=e("./random_normal"),i=(0,o.op)({randomStandardNormal_:function(e,t,r){if(null!=t&&"bool"===t)throw Error("Unsupported data type ".concat(t));return(0,s.randomNormal)(e,0,1,t,r)}})},{"./operation":"23NhK","./random_normal":"k5ghv","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c1FSD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomUniform",function(){return u});var o=e("../util_base"),s=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({randomUniform_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;(0,o.assertNonNegativeIntegerDimensions)(e);for(var i=(0,s.buffer)(e,n),u=new(0,c.UniformRandom)(t,r,null,a),l=0;l<i.values.length;l++)i.values[l]=u.nextValue();return i.toTensor()}})},{"../util_base":"h6qVW","./buffer":"3oGg4","./operation":"23NhK","./rand_util":"2aCQ8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2UBJS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"randomUniformInt",function(){return i});var o=e("./operation"),s=e("./random_uniform"),i=(0,o.op)({randomUniformInt_:function(e,t,r,n){return(0,s.randomUniform)(e,t,r,"int32",n)}})},{"./operation":"23NhK","./random_uniform":"c1FSD","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dg2ot:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i});var o=e("../engine"),s=e("../kernel_names");function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===r)throw Error("Cannot have a step of zero");return o.ENGINE.runKernel(s.Range,{},{start:e,stop:t,step:r,dtype:n})}},{"../engine":"hSfoX","../kernel_names":"7S4Sf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i8MTR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"real",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({real_:function(e){var t=(0,i.convertToTensor)(e,"input","real");return o.ENGINE.runKernel(s.Real,{input:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"19GKS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reciprocal_:function(e){var t=(0,i.convertToTensor)(e,"x","reciprocal");return o.ENGINE.runKernel(s.Reciprocal,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"34tae":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({relu_:function(e){var t=(0,i.convertToTensor)(e,"x","relu");return o.ENGINE.runKernel(s.Relu,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kK1do:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({relu6_:function(e){var t=(0,i.convertToTensor)(e,"x","relu6");return o.ENGINE.runKernel(s.Relu6,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cbIap:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({reverse_:function(e,t){var r=(0,i.convertToTensor)(e,"x","reverse");return o.ENGINE.runKernel(s.Reverse,{x:r},{dims:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8Y48j":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse1d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse1d_:function(e){var t=(0,o.convertToTensor)(e,"x","reverse");return s.assert(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")}),(0,c.reverse)(t,0)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reverse":"cbIap","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gpq5B:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse2d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse2d_:function(e,t){var r=(0,o.convertToTensor)(e,"x","reverse");return s.assert(2===r.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reverse":"cbIap","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9xp5v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse3d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse3d_:function(e,t){var r=(0,o.convertToTensor)(e,"x","reverse");return s.assert(3===r.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reverse":"cbIap","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3l299":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse4d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./reverse"),u=(0,i.op)({reverse4d_:function(e,t){var r=(0,o.convertToTensor)(e,"x","reverse");return s.assert(4===r.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(r.rank,".")}),(0,c.reverse)(r,t)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reverse":"cbIap","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eUmtk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({round_:function(e){var t=(0,i.convertToTensor)(e,"x","round");return o.ENGINE.runKernel(s.Round,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dPOop:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrt",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({rsqrt_:function(e){var t=(0,i.convertToTensor)(e,"x","rsqrt","float32");return o.ENGINE.runKernel(s.Rsqrt,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b4cxU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({selu_:function(e){var t=(0,i.convertToTensor)(e,"x","selu");return o.ENGINE.runKernel(s.Selu,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c4HPd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"separableConv2d",function(){return p});var o=e("../tensor_util_env"),s=e("../util"),i=e("./conv2d"),c=e("./depthwise_conv2d"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({separableConv2d_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",f=(0,o.convertToTensor)(e,"x","separableConv2d"),d=(0,o.convertToTensor)(t,"depthwiseFilter","separableConv2d"),h=(0,o.convertToTensor)(r,"pointwiseFilter","separableConv2d"),m=f,g=!1;if(3===f.rank&&(g=!0,m=(0,l.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),"NCHW"===p)throw Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");s.assert(4===m.rank,function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")}),s.assert(4===d.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")}),s.assert(4===h.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")}),s.assert(1===h.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(h.shape[0],".")}),s.assert(1===h.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(h.shape[1],".")});var v=d.shape[2],_=d.shape[3];s.assert(h.shape[2]===v*_,function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(v*_,", ")+"but got ".concat(h.shape[2],".")});var x=(0,c.depthwiseConv2d)(m,d,n,a,p,u),y=(0,i.conv2d)(x,h,1,"valid",p);return g?(0,l.reshape)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./conv2d":"5PoKv","./depthwise_conv2d":"k8VSg","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9uYVH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"setdiff1dAsync",function(){return p});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor"),c=e("../tensor_util_env"),u=e("../util");function l(){return(l=(0,o._)(function(e,t){var r,n,a,o,l,p,f,d,h,m;return(0,s._)(this,function(s){switch(s.label){case 0:return r=(0,c.convertToTensor)(e,"x","setdiff1d"),n=(0,c.convertToTensor)(t,"y","setdiff1d"),u.assert(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(n.dtype,").")}),u.assert(1===r.rank,function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")}),u.assert(1===n.rank,function(){return"y should be 1D tensor, but got y (".concat(n.shape,").")}),[4,r.data()];case 1:return a=s.sent(),[4,n.data()];case 2:for(p=0,o=new Set(s.sent()),l=0;p<a.length;p++)!o.has(a[p])&&l++;for(h=0,f=new(0,i.TensorBuffer)([l],r.dtype),d=new(0,i.TensorBuffer)([l],"int32"),m=0;h<a.length;h++)!o.has(a[h])&&(f.values[m]=a[h],d.values[m]=h,m++);return[2,[f.toTensor(),d.toTensor()]]}})})).apply(this,arguments)}var p=function(e,t){return l.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../tensor":"6yx3i","../tensor_util_env":"6H9ky","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5r7FN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sign_:function(e){var t=(0,i.convertToTensor)(e,"x","sign");return o.ENGINE.runKernel(s.Sign,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"62ng0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sin_:function(e){var t=(0,i.convertToTensor)(e,"x","sin","float32");return o.ENGINE.runKernel(s.Sin,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jbgmC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({sinh_:function(e){var t=(0,i.convertToTensor)(e,"x","sinh");return o.ENGINE.runKernel(s.Sinh,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2gzwS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice1d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice1d_:function(e,t,r){var n=(0,o.convertToTensor)(e,"x","slice1d");return s.assert(1===n.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,[t],[r])}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./slice":"dqV13","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b4vuL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice2d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice2d_:function(e,t,r){var n=(0,o.convertToTensor)(e,"x","slice2d");return s.assert(2===n.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./slice":"dqV13","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ffV9f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice3d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice3d_:function(e,t,r){var n=(0,o.convertToTensor)(e,"x","slice3d");return s.assert(3===n.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./slice":"dqV13","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],krRJm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice4d",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./slice"),u=(0,i.op)({slice4d_:function(e,t,r){var n=(0,o.convertToTensor)(e,"x","slice4d");return s.assert(4===n.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(n.rank," tensor")}),(0,c.slice)(n,t,r)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./slice":"dqV13","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],apwmK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,i.convertToTensor)(e,"logits","softmax","float32");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and dim was ").concat(t));var n={dim:t};return o.ENGINE.runKernel(s.Softmax,{logits:r},n)}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9Fok6":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../util"),c=(0,e("../operation").op)({fft_:function(e){return(0,i.assert)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}),o.ENGINE.runKernel(s.FFT,{input:e})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h76FD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../util"),c=(0,e("../operation").op)({ifft_:function(e){return(0,i.assert)("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}),o.ENGINE.runKernel(s.IFFT,{input:e})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b4Hiv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"irfft",function(){return g});var o=e("../complex"),s=e("../concat"),i=e("../imag"),c=e("../mul"),u=e("../operation"),l=e("../real"),p=e("../reshape"),f=e("../reverse"),d=e("../scalar"),h=e("../slice"),m=e("./ifft"),g=(0,u.op)({irfft_:function(e){var t,r=e.shape[e.shape.length-1],n=e.size/r;if(r<=2){var a=(0,p.reshape)(e,[n,r]);t=(0,m.ifft)(a)}else{var u=[n,2*(r-1)],g=(0,p.reshape)((0,l.real)(e),[n,r]),v=(0,p.reshape)((0,i.imag)(e),[n,r]),_=(0,f.reverse)((0,h.slice)(g,[0,1],[n,r-2]),1),x=(0,c.mul)((0,f.reverse)((0,h.slice)(v,[0,1],[n,r-2]),1),(0,d.scalar)(-1)),y=(0,s.concat)([g,_],1),b=(0,s.concat)([v,x],1),k=(0,p.reshape)((0,o.complex)(y,b),[u[0],u[1]]);t=(0,m.ifft)(k)}if(t=(0,l.real)(t),3===e.rank&&0!==e.shape[0]){var j=t,w=e.shape[0];t=(0,p.reshape)(t,[w,t.shape[0]/w,t.shape[1]]),j.dispose()}return t}})},{"../complex":"4Yj8v","../concat":"hgCiG","../imag":"jdH88","../mul":"6PT7e","../operation":"23NhK","../real":"i8MTR","../reshape":"hItZV","../reverse":"cbIap","../scalar":"bjcHX","../slice":"dqV13","./ifft":"h76FD","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],al6XI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rfft",function(){return v});var o=e("../../util"),s=e("../complex"),i=e("../concat"),c=e("../imag"),u=e("../operation"),l=e("../real"),p=e("../reshape"),f=e("../slice"),d=e("../split"),h=e("../zeros"),m=e("../zeros_like"),g=e("./fft"),v=(0,u.op)({rfft_:function(e,t){(0,o.assert)("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)});var r,n=e.shape[e.shape.length-1],a=e.size/n;if(null!=t&&t<n){var u=e.shape.map(function(e){return 0}),v=e.shape.map(function(e){return e});v[e.shape.length-1]=t,r=(0,f.slice)(e,u,v),n=t}else if(null!=t&&t>n){var _=e.shape.map(function(e){return e});_[e.shape.length-1]=t-n,r=(0,i.concat)([e,(0,h.zeros)(_)],e.shape.length-1),n=t}else r=e;var x=(0,m.zerosLike)(r),y=(0,p.reshape)((0,s.complex)(r,x),[a,n]),b=(0,g.fft)(y),k=Math.floor(n/2)+1,j=(0,l.real)(b),w=(0,c.imag)(b),S=(0,d.split)(j,[k,n-k],j.shape.length-1),I=(0,d.split)(w,[k,n-k],w.shape.length-1),T=r.shape.slice();return T[r.shape.length-1]=k,(0,p.reshape)((0,s.complex)(S[0],I[0]),T)}})},{"../../util":"5L87y","../complex":"4Yj8v","../concat":"hgCiG","../imag":"jdH88","../operation":"23NhK","../real":"i8MTR","../reshape":"hItZV","../slice":"dqV13","../split":"1AaNg","../zeros":"81gWj","../zeros_like":"ivNIK","./fft":"9Fok6","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1AaNg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"split",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({split_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(0,i.convertToTensor)(e,"x","split");return o.ENGINE.runKernel(s.SplitV,{x:n},{numOrSizeSplits:t,axis:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6z3Ei":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifference",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util"),u=e("../tensor_util_env"),l=e("./broadcast_util"),p=(0,e("./operation").op)({squaredDifference_:function(e,t){var r,n=(0,u.convertToTensor)(e,"a","squaredDifference"),a=(0,u.convertToTensor)(t,"b","squaredDifference");n=(r=(0,o._)((0,c.makeTypesMatch)(n,a),2))[0],a=r[1],(0,l.assertAndGetBroadcastShape)(n.shape,a.shape);var p={a:n,b:a};return s.ENGINE.runKernel(i.SquaredDifference,p,{})}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","./broadcast_util":"cACWh","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3xQh4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squeeze",function(){return u});var o=e("../tensor_util_env"),s=e("../util"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({squeeze_:function(e,t){var r=(0,o.convertToTensor)(e,"x","squeeze","string_or_numeric");return(0,c.reshape)(r,(0,s.squeezeShape)(r.shape,t).newShape)}})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1IrD4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stack",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensorArray)(e,"tensors","stack","string_or_numeric");return c.assert(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length>0&&c.assert(t<=r[0].rank,function(){return"Axis must be <= rank of the tensor"}),o.ENGINE.runKernel(s.Pack,r,{axis:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],blTul:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","step");return o.ENGINE.runKernel(s.Step,{x:r},{alpha:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9Gigy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({stridedSlice_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=(0,i.convertToTensor)(e,"x","stridedSlice","string_or_numeric");return o.ENGINE.runKernel(s.StridedSlice,{x:f},{begin:t,end:r,strides:n,beginMask:a,endMask:c,ellipsisMask:u,newAxisMask:l,shrinkAxisMask:p})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],Vv6OT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({tan_:function(e){var t=(0,i.convertToTensor)(e,"x","tan","float32");return o.ENGINE.runKernel(s.Tan,{x:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fcXCO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor1d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t){(0,s.assertNonNull)(e);var r=(0,o.inferShape)(e,t);if(1!==r.length)throw Error("tensor1d() requires values to be a flat/TypedArray");return(0,i.makeTensor)(e,null,r,t)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l2W8n:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor2d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,s.assertNonNull)(e),null!=t&&2!==t.length)throw Error("tensor2d() requires shape to have two numbers");var n=(0,o.inferShape)(e,r);if(2!==n.length&&1!==n.length)throw Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3GTgg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor3d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,s.assertNonNull)(e),null!=t&&3!==t.length)throw Error("tensor3d() requires shape to have three numbers");var n=(0,o.inferShape)(e,r);if(3!==n.length&&1!==n.length)throw Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8Oucb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor4d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,s.assertNonNull)(e),null!=t&&4!==t.length)throw Error("tensor4d() requires shape to have four numbers");var n=(0,o.inferShape)(e,r);if(4!==n.length&&1!==n.length)throw Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4RlJk":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor5d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,s.assertNonNull)(e),null!=t&&5!==t.length)throw Error("tensor5d() requires shape to have five numbers");var n=(0,o.inferShape)(e,r);if(5!==n.length&&1!==n.length)throw Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jLj56:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensor6d",function(){return c});var o=e("../tensor_util_env"),s=e("../util"),i=e("./tensor_ops_util");function c(e,t,r){if((0,s.assertNonNull)(e),null!=t&&6!==t.length)throw Error("tensor6d() requires shape to have six numbers");var n=(0,o.inferShape)(e,r);if(6!==n.length&&1!==n.length)throw Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===n.length&&null==t)throw Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||n,(0,i.makeTensor)(e,t,n,r)}},{"../tensor_util_env":"6H9ky","../util":"5L87y","./tensor_ops_util":"1YAhm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1WTyD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("./operation"),u=e("./scatter_nd_util"),l=(0,c.op)({tensorScatterUpdate_:function(e,t,r){var n=(0,i.convertToTensor)(e,"tensor","tensorScatterupdate"),a=(0,i.convertToTensor)(t,"indices","tensorScatterupdate","int32"),c=(0,i.convertToTensor)(r,"updates","tensorScatterupdate");if(u.validateInput(c,a,n.shape),n.dtype!==c.dtype)throw Error("tensor and updates must have the same dtype, instead they are ".concat(n.dtype," and ").concat(c.dtype,"."));return o.ENGINE.runKernel(s.TensorScatterUpdate,{tensor:n,indices:a,updates:c},{})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","./scatter_nd_util":"hvrkH","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hvrkH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"validateUpdateShape",function(){return i}),a.export(r,"validateInput",function(){return c}),a.export(r,"calculateShapes",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("../util");function i(e,t,r){var n=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(r.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(n,", and batchDim: ").concat(a,".");if(r.rank<a)throw Error(o+" update.rank < ".concat(a,". "));if(e.length<n+(r.rank-a))throw Error(o+" Output shape length < ".concat(n+(r.rank-a)));if(r.rank!==a+e.length-n)throw Error(o+" update.rank != ".concat(a+e.length-n));for(var s=0;s<a;++s)if(r.shape[s]!==t.shape[s])throw Error(o+" updates.shape[".concat(s,"] (").concat(r.shape[s],") != indices.shape[").concat(s,"] (").concat(t.shape[s],")."));for(var i=0;i<r.rank-a;++i)if(r.shape[i+a]!==e[i+n])throw Error(o+" updates.shape[".concat(i+a,"] (").concat(r.shape[i+a],") != shape[").concat(i+a,"] (").concat(e[i+a],")"))}function c(e,t,r){if(t.rank<1)throw Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(r.length<1)throw Error("Output rank must be greater or equal to 1, but got shape: ".concat(r));if(0===r.length){if(0===t.size)throw Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(r,t,e)}function u(e,t,r){for(var n=t.shape.length,a=n>1?t.shape[n-1]:1,i=r.length,c=1,u=a;u<i;++u)c*=r[u];var l=a<1?1:a,p=(0,s.sizeFromShape)(t.shape)/l,f=(0,o._)((0,s.computeStrides)(r.slice(0,a))).concat([1]);return{sliceRank:a,numUpdates:p,sliceSize:c,strides:f,outputSize:(0,s.sizeFromShape)(r)}}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fg4BH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topk",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=(0,e("./operation").op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,c.convertToTensor)(e,"x","topk");if(0===n.rank)throw Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(t<0)throw Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw Error("'k' passed to topk() must be<= the last dimension (".concat(a,") ")+"but got ".concat(t));var u=(0,o._)(s.ENGINE.runKernel(i.TopK,{x:n},{k:t,sorted:r}),2);return{values:u[0],indices:u[1]}}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6ADfU":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"truncatedNormal",function(){return u});var o=e("../util_base"),s=e("./buffer"),i=e("./operation"),c=e("./rand_util"),u=(0,i.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if((0,o.assertNonNegativeIntegerDimensions)(e),null!=n&&"bool"===n)throw Error("Unsupported data type $ { dtype }");for(var i=new(0,c.MPRandGauss)(t,r,n,!0,a),u=(0,s.buffer)(e,n),l=0;l<u.values.length;l++)u.values[l]=i.nextValue();return u.toTensor()}})},{"../util_base":"h6qVW","./buffer":"3oGg4","./operation":"23NhK","./rand_util":"2aCQ8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5YOqF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../engine"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=e("../util"),l=(0,e("./operation").op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,c.convertToTensor)(e,"x","unique","string_or_numeric");(0,u.assert)(r.rank>0,function(){return"The input tensor must be at least 1D"});var n=(0,o._)(s.ENGINE.runKernel(i.Unique,{x:r},{axis:t}),2);return{values:n[0],indices:n[1]}}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k2b7S:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({unsortedSegmentSum_:function(e,t,r){var n=(0,i.convertToTensor)(e,"x","unsortedSegmentSum"),a=(0,i.convertToTensor)(t,"segmentIds","unsortedSegmentSum","int32");return(0,c.assert)((0,c.isInt)(r),function(){return"numSegments must be of dtype int"}),o.ENGINE.runKernel(s.UnsortedSegmentSum,{x:n,segmentIds:a},{numSegments:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e09B2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unstack",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util"),u=(0,e("./operation").op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i.convertToTensor)(e,"x","unstack","string_or_numeric");return c.assert(t>=-r.shape.length&&t<r.shape.length,function(){return"Axis = ".concat(t," is not in [-").concat(r.shape.length,", ").concat(r.shape.length,")")}),o.ENGINE.runKernel(s.Unpack,{value:r},{axis:t})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eNELd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"upperBound",function(){return s});var o=e("./search_sorted");function s(e,t){return(0,o.searchSorted)(e,t,"right")}},{"./search_sorted":"7TcXH","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fdh6T:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"variable",function(){return s});var o=e("../engine");function s(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return o.ENGINE.makeVariable(e,t,r,n)}},{"../engine":"hSfoX","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"86zHB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"whereAsync",function(){return l});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../backends/where_impl"),c=e("../tensor_util_env");function u(){return(u=(0,o._)(function(e){var t,r,n;return(0,s._)(this,function(a){switch(a.label){case 0:return[4,(t=(0,c.convertToTensor)(e,"condition","whereAsync","bool")).data()];case 1:return r=a.sent(),n=(0,i.whereImpl)(t.shape,r),e!==t&&t.dispose(),[2,n]}})})).apply(this,arguments)}var l=function(e){return u.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../backends/where_impl":"68MFM","../tensor_util_env":"6H9ky","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"68MFM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"whereImpl",function(){return s});var o=e("../ops/buffer");function s(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(n);for(var a=(0,o.buffer)(e,"int32"),s=(0,o.buffer)([r.length,e.length],"int32"),i=0;i<r.length;i++){var c=a.indexToLoc(r[i]),u=i*e.length;s.values.set(c,u)}return s.toTensor()}},{"../ops/buffer":"3oGg4","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6dh8r":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"booleanMaskAsync",function(){return h});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor_util_env"),c=e("../util"),u=e("./gather"),l=e("./reshape"),p=e("./squeeze"),f=e("./where_async");function d(){return(d=(0,o._)(function(e,t,r){var n,a,o,d,h,m,g,v,_,x,y,b,k;return(0,s._)(this,function(s){switch(s.label){case 0:for(n=(0,i.convertToTensor)(e,"tensor","boolMask"),a=(0,i.convertToTensor)(t,"mask","boolMask","bool"),o=null==r?0:r,d=a.rank,h=n.shape,c.assert(d>0,function(){return"mask cannot be scalar"}),c.assertShapesMatch(h.slice(o,o+d),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),m=1,g=o;g<o+d;g++)m*=h[g];return v=h.slice(0,o).concat([m],h.slice(o+d)),_=(0,l.reshape)(n,v),x=(0,l.reshape)(a,[-1]),[4,(0,f.whereAsync)(x)];case 1:return y=s.sent(),b=(0,p.squeeze)(y,[1]),k=(0,u.gather)(_,b,o),e!==n&&n.dispose(),t!==a&&a.dispose(),b.dispose(),_.dispose(),x.dispose(),y.dispose(),[2,k]}})})).apply(this,arguments)}var h=function(e,t,r){return d.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../tensor_util_env":"6H9ky","../util":"5L87y","./gather":"9JiHz","./reshape":"hItZV","./squeeze":"3xQh4","./where_async":"86zHB","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8lNVv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return m});var o=e("../engine"),s=e("../globals"),i=e("../kernel_names"),c=e("../tensor_util_env"),u=e("../util"),l=e("./complex"),p=e("./imag"),f=e("./neg"),d=e("./operation"),h=e("./real"),m=(0,d.op)({transpose_:function(e,t,r){var n=(0,c.convertToTensor)(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),u.assert(n.rank===t.length,function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")}),t.forEach(function(e){u.assert(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)})}),n.rank<=1)return n.clone();var a={perm:t};return"complex64"===n.dtype?(0,s.tidy)(function(){var e=(0,h.real)(n),t=(0,p.imag)(n);return e=o.ENGINE.runKernel(i.Transpose,{x:e},a),t=o.ENGINE.runKernel(i.Transpose,{x:t},a),r&&(t=(0,f.neg)(t)),(0,l.complex)(e,t)}):o.ENGINE.runKernel(i.Transpose,{x:n},a)}})},{"../engine":"hSfoX","../globals":"74CiM","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util":"5L87y","./complex":"4Yj8v","./imag":"jdH88","./neg":"7x4sX","./operation":"23NhK","./real":"i8MTR","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9bKAe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"movingAverage",function(){return m});var o=e("../tensor_util"),s=e("../tensor_util_env"),i=e("../util"),c=e("./add"),u=e("./div"),l=e("./mul"),p=e("./operation"),f=e("./pow"),d=e("./scalar"),h=e("./sub"),m=(0,p.op)({movingAverage_:function(e,t,r,n){var a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],p=(0,s.convertToTensor)(e,"v","movingAverage"),m=(0,s.convertToTensor)(t,"x","movingAverage"),g=(0,s.convertToTensor)(r,"decay","movingAverage");(0,o.assertTypesMatch)(p,m),i.assert(i.arraysEqual(p.shape,m.shape),function(){return"Shape mismatch in v and x"});var v=(0,d.scalar)(1),_=(0,h.sub)(v,g),x=(0,l.mul)((0,h.sub)(m,p),_);if(a){i.assert(null!=n,function(){return"When using zeroDebias: true, step is required."});var y=(0,s.convertToTensor)(n,"step","movingAverage");x=(0,u.div)(x,(0,h.sub)(v,(0,f.pow)(g,y)))}return(0,c.add)(p,x)}})},{"../tensor_util":"ilCpq","../tensor_util_env":"6H9ky","../util":"5L87y","./add":"dD0ce","./div":"guYTU","./mul":"6PT7e","./operation":"23NhK","./pow":"dL1Je","./scalar":"bjcHX","./sub":"bzNOI","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"28F9T":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterND",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=e("../util_base"),u=e("./operation"),l=e("./scatter_nd_util"),p=(0,u.op)({scatterND_:function(e,t,r){(0,c.assertNonNegativeIntegerDimensions)(r);var n=(0,i.convertToTensor)(e,"indices","scatterND","int32"),a=(0,i.convertToTensor)(t,"updates","scatterND");return l.validateInput(a,n,r),o.ENGINE.runKernel(s.ScatterNd,{indices:n,updates:a},{shape:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","../util_base":"h6qVW","./operation":"23NhK","./scatter_nd_util":"hvrkH","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1eQYP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return l});var o=e("../engine"),s=e("../kernel_names"),i=e("../ops/sparse_to_dense_util"),c=e("../tensor_util_env"),u=e("../util_base"),l=(0,e("./operation").op)({sparseToDense_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,u.assertNonNegativeIntegerDimensions)(r);var a=(0,c.convertToTensor)(e,"sparseIndices","sparseToDense","int32"),l=(0,c.convertToTensor)(t,"sparseValues","sparseToDense","string_or_numeric"),p=(0,c.convertToTensor)(n,"defaultValue","sparseToDense",l.dtype);return i.validateInput(a,l,r,p),o.ENGINE.runKernel(s.SparseToDense,{sparseIndices:a,sparseValues:l,defaultValue:p},{outputShape:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../ops/sparse_to_dense_util":"iZPXJ","../tensor_util_env":"6H9ky","../util_base":"h6qVW","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iZPXJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t,r,n){if("int32"!==e.dtype)throw Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(r.length!==o)throw Error("outputShape has incorrect number of elements:,"+" ".concat(r.length,", should be: ").concat(o,"."));var s=t.size;if(0!==t.rank&&(1!==t.rank||s!==a))throw Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==n.dtype)throw Error("sparseValues.dtype must match defaultValues.dtype")}a.defineInteropFlag(r),a.export(r,"validateInput",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],I1vCI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherND",function(){return c});var o=e("../engine"),s=e("../kernel_names"),i=e("../tensor_util_env"),c=(0,e("./operation").op)({gatherND_:function(e,t){var r=(0,i.convertToTensor)(t,"indices","gatherND","int32"),n=(0,i.convertToTensor)(e,"x","gatherND","string_or_numeric");return o.ENGINE.runKernel(s.GatherNd,{params:n,indices:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../tensor_util_env":"6H9ky","./operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7HZhW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dropout",function(){return m});var o=e("../tensor"),s=e("../tensor_util_env"),i=e("../util"),c=e("./add"),u=e("./div"),l=e("./dropout_util"),p=e("./floor"),f=e("./mul"),d=e("./operation"),h=e("./random_uniform"),m=(0,d.op)({dropout_:function(e,t,r,n){var a=(0,s.convertToTensor)(e,"x","dropout");if(i.assert("float32"===a.dtype,function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")}),i.assert(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")}),0===t)return e instanceof o.Tensor?a.clone():a;var d=(0,l.getNoiseShape)(a,r),m=1-t,g=(0,u.div)((0,p.floor)((0,c.add)((0,h.randomUniform)(d,0,1,"float32",n),m)),m);return(0,f.mul)(a,g)}})},{"../tensor":"6yx3i","../tensor_util_env":"6H9ky","../util":"5L87y","./add":"dD0ce","./div":"guYTU","./dropout_util":"lCwaC","./floor":"6wQYX","./mul":"6PT7e","./operation":"23NhK","./random_uniform":"c1FSD","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lCwaC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getNoiseShape",function(){return s});var o=e("../util");function s(e,t){if(null==t)return e.shape.slice();if(o.arraysEqual(e.shape,t))return t;if(e.shape.length===t.length){for(var r=[],n=0;n<e.shape.length;n++)null==t[n]&&null!=e.shape[n]?r.push(e.shape[n]):r.push(t[n]);return r}return t}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"37jMC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"enclosingPowerOfTwo",function(){return s}),a.export(r,"cosineWindow",function(){return i});var o=e("./tensor1d");function s(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function i(e,t,r){for(var n=1-e%2,a=new Float32Array(e),s=0;s<e;++s){var i=2*Math.PI*s/(e+n-1);a[s]=t-r*Math.cos(i)}return(0,o.tensor1d)(a,"float32")}},{"./tensor1d":"fcXCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bK9iw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"inTopKAsync",function(){return p});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../tensor_util_env"),c=e("../util"),u=e("./tensor");function l(){return(l=(0,o._)(function(e,t){var r,n,a,o,l,p,f,d,h,m,g,v,_,x,y,b,k=arguments;return(0,s._)(this,function(s){switch(s.label){case 0:return r=k.length>2&&void 0!==k[2]?k[2]:1,n=(0,i.convertToTensor)(e,"predictions","inTopK"),a=(0,i.convertToTensor)(t,"targets","inTopK"),(0,c.assert)(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(n.rank)}),(0,c.assert)(n.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(n.rank," and targets rank ").concat(a.rank)}),(0,c.assertShapesMatch)(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=n.shape[n.shape.length-1],(0,c.assert)(r>0&&r<=o,function(){return"'k' passed to inTopK() must be >0 &&<= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)}),[4,n.data()];case 1:return l=s.sent(),[4,a.data()];case 2:for(p=s.sent(),d=(f=[l.length/o,o])[0],h=f[1],m=(0,c.getTypedArrayFromDType)("bool",d),g=0;g<d;g++){for(y=0,v=g*h,_=l.subarray(v,v+h),x=[];y<_.length;y++)x.push({value:_[y],index:y});for(x.sort(function(e,t){return t.value-e.value}),m[g]=0,b=0;b<r;b++)if(x[b].index===p[g]){m[g]=1;break}}return e!==n&&n.dispose(),t!==a&&a.dispose(),[2,(0,u.tensor)(m,a.shape,"bool")]}})})).apply(this,arguments)}var p=function(e,t){return l.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../tensor_util_env":"6H9ky","../util":"5L87y","./tensor":"5NoRV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fqDO4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return o.conv2d}),a.export(r,"depthwiseConv2d",function(){return s.depthwiseConv2d}),a.export(r,"matMul",function(){return i.matMul});var o=e("./fused/conv2d"),s=e("./fused/depthwise_conv2d"),i=e("./fused/mat_mul")},{"./fused/conv2d":"3nSje","./fused/depthwise_conv2d":"97lKq","./fused/mat_mul":"fPt1k","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3nSje":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return b});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../conv2d"),m=e("../conv2d_backprop_filter"),g=e("../conv2d_backprop_input"),v=e("../conv_util"),_=e("../fused_util"),x=e("../operation"),y=e("../reshape"),b=(0,x.op)({fusedConv2d_:function(e){var t,r,n=e.x,a=e.filter,x=e.strides,b=e.pad,k=e.dataFormat,j=void 0===k?"NHWC":k,w=e.dilations,S=void 0===w?[1,1]:w,I=e.dimRoundingMode,T=e.bias,N=e.activation,C=void 0===N?"linear":N,E=e.preluActivationWeights,F=e.leakyreluAlpha;if(C=C||"linear",!1===(0,_.shouldFuse)(s.ENGINE.state.gradientDepth,C)){p.assert("NHWC"===j,function(){return"Error in fused conv2d: got dataFormat of ".concat(j," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."});var A=(0,h.conv2d)(n,a,x,b,j,S,I);return null!=T&&(A=(0,f.add)(A,T)),(0,_.applyActivation)(A,C,E,F)}var P=(0,l.convertToTensor)(n,"x","conv2d","float32"),R=(0,l.convertToTensor)(a,"filter","conv2d","float32"),D=P,M=!1;3===P.rank&&(M=!0,D=(0,y.reshape)(P,[1,P.shape[0],P.shape[1],P.shape[2]])),p.assert(4===D.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(D.rank,".")}),p.assert(4===R.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(R.rank,".")}),v.checkPadOnDimRoundingMode("fused conv2d",b,I);var O="NHWC"===j?D.shape[3]:D.shape[1];p.assert(R.shape[2]===O,function(){return"Error in conv2d: depth of input (".concat(O,") must match ")+"input depth for filter ".concat(R.shape[2],".")}),p.assert(v.eitherStridesOrDilationsAreOne(x,S),function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(x," and dilations '").concat(S,"'")});var L=v.computeConv2DInfo(D.shape,R.shape,x,S,b,I);if(null!=T&&(t=(0,l.convertToTensor)(T,"bias","fused conv2d"),t=(0,o._)((0,u.makeTypesMatch)(t,P),1)[0],"NHWC"===j?d.assertAndGetBroadcastShape(L.outShape,t.shape):(p.assert(t.shape.length<=1,function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(t.shape.length,".")}),p.assert(0===t.shape.length||t.shape[0]===L.outChannels||1===t.shape[0],function(){return"Error in fused conv2d: bias shape (".concat(t.shape,") is not ")+"compatible with the number of output channels "+"(".concat(L.outChannels,")")}))),null!=E){var V=E.shape;if(p.assert(V.length<=1||3===V.length,function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(V.length,".")}),1===V.length)p.assert(1===V[0]||V[0]===L.outChannels,function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(V,") is not compatible with the number of output ")+"channels (".concat(L.outChannels,").")});else if(3===V.length)try{d.assertAndGetBroadcastShape(V,L.outShape)}catch(e){throw Error("Error in fused conv2d: PReLU activation weights (".concat(V,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(L.outShape,")."))}r=(0,l.convertToTensor)(E,"prelu weights","fused conv2d")}var U=function(e,t){p.assert("NHWC"===j,function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(j," but only NHWC is currently supported.")});var r=(0,o._)(t,4),n=r[0],a=r[1],s=r[2],i=r[3],c=(0,_.getFusedDyActivation)(e,s,C);p.assert(v.tupleValuesAreOne(S),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(S,"'")});var u=[(0,g.conv2DBackpropInput)(a.shape,c,n,x,b),(0,m.conv2DBackpropFilter)(a,c,n.shape,x,b)];if(null!=i){var l=(0,_.getFusedBiasGradient)(i,c);u.push(l)}return u},B={x:D,filter:R,bias:t,preluActivationWeights:r},z={strides:x,pad:b,dataFormat:j,dilations:S,dimRoundingMode:I,activation:C,leakyreluAlpha:F};return null==T?(0,i.customGrad)(function(e,t,r){var n=s.ENGINE.runKernel(c.FusedConv2D,B,z);return r([t,e,n]),M&&(n=(0,y.reshape)(n,[n.shape[1],n.shape[2],n.shape[3]])),{value:n,gradFunc:U}})(D,R):(0,i.customGrad)(function(e,t,r,n){var a=s.ENGINE.runKernel(c.FusedConv2D,B,z);return n([t,e,a,r]),M&&(a=(0,y.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:U}})(D,R,t)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../gradients":"anUIo","../../kernel_names":"7S4Sf","../../tensor_util":"ilCpq","../../tensor_util_env":"6H9ky","../../util":"5L87y","../add":"dD0ce","../broadcast_util":"cACWh","../conv2d":"5PoKv","../conv2d_backprop_filter":"5JWvt","../conv2d_backprop_input":"4JABu","../conv_util":"3Awi4","../fused_util":"cY5En","../operation":"23NhK","../reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5JWvt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return p});var o=e("../engine"),s=e("../kernel_names"),i=e("../util"),c=e("./conv_util"),u=e("./operation"),l=e("./reshape"),p=(0,u.op)({conv2DBackpropFilter_:function(e,t,r,n,a){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",p=arguments.length>6?arguments[6]:void 0,f=e;3===e.rank&&(f=(0,l.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,l.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.assert(4===f.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(f.shape,".")}),i.assert(4===d.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(d.shape,".")}),i.assert(4===r.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(r,".")});var h="NHWC"===u?f.shape[3]:f.shape[1],m="NHWC"===u?d.shape[3]:d.shape[1];i.assert(h===r[2],function(){return"Error in conv2dDerFilter: depth of input ".concat(h,") must ")+"match input depth in filter (".concat(r[2],".")}),i.assert(m===r[3],function(){return"Error in conv2dDerFilter: depth of dy (".concat(m,") must ")+"match output depth for filter (".concat(r[3],").")}),c.checkPadOnDimRoundingMode("conv2dDerFilter",a,p);var g={x:f,dy:d};return o.ENGINE.runKernel(s.Conv2DBackpropFilter,g,{strides:n,pad:a,dataFormat:u,dimRoundingMode:p,filterShape:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","../util":"5L87y","./conv_util":"3Awi4","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cY5En:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getFusedDyActivation",function(){return g}),a.export(r,"getFusedBiasGradient",function(){return v}),a.export(r,"applyActivation",function(){return _}),a.export(r,"shouldFuse",function(){return x});var o=e("./broadcast_util"),s=e("./elu"),i=e("./leaky_relu"),c=e("./mul"),u=e("./prelu"),l=e("./relu"),p=e("./relu6"),f=e("./reshape"),d=e("./sigmoid"),h=e("./step"),m=e("./sum");function g(e,t,r){if(null==r||"linear"===r)return e;if("relu"===r)return(0,c.mul)(e,(0,h.step)(t));throw Error("Cannot compute gradient for fused activation ".concat(r,"."))}function v(e,t){var r=t,n=o.getReductionAxes(e.shape,t.shape);return n.length>0&&(r=(0,m.sum)(r,n)),(0,f.reshape)(r,e.shape)}function _(e,t,r,n){if("linear"===t)return e;if("relu"===t)return(0,l.relu)(e);if("elu"===t)return(0,s.elu)(e);if("relu6"===t)return(0,p.relu6)(e);if("prelu"===t)return(0,u.prelu)(e,r);else if("leakyrelu"===t)return(0,i.leakyRelu)(e,n);else if("sigmoid"===t)return(0,d.sigmoid)(e);throw Error("Unknown fused activation ".concat(t,"."))}var x=function(e,t){return!(e>0)||"linear"===t}},{"./broadcast_util":"cACWh","./elu":"1NkbF","./leaky_relu":"1K7b3","./mul":"6PT7e","./prelu":"2LpOI","./relu":"34tae","./relu6":"kK1do","./reshape":"hItZV","./sigmoid":"dr0s3","./step":"blTul","./sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"97lKq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2d",function(){return b});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../conv_util"),m=e("../depthwise_conv2d"),g=e("../depthwise_conv2d_native_backprop_filter"),v=e("../depthwise_conv2d_native_backprop_input"),_=e("../fused_util"),x=e("../operation"),y=e("../reshape"),b=(0,x.op)({fusedDepthwiseConv2d_:function(e){var t,r,n=e.x,a=e.filter,x=e.strides,b=e.pad,k=e.dataFormat,j=void 0===k?"NHWC":k,w=e.dilations,S=void 0===w?[1,1]:w,I=e.dimRoundingMode,T=e.bias,N=e.activation,C=void 0===N?"linear":N,E=e.preluActivationWeights,F=e.leakyreluAlpha;if(!1===(0,_.shouldFuse)(s.ENGINE.state.gradientDepth,C)){var A=(0,m.depthwiseConv2d)(n,a,x,b,j,S,I);return null!=T&&(A=(0,f.add)(A,T)),(0,_.applyActivation)(A,C,E,F)}var P=(0,l.convertToTensor)(n,"x","depthwiseConv2d","float32"),R=(0,l.convertToTensor)(a,"filter","depthwiseConv2d","float32"),D=P,M=!1;3===P.rank&&(M=!0,D=(0,y.reshape)(P,[1,P.shape[0],P.shape[1],P.shape[2]])),p.assert(4===D.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(D.rank,".")}),p.assert(4===R.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(R.rank,".")}),p.assert(D.shape[3]===R.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(D.shape[3],") must match the inChannels dimension in ")+"filter ".concat(R.shape[2],".")}),null==S&&(S=[1,1]),p.assert(h.eitherStridesOrDilationsAreOne(x,S),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(x," and dilations '").concat(S,"'")}),h.checkPadOnDimRoundingMode("fused depthwiseConv2d",b,I);var O=h.computeConv2DInfo(D.shape,R.shape,x,S,b,I,!0);null!=T&&(t=(0,l.convertToTensor)(T,"bias","fused conv2d"),t=(0,o._)((0,u.makeTypesMatch)(t,P),1)[0],d.assertAndGetBroadcastShape(O.outShape,t.shape)),null!=E&&(r=(0,l.convertToTensor)(E,"prelu weights","fused depthwiseConv2d"));var L=function(e,r){p.assert(h.tupleValuesAreOne(S),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(S,"'")});var n=(0,o._)(r,4),a=n[0],s=n[1],i=n[2],c=n[3],u=(0,_.getFusedDyActivation)(e,i,C),l=(0,v.depthwiseConv2dNativeBackpropInput)(s.shape,u,a,x,b,S,I),f=(0,g.depthwiseConv2dNativeBackpropFilter)(s,u,a.shape,x,b,S,I);return null!=c?[l,f,(0,_.getFusedBiasGradient)(t,u)]:[l,f]},V={x:D,filter:R,bias:t,preluActivationWeights:r},U={strides:x,pad:b,dataFormat:j,dilations:S,dimRoundingMode:I,activation:C,leakyreluAlpha:F};return null==T?(0,i.customGrad)(function(e,t,r){var n=s.ENGINE.runKernel(c.FusedDepthwiseConv2D,V,U);return r([t,e,n]),M&&(n=(0,y.reshape)(n,[n.shape[1],n.shape[2],n.shape[3]])),{value:n,gradFunc:L}})(D,R):(0,i.customGrad)(function(e,t,r,n){var a=s.ENGINE.runKernel(c.FusedDepthwiseConv2D,V,U);return n([t,e,a,r]),M&&(a=(0,y.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:L}})(D,R,t)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../gradients":"anUIo","../../kernel_names":"7S4Sf","../../tensor_util":"ilCpq","../../tensor_util_env":"6H9ky","../../util":"5L87y","../add":"dD0ce","../broadcast_util":"cACWh","../conv_util":"3Awi4","../depthwise_conv2d":"k8VSg","../depthwise_conv2d_native_backprop_filter":"hRfU6","../depthwise_conv2d_native_backprop_input":"eCbLR","../fused_util":"cY5En","../operation":"23NhK","../reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hRfU6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=(0,c.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var p=t;3===p.rank&&(p=(0,c.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:l,dy:p};return o.ENGINE.runKernel(s.DepthwiseConv2dNativeBackpropFilter,f,{strides:n,pad:a,dimRoundingMode:u,dilations:i,filterShape:r})}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eCbLR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return u});var o=e("../engine"),s=e("../kernel_names"),i=e("./operation"),c=e("./reshape"),u=(0,i.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,l=t,p=!1;3===t.rank&&(p=!0,l=(0,c.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:l,filter:r},d=o.ENGINE.runKernel(s.DepthwiseConv2dNativeBackpropInput,f,{strides:n,pad:a,dimRoundingMode:u,dilations:i,inputShape:e});return p?(0,c.reshape)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},{"../engine":"hSfoX","../kernel_names":"7S4Sf","./operation":"23NhK","./reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fPt1k:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"matMul",function(){return _});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../gradients"),c=e("../../kernel_names"),u=e("../../tensor_util"),l=e("../../tensor_util_env"),p=e("../../util"),f=e("../add"),d=e("../broadcast_util"),h=e("../fused_util"),m=e("../mat_mul"),g=e("../operation"),v=e("../reshape"),_=(0,g.op)({fusedMatMul_:function(e){var t,r,n,a=e.a,g=e.b,_=e.transposeA,x=void 0!==_&&_,y=e.transposeB,b=void 0!==y&&y,k=e.bias,j=e.activation,w=void 0===j?"linear":j,S=e.preluActivationWeights,I=e.leakyreluAlpha,T=void 0===I?.2:I;if(!1===(0,h.shouldFuse)(s.ENGINE.state.gradientDepth,w)){var N=(0,m.matMul)(a,g,x,b);return null!=k&&(N=(0,f.add)(N,k)),(0,h.applyActivation)(N,w,S,T)}var C=(0,l.convertToTensor)(a,"a","fused matMul"),E=(0,l.convertToTensor)(g,"b","fused matMul");C=(t=(0,o._)((0,u.makeTypesMatch)(C,E),2))[0],E=t[1];var F=x?C.shape[C.rank-2]:C.shape[C.rank-1],A=b?E.shape[E.rank-1]:E.shape[E.rank-2],P=x?C.shape[C.rank-1]:C.shape[C.rank-2],R=b?E.shape[E.rank-2]:E.shape[E.rank-1],D=C.shape.slice(0,-2),M=E.shape.slice(0,-2),O=p.sizeFromShape(D),L=p.sizeFromShape(M);p.assert(F===A,function(){return"Error in fused matMul: inner shapes (".concat(F,") and (")+"".concat(A,") of Tensors with shapes ").concat(C.shape," and ")+"".concat(E.shape," and transposeA=").concat(x)+" and transposeB=".concat(b," must match.")});var V=d.assertAndGetBroadcastShape(C.shape.slice(0,-2),E.shape.slice(0,-2)).concat([P,R]),U=x?(0,v.reshape)(C,[O,F,P]):(0,v.reshape)(C,[O,P,F]),B=b?(0,v.reshape)(E,[L,R,A]):(0,v.reshape)(E,[L,A,R]);null!=k&&(r=(0,l.convertToTensor)(k,"bias","fused matMul"),r=(0,o._)((0,u.makeTypesMatch)(r,C),1)[0],d.assertAndGetBroadcastShape(V,r.shape)),null!=S&&(n=(0,l.convertToTensor)(S,"prelu weights","fused matMul"));var z=function(e,t){var r,n,a=(0,o._)(t,4),s=a[0],i=a[1],c=a[2],u=a[3],l=(0,h.getFusedDyActivation)((0,v.reshape)(e,c.shape),c,w);return(x||b?!x&&b?(r=(0,m.matMul)(l,i,!1,!1),n=(0,m.matMul)(l,s,!0,!1)):x&&!b?(r=(0,m.matMul)(i,l,!1,!0),n=(0,m.matMul)(s,l,!1,!1)):(r=(0,m.matMul)(i,l,!0,!0),n=(0,m.matMul)(l,s,!0,!0)):(r=(0,m.matMul)(l,i,!1,!0),n=(0,m.matMul)(s,l,!0,!1)),null!=k)?[r,n,(0,h.getFusedBiasGradient)(u,l)]:[r,n]},G={a:U,b:B,bias:r,preluActivationWeights:n},W={transposeA:x,transposeB:b,activation:w,leakyreluAlpha:T};return null==k?(0,i.customGrad)(function(e,t,r){var n=s.ENGINE.runKernel(c._FusedMatMul,G,W);return r([e,t,n]),{value:(0,v.reshape)(n,V),gradFunc:z}})(U,B):(0,i.customGrad)(function(e,t,r,n){var a=s.ENGINE.runKernel(c._FusedMatMul,G,W);return n([e,t,a,r]),{value:(0,v.reshape)(a,V),gradFunc:z}})(U,B,r)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../gradients":"anUIo","../../kernel_names":"7S4Sf","../../tensor_util":"ilCpq","../../tensor_util_env":"6H9ky","../../util":"5L87y","../add":"dD0ce","../broadcast_util":"cACWh","../fused_util":"cY5En","../mat_mul":"bBIoC","../operation":"23NhK","../reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"627Ew":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hammingWindow",function(){return i});var o=e("../operation"),s=e("../signal_ops_util"),i=(0,o.op)({hammingWindow_:function(e){return(0,s.cosineWindow)(e,.54,.46)}})},{"../operation":"23NhK","../signal_ops_util":"37jMC","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jRZYm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hannWindow",function(){return i});var o=e("../operation"),s=e("../signal_ops_util"),i=(0,o.op)({hannWindow_:function(e){return(0,s.cosineWindow)(e,.5,.5)}})},{"../operation":"23NhK","../signal_ops_util":"37jMC","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fPLpc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"frame",function(){return p});var o=e("../concat"),s=e("../fill"),i=e("../operation"),c=e("../reshape"),u=e("../slice"),l=e("../tensor2d"),p=(0,i.op)({frame_:function(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,p=[];i+t<=e.size;)p.push((0,u.slice)(e,i,t)),i+=r;if(n)for(;i<e.size;){var f=i+t-e.size,d=(0,o.concat)([(0,u.slice)(e,i,t-f),(0,s.fill)([f],a)]);p.push(d),i+=r}return 0===p.length?(0,l.tensor2d)([],[0,t]):(0,c.reshape)((0,o.concat)(p),[p.length,t])}})},{"../concat":"hgCiG","../fill":"1zzPz","../operation":"23NhK","../reshape":"hItZV","../slice":"dqV13","../tensor2d":"l2W8n","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bv88p:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stft",function(){return p});var o=e("../mul"),s=e("../operation"),i=e("../signal_ops_util"),c=e("../spectral/rfft"),u=e("./frame"),l=e("./hann_window"),p=(0,s.op)({stft_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.hannWindow;null==n&&(n=(0,i.enclosingPowerOfTwo)(t));var s=(0,u.frame)(e,t,r),p=(0,o.mul)(s,a(t));return(0,c.rfft)(p,n)}})},{"../mul":"6PT7e","../operation":"23NhK","../signal_ops_util":"37jMC","../spectral/rfft":"al6XI","./frame":"fPLpc","./hann_window":"jRZYm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cpKis:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({cropAndResize_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=(0,i.convertToTensor)(e,"image","cropAndResize"),p=(0,i.convertToTensor)(t,"boxes","cropAndResize","float32"),f=(0,i.convertToTensor)(r,"boxInd","cropAndResize","int32"),d=p.shape[0];return c.assert(4===l.rank,function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(l.rank,".")}),c.assert(2===p.rank&&4===p.shape[1],function(){return"Error in cropAndResize: boxes must be have size [".concat(d,",4] ")+"but had shape ".concat(p.shape,".")}),c.assert(1===f.rank&&f.shape[0]===d,function(){return"Error in cropAndResize: boxInd must be have size [".concat(d,"] ")+"but had shape ".concat(p.shape,".")}),c.assert(2===n.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(n.length,".")}),c.assert(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was ".concat(n)}),c.assert("bilinear"===a||"nearest"===a,function(){return"method must be bilinear or nearest, but was ".concat(a)}),o.ENGINE.runKernel(s.CropAndResize,{image:l,boxes:p,boxInd:f},{method:a,extrapolationValue:u,cropSize:n})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"03gQa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRight",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({flipLeftRight_:function(e){var t=(0,i.convertToTensor)(e,"image","flipLeftRight","float32");return c.assert(4===t.rank,function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}),o.ENGINE.runKernel(s.FlipLeftRight,{image:t},{})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2zt5e":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"grayscaleToRGB",function(){return u});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../operation"),c=e("../tile"),u=(0,i.op)({grayscaleToRGB_:function(e){var t=(0,o.convertToTensor)(e,"image","grayscaleToRGB"),r=t.rank-1,n=t.shape[r];s.assert(t.rank>=2,function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")}),s.assert(1===n,function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(n,".")});var a=Array(t.rank);return a.fill(1,0,r),a[r]=3,(0,c.tile)(t,a)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","../tile":"3dBuq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ekLA9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rgbToGrayscale",function(){return f});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../cast"),c=e("../einsum"),u=e("../expand_dims"),l=e("../operation"),p=e("../tensor1d"),f=(0,l.op)({rgbToGrayscale_:function(e){var t,r=(0,o.convertToTensor)(e,"image","RGBToGrayscale"),n=r.rank-1,a=r.shape[n];s.assert(r.rank>=2,function(){return"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(r.rank,".")}),s.assert(3===a,function(){return"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(a,".")});var l=r.dtype,f=(0,i.cast)(r,"float32"),d=(0,p.tensor1d)([.2989,.587,.114]);switch(r.rank){case 2:t=(0,c.einsum)("ij,j->i",f,d);break;case 3:t=(0,c.einsum)("ijk,k->ij",f,d);break;case 4:t=(0,c.einsum)("ijkl,l->ijk",f,d);break;case 5:t=(0,c.einsum)("ijklm,m->ijkl",f,d);break;case 6:t=(0,c.einsum)("ijklmn,n->ijklm",f,d);break;default:throw Error("Not a valid tensor rank.")}return t=(0,u.expandDims)(t,-1),(0,i.cast)(t,l)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../cast":"fGyHk","../einsum":"1SRTv","../expand_dims":"8AyIU","../operation":"23NhK","../tensor1d":"fcXCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8UygL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffset",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({rotateWithOffset_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,i.convertToTensor)(e,"image","rotateWithOffset","float32");return c.assert(4===a.rank,function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}),o.ENGINE.runKernel(s.RotateWithOffset,{image:a},{radians:t,fillValue:r,center:n})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i7vtp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppression",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppression_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression","float32"),l=(0,i.convertToTensor)(t,"scores","nonMaxSuppression","float32"),p=(0,c.nonMaxSuppSanityCheck)(u,l,r,n,a);r=p.maxOutputSize;var f={maxOutputSize:r,iouThreshold:n=p.iouThreshold,scoreThreshold:a=p.scoreThreshold};return o.ENGINE.runKernel(s.NonMaxSuppressionV3,{boxes:u,scores:l},f)}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gHJue:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppSanityCheck",function(){return s});var o=e("../util");function s(e,t,r,n,a,s){null==n&&(n=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==s&&(s=0);var i=e.shape[0];return r=Math.min(r,i),o.assert(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '".concat(n,"'")}),o.assert(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")}),o.assert(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])}),o.assert(1===t.rank,function(){return"scores must be a 1D tensor"}),o.assert(t.shape[0]===i,function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])}),o.assert(0<=s&&s<=1,function(){return"softNmsSigma must be in [0, 1], but was '".concat(s,"'")}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:s}}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eDDht:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionAsync",function(){return f});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../../backends/non_max_suppression_impl"),c=e("../../tensor_util_env"),u=e("../nonmax_util"),l=e("../tensor1d");function p(){return(p=(0,o._)(function(e,t,r){var n,a,o,p,f,d,h,m,g,v=arguments;return(0,s._)(this,function(s){switch(s.label){case 0:return n=v.length>3&&void 0!==v[3]?v[3]:.5,a=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,o=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),p=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),r=(f=(0,u.nonMaxSuppSanityCheck)(o,p,r,n,a)).maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold,[4,Promise.all([o.data(),p.data()])];case 1:return h=(d=s.sent())[0],m=d[1],g=(0,i.nonMaxSuppressionV3Impl)(h,m,r,n,a).selectedIndices,o!==e&&o.dispose(),p!==t&&p.dispose(),[2,(0,l.tensor1d)(g,"int32")]}})})).apply(this,arguments)}var f=function(e,t,r){return p.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../../backends/non_max_suppression_impl":"azXlj","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../tensor1d":"fcXCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],azXlj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3Impl",function(){return i}),a.export(r,"nonMaxSuppressionV4Impl",function(){return c}),a.export(r,"nonMaxSuppressionV5Impl",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("./non_max_suppression_util");function i(e,t,r,n,a){return l(e,t,r,n,a,0)}function c(e,t,r,n,a,o){return l(e,t,r,n,a,0,!1,o,!0)}function u(e,t,r,n,a,o){return l(e,t,r,n,a,o,!0)}function l(e,t,r,n,a,i){for(var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=[],d=0;d<t.length;d++)t[d]>a&&f.push({score:t[d],boxIndex:d,suppressBeginIndex:0});f.sort(p);for(var h=i>0?-.5/i:0,m=[],g=[];m.length<r&&f.length>0;){var v=f.pop(),_=v.score,x=v.boxIndex,y=v.suppressBeginIndex;if(_<a)break;for(var b=!1,k=m.length-1;k>=y;--k){var j=function(e,t,r){var n=e.subarray(4*t,4*t+4),a=e.subarray(4*r,4*r+4),o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),i=Math.max(n[0],n[2]),c=Math.max(n[1],n[3]),u=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),p=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),d=(i-o)*(c-s),h=(p-u)*(f-l);if(d<=0||h<=0)return 0;var m=Math.max(Math.min(i,p)-Math.max(o,u),0)*Math.max(Math.min(c,f)-Math.max(s,l),0);return m/(d+h-m)}(e,x,m[k]);if(j>=n){b=!0;break}if(v.score=v.score*function(e,t,r){var n=Math.exp(t*r*r);return r<=e?n:0}(n,h,j),v.score<=a)break}v.suppressBeginIndex=m.length,!b&&(v.score===_?(m.push(x),g.push(v.score)):v.score>a&&(0,s.binaryInsert)(f,v,p))}var w=m.length,S=r-w;u&&S>0&&(m.push.apply(m,(0,o._)(Array(S).fill(0))),g.push.apply(g,(0,o._)(Array(S).fill(0))));var I={selectedIndices:m};return c&&(I.selectedScores=g),l&&(I.validOutputs=w),I}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","./non_max_suppression_util":"4XALb","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4XALb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t,r){var n=s(e,t,r);e.splice(n<0?-(n+1):n,0,t)}function s(e,t,r){return function(e,t,r){for(var n=0,a=e.length,o=0,s=!1;n<a;){var i=r(t,e[o=n+(a-n>>>1)]);i>0?n=o+1:(a=o,s=!i)}return s?n:-n-1}(e,t,r||i)}function i(e,t){return e>t?1:e<t?-1:0}a.defineInteropFlag(r),a.export(r,"binaryInsert",function(){return o}),a.export(r,"binarySearch",function(){return s})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hwZhy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionWithScore",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppressionWithScore_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression"),p=(0,i.convertToTensor)(t,"scores","nonMaxSuppression"),f=(0,c.nonMaxSuppSanityCheck)(l,p,r,n,a,u);r=f.maxOutputSize,n=f.iouThreshold,a=f.scoreThreshold;var d={maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:u=f.softNmsSigma},h=o.ENGINE.runKernel(s.NonMaxSuppressionV5,{boxes:l,scores:p},d);return{selectedIndices:h[0],selectedScores:h[1]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gTLgP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionWithScoreAsync",function(){return f});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../../backends/non_max_suppression_impl"),c=e("../../tensor_util_env"),u=e("../nonmax_util"),l=e("../tensor1d");function p(){return(p=(0,o._)(function(e,t,r){var n,a,o,p,f,d,h,m,g,v,_,x,y=arguments;return(0,s._)(this,function(s){switch(s.label){case 0:return n=y.length>3&&void 0!==y[3]?y[3]:.5,a=y.length>4&&void 0!==y[4]?y[4]:Number.NEGATIVE_INFINITY,o=y.length>5&&void 0!==y[5]?y[5]:0,p=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),f=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),r=(d=(0,u.nonMaxSuppSanityCheck)(p,f,r,n,a,o)).maxOutputSize,n=d.iouThreshold,a=d.scoreThreshold,o=d.softNmsSigma,[4,Promise.all([p.data(),f.data()])];case 1:return m=(h=s.sent())[0],g=h[1],_=(v=(0,i.nonMaxSuppressionV5Impl)(m,g,r,n,a,o)).selectedIndices,x=v.selectedScores,p!==e&&p.dispose(),f!==t&&f.dispose(),[2,{selectedIndices:(0,l.tensor1d)(_,"int32"),selectedScores:(0,l.tensor1d)(x)}]}})})).apply(this,arguments)}var f=function(e,t,r){return p.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../../backends/non_max_suppression_impl":"azXlj","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../tensor1d":"fcXCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l60Uw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionPadded",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../nonmax_util"),u=(0,e("../operation").op)({nonMaxSuppressionPadded_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=(0,i.convertToTensor)(e,"boxes","nonMaxSuppression"),p=(0,i.convertToTensor)(t,"scores","nonMaxSuppression"),f=(0,c.nonMaxSuppSanityCheck)(l,p,r,n,a,null),d=f.maxOutputSize,h=f.iouThreshold,m=f.scoreThreshold,g=o.ENGINE.runKernel(s.NonMaxSuppressionV4,{boxes:l,scores:p},{maxOutputSize:d,iouThreshold:h,scoreThreshold:m,padToMaxOutputSize:u});return{selectedIndices:g[0],validOutputs:g[1]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jrZcd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionPaddedAsync",function(){return h});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),c=e("../../backends/non_max_suppression_impl"),u=e("../../tensor_util_env"),l=e("../nonmax_util"),p=e("../scalar"),f=e("../tensor1d");function d(){return(d=(0,o._)(function(e,t,r){var n,a,o,d,h,m,g,v,_,x,y,b,k,j,w,S=arguments;return(0,i._)(this,function(i){switch(i.label){case 0:return n=S.length>3&&void 0!==S[3]?S[3]:.5,a=S.length>4&&void 0!==S[4]?S[4]:Number.NEGATIVE_INFINITY,o=S.length>5&&void 0!==S[5]&&S[5],d=(0,u.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),h=(0,u.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),g=(m=(0,l.nonMaxSuppSanityCheck)(d,h,r,n,a,null)).maxOutputSize,v=m.iouThreshold,_=m.scoreThreshold,[4,Promise.all([d.data(),h.data()])];case 1:return y=(x=s._.apply(void 0,[i.sent(),2]))[0],b=x[1],j=(k=(0,c.nonMaxSuppressionV4Impl)(y,b,g,v,_,o)).selectedIndices,w=k.validOutputs,d!==e&&d.dispose(),h!==t&&h.dispose(),[2,{selectedIndices:(0,f.tensor1d)(j,"int32"),validOutputs:(0,p.scalar)(w,"int32")}]}})})).apply(this,arguments)}var h=function(e,t,r){return d.apply(this,arguments)}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../../backends/non_max_suppression_impl":"azXlj","../../tensor_util_env":"6H9ky","../nonmax_util":"gHJue","../scalar":"bjcHX","../tensor1d":"fcXCO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5xHyB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../kernel_names"),c=e("../../tensor_util_env"),u=e("../../util"),l=e("../operation"),p=e("../reshape"),f=(0,l.op)({resizeBilinear_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"images","resizeBilinear");u.assert(3===a.rank||4===a.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")}),u.assert(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")}),u.assert(!1===n||!1===r,function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."});var l=a,f=!1;3===a.rank&&(f=!0,l=(0,p.reshape)(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,o._)(t,0);var d={images:l},h=s.ENGINE.runKernel(i.ResizeBilinear,d,{alignCorners:r,halfPixelCenters:n,size:t});return f?(0,p.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","../reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c4yH9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../kernel_names"),c=e("../../tensor_util_env"),u=e("../../util"),l=e("../operation"),p=e("../reshape"),f=(0,l.op)({resizeNearestNeighbor_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"images","resizeNearestNeighbor");u.assert(3===a.rank||4===a.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")}),u.assert(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")}),u.assert("float32"===a.dtype||"int32"===a.dtype,function(){return"`images` must have `int32` or `float32` as dtype"}),u.assert(!1===n||!1===r,function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."});var l=a,f=!1;3===a.rank&&(f=!0,l=(0,p.reshape)(a,[1,a.shape[0],a.shape[1],a.shape[2]])),(0,o._)(t,0);var d={images:l},h=s.ENGINE.runKernel(i.ResizeNearestNeighbor,d,{alignCorners:r,halfPixelCenters:n,size:t});return f?(0,p.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","../reshape":"hItZV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7XAlY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"threshold",function(){return I});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../tensor1d"),i=e("../operation"),c=e("../cast"),u=e("../split"),l=e("../bincount"),p=e("../less_equal"),f=e("../greater"),d=e("../sum"),h=e("../add"),m=e("../mul"),g=e("../div"),v=e("../sub"),_=e("../round"),x=e("../where"),y=e("../fill"),b=e("../slice"),k=e("../range"),j=e("../tensor"),w=e("../../util"),S=e("../../tensor_util_env"),I=(0,i.op)({threshold_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,S.convertToTensor)(e,"image","threshold"),i=a.shape[0]*a.shape[1],I=(0,m.mul)((0,s.tensor1d)([n]),255);if(w.assert(3===a.rank,function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,".")}),w.assert(3===a.shape[2]||1===a.shape[2],function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],".")}),w.assert("int32"===a.dtype||"float32"===a.dtype,function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,".")}),w.assert("otsu"===t||"binary"===t,function(){return"Method must be binary or otsu, but was ".concat(t)}),3===a.shape[2]){T=(F=(0,o._)((0,u.split)(a,[1,1,1],-1),3))[0],N=F[1],C=F[2];var T,N,C,E,F,A=(0,m.mul)(T,.2989),P=(0,m.mul)(N,.587),R=(0,m.mul)(C,.114);E=(0,h.add)((0,h.add)(A,P),R)}else E=e;"otsu"===t&&(I=function(e,t){for(var r,n,a,o,i,c,u=(0,s.tensor1d)([-1]),l=(0,s.tensor1d)([0]),p=(0,s.tensor1d)([0]),_=0;_<e.size-1;_++){r=(0,b.slice)(e,0,_+1),n=(0,b.slice)(e,_+1),i=(0,g.div)((0,d.sum)(r),t),c=(0,g.div)((0,d.sum)(n),t);var j=(0,d.sum)((0,m.mul)(r,(0,k.range)(0,r.size)));a=(0,g.div)(j,(0,d.sum)(r));var w=(0,y.fill)(n.shape,r.size),S=(0,h.add)((0,k.range)(0,n.size),w),I=(0,m.mul)(n,S);o=(0,g.div)((0,d.sum)(I),(0,d.sum)(n));var T=(0,v.sub)(a,o),N=(0,v.sub)(a,o),C=(0,m.mul)(i,c);p=(0,m.mul)((0,m.mul)(C,T),N);var E=(0,f.greater)(p,l);l=(0,x.where)(E,p,l),u=(0,x.where)(E,(0,s.tensor1d)([_]),u)}return u}((0,l.bincount)((0,c.cast)((0,_.round)(E),"int32"),(0,j.tensor)([]),256),i));var D=r?(0,p.lessEqual)(E,I):(0,f.greater)(E,I);return(0,c.cast)((0,m.mul)(D,255),"int32")}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../tensor1d":"fcXCO","../operation":"23NhK","../cast":"fGyHk","../split":"1AaNg","../bincount":"egzJ5","../less_equal":"hEJ4U","../greater":"d2nQD","../sum":"eozn0","../add":"dD0ce","../mul":"6PT7e","../div":"guYTU","../sub":"bzNOI","../round":"eUmtk","../where":"3HW7C","../fill":"1zzPz","../slice":"dqV13","../range":"dg2ot","../tensor":"5NoRV","../../util":"5L87y","../../tensor_util_env":"6H9ky","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1p7Nl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return u});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=e("../../util"),u=(0,e("../operation").op)({transform_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,l=(0,i.convertToTensor)(e,"image","transform","float32"),p=(0,i.convertToTensor)(t,"transforms","transform","float32");return c.assert(4===l.rank,function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(l.rank,".")}),c.assert(2===p.rank&&(p.shape[0]===l.shape[0]||1===p.shape[0])&&8===p.shape[1],function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"}),c.assert(null==u||2===u.length,function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(u,".")}),o.ENGINE.runKernel(s.Transform,{image:l,transforms:p},{interpolation:r,fillMode:n,fillValue:a,outputShape:u})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../../util":"5L87y","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eoiKv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bandPart",function(){return k});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../tensor_util_env"),i=e("../../util"),c=e("../greater_equal"),u=e("../less"),l=e("../less_equal"),p=e("../logical_and"),f=e("../minimum"),d=e("../neg"),h=e("../operation"),m=e("../range"),g=e("../reshape"),v=e("../stack"),_=e("../sub"),x=e("../unstack"),y=e("../where"),b=e("../zeros"),k=(0,h.op)({bandPart_:function(e,t,r){var n,a,h=(0,s.convertToTensor)(e,"a","bandPart");(0,i.assert)(h.rank>=2,function(){return"bandPart(): Rank must be at least 2, got ".concat(h.rank,".")});var k=h.shape,j=(0,o._)(h.shape.slice(-2),2),w=j[0],S=j[1];"number"==typeof t?((0,i.assert)(t%1==0,function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")}),(0,i.assert)(t<=w,function(){return"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(w,").")}),n=(0,s.convertToTensor)(t<0?w:t,"numLower","bandPart")):((0,i.assert)("int32"===t.dtype,function(){return"bandPart(): numLower's dtype must be an int32."}),n=(0,y.where)((0,u.less)(t,0),w,(0,f.minimum)(t,w))),"number"==typeof r?((0,i.assert)(r%1==0,function(){return"bandPart(): numUpper must be an integer, got ".concat(r,".")}),(0,i.assert)(r<=S,function(){return"bandPart(): numUpper (".concat(r,")")+" must not be greater than the number of columns (".concat(S,").")}),a=(0,s.convertToTensor)(r<0?S:r,"numUpper","bandPart")):((0,i.assert)("int32"===r.dtype,function(){return"bandPart(): numUpper's dtype must be an int32."}),a=(0,y.where)((0,u.less)(r,0),S,(0,f.minimum)(r,S)));var I=(0,g.reshape)((0,m.range)(0,w,1,"int32"),[-1,1]),T=(0,m.range)(0,S,1,"int32"),N=(0,_.sub)(I,T),C=(0,p.logicalAnd)((0,l.lessEqual)(N,n),(0,c.greaterEqual)(N,(0,d.neg)(a))),E=(0,b.zeros)([w,S],h.dtype);return(0,g.reshape)((0,v.stack)((0,x.unstack)((0,g.reshape)(h,[-1,w,S])).map(function(e){return(0,y.where)(C,e,E)})),k)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../tensor_util_env":"6H9ky","../../util":"5L87y","../greater_equal":"lKn6m","../less":"5JwUZ","../less_equal":"hEJ4U","../logical_and":"cdrF8","../minimum":"9s2uB","../neg":"7x4sX","../operation":"23NhK","../range":"dg2ot","../reshape":"hItZV","../stack":"1IrD4","../sub":"bzNOI","../unstack":"e09B2","../where":"3HW7C","../zeros":"81gWj","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3zMKp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gramSchmidt",function(){return g});var o=e("../../engine"),s=e("../../util"),i=e("../div"),c=e("../mul"),u=e("../norm"),l=e("../operation"),p=e("../split"),f=e("../squeeze"),d=e("../stack"),h=e("../sub"),m=e("../sum"),g=(0,l.op)({gramSchmidt_:function(e){var t,r=function(e){g.push(o.ENGINE.tidy(function(){var t=v[e];if(e>0)for(var r=0;r<e;++r){var n=(0,c.mul)((0,m.sum)((0,c.mul)(g[r],t)),g[r]);t=(0,h.sub)(t,n)}return(0,i.div)(t,(0,u.norm)(t,"euclidean"))}))};if(Array.isArray(e)){var n=function(t){(0,s.assert)(e[t].shape[0]===a,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(a,")")})};t=!1,(0,s.assert)(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var a=e[0].shape[0],l=1;l<e.length;++l)n(l)}else t=!0,e=(0,p.split)(e,e.shape[0],0).map(function(e){return(0,f.squeeze)(e,[0])});(0,s.assert)(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")});for(var g=[],v=e,_=0;_<e.length;++_)r(_);return t?(0,d.stack)(g,0):g}})},{"../../engine":"hSfoX","../../util":"5L87y","../div":"guYTU","../mul":"6PT7e","../norm":"2ucoK","../operation":"23NhK","../split":"1AaNg","../squeeze":"3xQh4","../stack":"1IrD4","../sub":"bzNOI","../sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fZ2rs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"qr",function(){return N});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../engine"),i=e("../../globals"),c=e("../../util"),u=e("../clone"),l=e("../concat"),p=e("../div"),f=e("../eye"),d=e("../greater"),h=e("../mat_mul"),m=e("../mul"),g=e("../neg"),v=e("../norm"),_=e("../operation"),x=e("../reshape"),y=e("../slice"),b=e("../stack"),k=e("../sub"),j=e("../tensor2d"),w=e("../transpose"),S=e("../unstack"),I=e("../where");function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.ENGINE.tidy(function(){var r=function(e){var t,r=x,c=S,f=_;S=(t=(0,o._)(s.ENGINE.tidy(function(){var t=(0,y.slice)(x,[e,e],[n-e,1]),r=(0,v.norm)(t),o=(0,y.slice)(x,[e,e],[1,1]),s=(0,I.where)((0,d.greater)(o,0),(0,j.tensor2d)([[-1]]),(0,j.tensor2d)([[1]])),i=(0,k.sub)(o,(0,m.mul)(s,r)),c=(0,p.div)(t,i);S=1===c.shape[0]?(0,u.clone)(b):(0,l.concat)([b,(0,y.slice)(c,[1,0],[c.shape[0]-1,c.shape[1]])],0);var f=(0,g.neg)((0,p.div)((0,h.matMul)(s,i),r)),T=(0,y.slice)(x,[e,0],[n-e,a]),N=(0,m.mul)(f,S),C=(0,w.transpose)(S);if(0===e)x=(0,k.sub)(T,(0,h.matMul)(N,(0,h.matMul)(C,T)));else{var E=(0,k.sub)(T,(0,h.matMul)(N,(0,h.matMul)(C,T)));x=(0,l.concat)([(0,y.slice)(x,[0,0],[e,a]),E],0)}var F=(0,w.transpose)(N),A=(0,y.slice)(_,[0,e],[n,_.shape[1]-e]);if(0===e)_=(0,k.sub)(A,(0,h.matMul)((0,h.matMul)(A,S),F));else{var P=(0,k.sub)(A,(0,h.matMul)((0,h.matMul)(A,S),F));_=(0,l.concat)([(0,y.slice)(_,[0,0],[n,e]),P],1)}return[S,x,_]}),3))[0],x=t[1],_=t[2],(0,i.dispose)([r,c,f])};(0,c.assert)(2===e.shape.length,function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")});for(var n=e.shape[0],a=e.shape[1],_=(0,f.eye)(n),x=(0,u.clone)(e),b=(0,j.tensor2d)([[1]],[1,1]),S=(0,u.clone)(b),T=n>=a?a:n,N=0;N<T;++N)r(N);return!t&&n>a&&(_=(0,y.slice)(_,[0,0],[n,a]),x=(0,y.slice)(x,[0,0],[a,a])),[_,x]})}var N=(0,_.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,c.assert)(e.rank>=2,function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)}),2===e.rank)return T(e,t);var r=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),n=(0,S.unstack)((0,x.reshape)(e,[r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],s=[];return n.forEach(function(e){var r=(0,o._)(T(e,t),2),n=r[0],i=r[1];a.push(n),s.push(i)}),[(0,x.reshape)((0,b.stack)(a,0),e.shape),(0,x.reshape)((0,b.stack)(s,0),e.shape)]}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../engine":"hSfoX","../../globals":"74CiM","../../util":"5L87y","../clone":"bBKSn","../concat":"hgCiG","../div":"guYTU","../eye":"3zjQP","../greater":"d2nQD","../mat_mul":"bBIoC","../mul":"6PT7e","../neg":"7x4sX","../norm":"2ucoK","../operation":"23NhK","../reshape":"hItZV","../slice":"dqV13","../stack":"1IrD4","../sub":"bzNOI","../tensor2d":"l2W8n","../transpose":"8lNVv","../unstack":"e09B2","../where":"3HW7C","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kfaDN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"absoluteDifference",function(){return f});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../abs"),c=e("../loss_ops_utils"),u=e("../operation"),l=e("../sub"),p=e("./compute_weighted_loss"),f=(0,u.op)({absoluteDifference_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,o.convertToTensor)(e,"labels","absoluteDifference"),u=(0,o.convertToTensor)(t,"predictions","absoluteDifference"),f=null;null!=r&&(f=(0,o.convertToTensor)(r,"weights","absoluteDifference")),(0,s.assertShapesMatch)(a.shape,u.shape,"Error in absoluteDifference: ");var d=(0,i.abs)((0,l.sub)(a,u));return(0,p.computeWeightedLoss)(d,f,n)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../abs":"l0gI3","../loss_ops_utils":"5LXlD","../operation":"23NhK","../sub":"bzNOI","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5LXlD":[function(e,t,r,n){var a,o,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Reduction",function(){return o}),(a=o||(o={}))[a.NONE=0]="NONE",a[a.MEAN=1]="MEAN",a[a.SUM=2]="SUM",a[a.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jaZEm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"computeWeightedLoss",function(){return g});var o=e("../../tensor_util_env"),s=e("../cast"),i=e("../div"),c=e("../loss_ops_utils"),u=e("../mean"),l=e("../mul"),p=e("../not_equal"),f=e("../ones"),d=e("../operation"),h=e("../scalar"),m=e("../sum"),g=(0,d.op)({computeWeightedLoss_:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Reduction.SUM_BY_NONZERO_WEIGHTS,n=(0,o.convertToTensor)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=(0,o.convertToTensor)(t,"weights","computeWeightedLoss"));var d=null==a?n:(0,l.mul)(n,a);if(r===c.Reduction.NONE)return d;if(r===c.Reduction.SUM)return(0,m.sum)(d);if(r===c.Reduction.MEAN)if(null==a)return(0,u.mean)(d);else{var g=n.size/a.size,v=(0,i.div)((0,m.sum)(d),(0,m.sum)(a));return g>1?(0,i.div)(v,(0,h.scalar)(g)):v}if(r===c.Reduction.SUM_BY_NONZERO_WEIGHTS)if(null==a)return(0,i.div)((0,m.sum)(d),(0,h.scalar)(n.size));else{var _=(0,l.mul)(a,(0,f.ones)(n.shape)),x=(0,s.cast)((0,m.sum)((0,p.notEqual)(_,(0,h.scalar)(0))),"float32");return(0,i.div)((0,m.sum)(d),x)}throw Error("Unknown reduction: ".concat(r))}})},{"../../tensor_util_env":"6H9ky","../cast":"fGyHk","../div":"guYTU","../loss_ops_utils":"5LXlD","../mean":"hL4iN","../mul":"6PT7e","../not_equal":"fFOFr","../ones":"kOOFR","../operation":"23NhK","../scalar":"bjcHX","../sum":"eozn0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6hh93":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosineDistance",function(){return h});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../loss_ops_utils"),c=e("../mul"),u=e("../operation"),l=e("../scalar"),p=e("../sub"),f=e("../sum"),d=e("./compute_weighted_loss"),h=(0,u.op)({cosineDistance_:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,u=(0,o.convertToTensor)(e,"labels","cosineDistance"),h=(0,o.convertToTensor)(t,"predictions","cosineDistance"),m=null;null!=n&&(m=(0,o.convertToTensor)(n,"weights","cosineDistance")),(0,s.assertShapesMatch)(u.shape,h.shape,"Error in cosineDistance: ");var g=(0,l.scalar)(1),v=(0,p.sub)(g,(0,f.sum)((0,c.mul)(u,h),r,!0));return(0,d.computeWeightedLoss)(v,m,a)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../loss_ops_utils":"5LXlD","../mul":"6PT7e","../operation":"23NhK","../scalar":"bjcHX","../sub":"bzNOI","../sum":"eozn0","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3WWLp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"hingeLoss",function(){return h});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../loss_ops_utils"),c=e("../mul"),u=e("../operation"),l=e("../relu"),p=e("../scalar"),f=e("../sub"),d=e("./compute_weighted_loss"),h=(0,u.op)({hingeLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,o.convertToTensor)(e,"labels","hingeLoss"),u=(0,o.convertToTensor)(t,"predictions","hingeLoss"),h=null;null!=r&&(h=(0,o.convertToTensor)(r,"weights","hingeLoss")),(0,s.assertShapesMatch)(a.shape,u.shape,"Error in hingeLoss: ");var m=(0,p.scalar)(1);a=(0,f.sub)((0,c.mul)((0,p.scalar)(2),a),m);var g=(0,l.relu)((0,f.sub)(m,(0,c.mul)(a,u)));return(0,d.computeWeightedLoss)(g,h,n)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../loss_ops_utils":"5LXlD","../mul":"6PT7e","../operation":"23NhK","../relu":"34tae","../scalar":"bjcHX","../sub":"bzNOI","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h2QFn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"huberLoss",function(){return v});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../abs"),c=e("../add"),u=e("../loss_ops_utils"),l=e("../minimum"),p=e("../mul"),f=e("../operation"),d=e("../scalar"),h=e("../square"),m=e("../sub"),g=e("./compute_weighted_loss"),v=(0,f.op)({huberLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.Reduction.SUM_BY_NONZERO_WEIGHTS,f=(0,o.convertToTensor)(e,"labels","huberLoss"),v=(0,o.convertToTensor)(t,"predictions","huberLoss"),_=null;null!=r&&(_=(0,o.convertToTensor)(r,"weights","huberLoss")),(0,s.assertShapesMatch)(f.shape,v.shape,"Error in huberLoss: ");var x=(0,d.scalar)(n),y=(0,i.abs)((0,m.sub)(v,f)),b=(0,l.minimum)(y,x),k=(0,m.sub)(y,b),j=(0,c.add)((0,p.mul)((0,d.scalar)(.5),(0,h.square)(b)),(0,p.mul)(x,k));return(0,g.computeWeightedLoss)(j,_,a)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../abs":"l0gI3","../add":"dD0ce","../loss_ops_utils":"5LXlD","../minimum":"9s2uB","../mul":"6PT7e","../operation":"23NhK","../scalar":"bjcHX","../square":"7VgfQ","../sub":"bzNOI","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kdAGC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logLoss",function(){return g});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../add"),c=e("../log"),u=e("../loss_ops_utils"),l=e("../mul"),p=e("../neg"),f=e("../operation"),d=e("../scalar"),h=e("../sub"),m=e("./compute_weighted_loss"),g=(0,f.op)({logLoss_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.Reduction.SUM_BY_NONZERO_WEIGHTS,f=(0,o.convertToTensor)(e,"labels","logLoss"),g=(0,o.convertToTensor)(t,"predictions","logLoss"),v=null;null!=r&&(v=(0,o.convertToTensor)(r,"weights","logLoss")),(0,s.assertShapesMatch)(f.shape,g.shape,"Error in logLoss: ");var _=(0,d.scalar)(1),x=(0,d.scalar)(n),y=(0,p.neg)((0,l.mul)(f,(0,c.log)((0,i.add)(g,x)))),b=(0,l.mul)((0,h.sub)(_,f),(0,c.log)((0,i.add)((0,h.sub)(_,g),x))),k=(0,h.sub)(y,b);return(0,m.computeWeightedLoss)(k,v,a)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../add":"dD0ce","../log":"bq5Qf","../loss_ops_utils":"5LXlD","../mul":"6PT7e","../neg":"7x4sX","../operation":"23NhK","../scalar":"bjcHX","../sub":"bzNOI","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2o4fo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanSquaredError",function(){return p});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../loss_ops_utils"),c=e("../operation"),u=e("../squared_difference"),l=e("./compute_weighted_loss"),p=(0,c.op)({meanSquaredError_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,o.convertToTensor)(e,"labels","meanSquaredError"),c=(0,o.convertToTensor)(t,"predictions","meanSquaredError"),p=null;null!=r&&(p=(0,o.convertToTensor)(r,"weights","meanSquaredError")),(0,s.assertShapesMatch)(a.shape,c.shape,"Error in meanSquaredError: ");var f=(0,u.squaredDifference)(a,c);return(0,l.computeWeightedLoss)(f,p,n)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../loss_ops_utils":"5LXlD","../operation":"23NhK","../squared_difference":"6z3Ei","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4ApAp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoidCrossEntropy",function(){return x});var o=e("../../tensor_util_env"),s=e("../../util"),i=e("../abs"),c=e("../add"),u=e("../exp"),l=e("../log1p"),p=e("../loss_ops_utils"),f=e("../mul"),d=e("../neg"),h=e("../operation"),m=e("../relu"),g=e("../scalar"),v=e("../sub"),_=e("./compute_weighted_loss"),x=(0,h.op)({sigmoidCrossEntropy_:function(e,t,r){var n,a,h,x,y,b,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,j=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.Reduction.SUM_BY_NONZERO_WEIGHTS,w=(0,o.convertToTensor)(e,"multiClassLabels","sigmoidCrossEntropy"),S=(0,o.convertToTensor)(t,"logits","sigmoidCrossEntropy"),I=null;if(null!=r&&(I=(0,o.convertToTensor)(r,"weights","sigmoidCrossEntropy")),(0,s.assertShapesMatch)(w.shape,S.shape,"Error in sigmoidCrossEntropy: "),k>0){var T=(0,g.scalar)(k),N=(0,g.scalar)(1),C=(0,g.scalar)(.5);w=(0,c.add)((0,f.mul)(w,(0,v.sub)(N,T)),(0,f.mul)(C,T))}var E=(n=w,a=(0,o.convertToTensor)(n,"labels","sigmoidCrossEntropyWithLogits"),h=(0,o.convertToTensor)(S,"logits","sigmoidCrossEntropyWithLogits"),(0,s.assertShapesMatch)(a.shape,h.shape,"Error in sigmoidCrossEntropyWithLogits: "),x=(0,m.relu)(h),y=(0,f.mul)(h,a),b=(0,l.log1p)((0,u.exp)((0,d.neg)((0,i.abs)(h)))),(0,c.add)((0,v.sub)(x,y),b));return(0,_.computeWeightedLoss)(E,I,j)}})},{"../../tensor_util_env":"6H9ky","../../util":"5L87y","../abs":"l0gI3","../add":"dD0ce","../exp":"7bNTE","../log1p":"9S55v","../loss_ops_utils":"5LXlD","../mul":"6PT7e","../neg":"7x4sX","../operation":"23NhK","../relu":"34tae","../scalar":"bjcHX","../sub":"bzNOI","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2aow1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmaxCrossEntropy",function(){return w});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../../gradients"),i=e("../../tensor_util_env"),c=e("../../util"),u=e("../add"),l=e("../axis_util"),p=e("../cast"),f=e("../div"),d=e("../exp"),h=e("../log_sum_exp"),m=e("../loss_ops_utils"),g=e("../mul"),v=e("../neg"),_=e("../operation"),x=e("../reshape"),y=e("../scalar"),b=e("../sub"),k=e("../sum"),j=e("./compute_weighted_loss"),w=(0,_.op)({softmaxCrossEntropy_:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m.Reduction.SUM_BY_NONZERO_WEIGHTS,_=(0,i.convertToTensor)(e,"onehotLabels","softmaxCrossEntropy"),w=(0,i.convertToTensor)(t,"logits","softmaxCrossEntropy"),S=null;if(null!=r&&(S=(0,i.convertToTensor)(r,"weights","softmaxCrossEntropy")),(0,c.assertShapesMatch)(_.shape,w.shape,"Error in softmaxCrossEntropy: "),n>0){var I=(0,y.scalar)(n),T=(0,y.scalar)(1),N=(0,y.scalar)(_.shape[1]);_=(0,u.add)((0,g.mul)(_,(0,b.sub)(T,I)),(0,f.div)(I,N))}var C=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===r&&(r=t.rank-1),r!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(r));return(0,s.customGrad)(function(e,t,n){var a=(0,h.logSumExp)(t,[r],!0),s=(0,b.sub)((0,p.cast)(t,"float32"),a);n([e,s]);var i=(0,v.neg)((0,g.mul)(s,e));return{value:(0,k.sum)(i,[r]),gradFunc:function(e,t){var n=(0,o._)(t,2),a=n[0],s=n[1],i=(0,l.expandShapeToKeepDim)(e.shape,[r]);return[(0,g.mul)((0,x.reshape)(e,i),(0,b.sub)((0,p.cast)(a,"float32"),(0,d.exp)(s))),(0,g.mul)((0,x.reshape)(e,i),(0,b.sub)((0,d.exp)(s),(0,p.cast)(a,"float32")))]}}})(e,t)}(_,w);return(0,j.computeWeightedLoss)(C,S,a)}})},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../gradients":"anUIo","../../tensor_util_env":"6H9ky","../../util":"5L87y","../add":"dD0ce","../axis_util":"c20Tj","../cast":"fGyHk","../div":"guYTU","../exp":"7bNTE","../log_sum_exp":"80fTx","../loss_ops_utils":"5LXlD","../mul":"6PT7e","../neg":"7x4sX","../operation":"23NhK","../reshape":"hItZV","../scalar":"bjcHX","../sub":"bzNOI","../sum":"eozn0","./compute_weighted_loss":"jaZEm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6jDe7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseFillEmptyRows_:function(e,t,r,n){var a=(0,i.convertToTensor)(e,"indices","sparseFillEmptyRows","int32"),c=(0,i.convertToTensor)(t,"values","sparseFillEmptyRows"),u=(0,i.convertToTensor)(r,"denseShape","sparseFillEmptyRows","int32"),l=(0,i.convertToTensor)(n,"defaultValue","sparseFillEmptyRows",c.dtype);if(2!==a.rank)throw Error("Indices should be Tensor2D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Values should be Tensor1D but received shape ".concat(c.shape));if(1!==u.rank)throw Error("Dense shape should be Tensor1D but received shape ".concat(u.shape));if(0!==l.rank)throw Error("Default value should be a scalar but received shape ".concat(l.shape));var p=o.ENGINE.runKernel(s.SparseFillEmptyRows,{indices:a,values:c,denseShape:u,defaultValue:l});return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],by7ap:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseReshape_:function(e,t,r){var n=(0,i.convertToTensor)(e,"inputIndices","sparseReshape","int32"),a=(0,i.convertToTensor)(t,"inputShape","sparseReshape","int32"),c=(0,i.convertToTensor)(r,"newShape","sparseReshape","int32");if(2!==n.rank)throw Error("Input indices should be Tensor2D but received shape\n ".concat(n.shape));if(1!==a.rank)throw Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==c.rank)throw Error("New shape should be Tensor1D but received shape ".concat(c.shape));var u=o.ENGINE.runKernel(s.SparseReshape,{inputIndices:n,inputShape:a,newShape:c});return{outputIndices:u[0],outputShape:u[1]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hccW2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseSegmentMean_:function(e,t,r){var n=(0,i.convertToTensor)(e,"data","sparseSegmentMean"),a=(0,i.convertToTensor)(t,"indices","sparseSegmentMean","int32"),c=(0,i.convertToTensor)(r,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw Error("Indices should be Tensor1D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Segment ids should be Tensor1D but received shape\n ".concat(c.shape));return o.ENGINE.runKernel(s.SparseSegmentMean,{data:n,indices:a,segmentIds:c})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gGjcp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({sparseSegmentSum_:function(e,t,r){var n=(0,i.convertToTensor)(e,"data","sparseSegmentSum"),a=(0,i.convertToTensor)(t,"indices","sparseSegmentSum","int32"),c=(0,i.convertToTensor)(r,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw Error("Indices should be Tensor1D but received shape\n ".concat(a.shape));if(1!==c.rank)throw Error("Segment ids should be Tensor1D but received shape\n ".concat(c.shape));return o.ENGINE.runKernel(s.SparseSegmentSum,{data:n,indices:a,segmentIds:c})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5Rvo0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringNGrams_:function(e,t,r,n,a,c,u,l){var p=(0,i.convertToTensor)(e,"data","stringNGrams","string");if("string"!==p.dtype)throw Error("Data must be of datatype string");if(1!==p.shape.length)throw Error("Data must be a vector, saw: ".concat(p.shape));var f=(0,i.convertToTensor)(t,"dataSplits","stringNGrams");if("int32"!==f.dtype)throw Error("Data splits must be of datatype int32");var d=o.ENGINE.runKernel(s.StringNGrams,{data:p,dataSplits:f},{separator:r,nGramWidths:n,leftPad:a,rightPad:c,padWidth:u,preserveShortSequences:l});return{nGrams:d[0],nGramsSplits:d[1]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dNu7P:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringSplit_:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,i.convertToTensor)(e,"input","stringSplit","string"),a=(0,i.convertToTensor)(t,"delimiter","stringSplit","string");if(1!==n.rank)throw Error("Input should be Tensor1D but received shape ".concat(n.shape));if(0!==a.rank)throw Error("Delimiter should be a scalar but received shape ".concat(a.shape));var c=o.ENGINE.runKernel(s.StringSplit,{input:n,delimiter:a},{skipEmpty:r});return{indices:c[0],values:c[1],shape:c[2]}}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8K5g5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({stringToHashBucketFast_:function(e,t){var r=(0,i.convertToTensor)(e,"input","stringToHashBucketFast","string");if(t<=0)throw Error("Number of buckets must be at least 1");return o.ENGINE.runKernel(s.StringToHashBucketFast,{input:r},{numBuckets:t})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8DXav":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplace",function(){return c});var o=e("../../engine"),s=e("../../kernel_names"),i=e("../../tensor_util_env"),c=(0,e("../operation").op)({staticRegexReplace_:function(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=(0,i.convertToTensor)(e,"input","staticRegexReplace","string");return o.ENGINE.runKernel(s.StaticRegexReplace,{x:a},{pattern:t,rewrite:r,replaceGlobal:n})}})},{"../../engine":"hSfoX","../../kernel_names":"7S4Sf","../../tensor_util_env":"6H9ky","../operation":"23NhK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5rpHM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Optimizer",function(){return h});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../globals"),f=e("../gradients"),d=e("../ops/ops"),h=function(e){"use strict";function t(){return(0,i._)(this,t),(0,s._)(this,t,arguments)}return(0,u._)(t,e),(0,c._)(t,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=this.computeGradients(e,r),a=n.value,o=n.grads;if(null!=r){var s=r.map(function(e){return{name:e.name,tensor:o[e.name]}});this.applyGradients(s)}else this.applyGradients(o);return((0,p.dispose)(o),t)?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,f.variableGrads)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,p.dispose)(this.iterations_)}},{key:"saveIterations",value:function(){var e=this;return(0,o._)(function(){return(0,l._)(this,function(t){return null==e.iterations_&&(e.iterations_=0),[2,{name:"iter",tensor:(0,d.scalar)(e.iterations_,"int32")}]})})()}},{key:"getWeights",value:function(){return(0,o._)(function(){return(0,l._)(this,function(e){throw Error("getWeights() is not implemented for this optimizer yet.")})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){return(0,l._)(this,function(e){throw Error("setWeights() is not implemented for this optimizer class "+"".concat(t.getClassName()))})})()}},{key:"extractIterations",value:function(e){var t=this;return(0,o._)(function(){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,e[0].tensor.data()];case 1:return t.iterations_=r.sent()[0],[2,e.slice(1)]}})})()}}]),t}(e("../serialization").Serializable);Object.defineProperty(h,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}})},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../globals":"74CiM","../gradients":"anUIo","../ops/ops":"hDvbm","../serialization":"6bIxy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6bIxy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Serializable",function(){return p}),a.export(r,"SerializationMap",function(){return f}),a.export(r,"registerClass",function(){return d}),a.export(r,"getRegisteredName",function(){return h});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_type_of.cjs"),c=e("./util"),u=new Map,l=new Map,p=function(){"use strict";function e(){(0,o._)(this,e)}return(0,s._)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),f=function(){"use strict";function e(){(0,o._)(this,e),this.classNameMap={}}return(0,s._)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function d(e,t,r){(0,c.assert)(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),(0,c.assert)("string"==typeof e.className,function(){return"className is required to be a string, but got type "+(0,i._)(e.className)}),(0,c.assert)(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),void 0===t&&(t="Custom"),void 0===r&&(r=e.className);var n=t+">"+r;return f.register(e),u.set(n,e),l.set(e,n),e}function h(e){return l.has(e)?l.get(e):e.className}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_type_of.cjs":"9vrOw","./util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Lkv7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdagradOptimizer",function(){return x});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/div"),m=e("../ops/fill"),g=e("../ops/mul"),v=e("../ops/sqrt"),_=e("../ops/square"),x=function(e){"use strict";function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,i._)(this,t),(r=(0,s._)(this,t)).learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=p.ENGINE.registeredVariables[r];null==t.accumulatedGrads[n]&&(t.accumulatedGrads[n]={originalName:"".concat(r,"/accumulator"),variable:(0,f.tidy)(function(){return(0,m.fill)(a.shape,t.initialAccumulatorValue).variable(!1)})});var o=Array.isArray(e)?e[n].tensor:e[r];if(null!=o){var s=t.accumulatedGrads[n].variable;(0,f.tidy)(function(){var e=(0,d.add)(s,(0,_.square)(o));s.assign(e);var r=(0,d.add)((0,g.mul)((0,h.div)(o,(0,v.sqrt)((0,d.add)(e,p.ENGINE.backend.epsilon()))),-t.learningRate),a);a.assign(r)})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,f.dispose)(this.accumulatedGrads.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,e.saveIterations()];case 1:return[2,[t.sent()].concat(e.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,t.extractIterations(e)];case 1:return t.accumulatedGrads=(e=r.sent()).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"className",get:function(){return"Adagrad"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/div":"guYTU","../ops/fill":"1zzPz","../ops/mul":"6PT7e","../ops/sqrt":"153k2","../ops/square":"7VgfQ","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cQiav:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdamOptimizer",function(){return j});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/pow"),_=e("../ops/scalar"),x=e("../ops/sqrt"),y=e("../ops/square"),b=e("../ops/sub"),k=e("../ops/zeros_like"),j=function(e){"use strict";function t(e,r,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,i._)(this,t),(a=(0,s._)(this,t)).learningRate=e,a.beta1=r,a.beta2=n,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,d.tidy)(function(){a.accBeta1=(0,_.scalar)(r).variable(),a.accBeta2=(0,_.scalar)(n).variable()}),null==o&&(a.epsilon=f.ENGINE.backend.epsilon()),a}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this,r=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);(0,d.tidy)(function(){var n=(0,b.sub)(1,t.accBeta1),a=(0,b.sub)(1,t.accBeta2);r.forEach(function(r,o){var s=f.ENGINE.registeredVariables[r];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(r,"/m"),variable:(0,d.tidy)(function(){return(0,k.zerosLike)(s).variable(!1)})}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:"".concat(r,"/v"),variable:(0,d.tidy)(function(){return(0,k.zerosLike)(s).variable(!1)})});var i=Array.isArray(e)?e[o].tensor:e[r];if(null!=i){var c=t.accumulatedFirstMoment[o].variable,u=t.accumulatedSecondMoment[o].variable,l=(0,h.add)((0,g.mul)(c,t.beta1),(0,g.mul)(i,1-t.beta1)),p=(0,h.add)((0,g.mul)(u,t.beta2),(0,g.mul)((0,y.square)(i),1-t.beta2)),v=(0,m.div)(l,n),_=(0,m.div)(p,a);c.assign(l),u.assign(p);var b=(0,h.add)((0,g.mul)((0,m.div)(v,(0,h.add)((0,x.sqrt)(_),t.epsilon)),-t.learningRate),s);s.assign(b)}}),t.accBeta1.assign((0,g.mul)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,g.mul)(t.accBeta2,t.beta2))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,d.dispose)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&(0,d.dispose)(this.accumulatedSecondMoment.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){var t;return(0,p._)(this,function(r){switch(r.label){case 0:return t=(0,l._)(e.accumulatedFirstMoment).concat((0,l._)(e.accumulatedSecondMoment)),[4,e.saveIterations()];case 1:return[2,[r.sent()].concat(t.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,p._)(this,function(n){switch(n.label){case 0:return[4,t.extractIterations(e)];case 1:return e=n.sent(),(0,d.tidy)(function(){t.accBeta1.assign((0,v.pow)(t.beta1,t.iterations_+1)),t.accBeta2.assign((0,v.pow)(t.beta2,t.iterations_+1))}),r=e.length/2,t.accumulatedFirstMoment=e.slice(0,r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),t.accumulatedSecondMoment=e.slice(r,2*r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"className",get:function(){return"Adam"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/div":"guYTU","../ops/mul":"6PT7e","../ops/pow":"dL1Je","../ops/scalar":"bjcHX","../ops/sqrt":"153k2","../ops/square":"7VgfQ","../ops/sub":"bzNOI","../ops/zeros_like":"ivNIK","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7ZUKi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdamaxOptimizer",function(){return b});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/abs"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/maximum"),v=e("../ops/mul"),_=e("../ops/scalar"),x=e("../ops/sub"),y=e("../ops/zeros_like"),b=function(e){"use strict";function t(e,r,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,i._)(this,t),(a=(0,s._)(this,t)).learningRate=e,a.beta1=r,a.beta2=n,a.epsilon=o,a.decay=c,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,f.tidy)(function(){a.iteration=(0,_.scalar)(0).variable(),a.accBeta1=(0,_.scalar)(r).variable()}),null==o&&(a.epsilon=p.ENGINE.backend.epsilon()),a}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this,r=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);(0,f.tidy)(function(){var n=(0,x.sub)(1,t.accBeta1),a=(0,m.div)(-t.learningRate,(0,h.add)((0,v.mul)(t.iteration,t.decay),1));r.forEach(function(r,o){var s=p.ENGINE.registeredVariables[r];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(r,"/m"),variable:(0,y.zerosLike)(s).variable(!1)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:"".concat(r,"/v"),variable:(0,y.zerosLike)(s).variable(!1)});var i=Array.isArray(e)?e[o].tensor:e[r];if(null!=i){var c=t.accumulatedFirstMoment[o].variable,u=t.accumulatedWeightedInfNorm[o].variable,l=(0,h.add)((0,v.mul)(c,t.beta1),(0,v.mul)(i,1-t.beta1)),f=(0,v.mul)(u,t.beta2),_=(0,d.abs)(i),x=(0,g.maximum)(f,_);c.assign(l),u.assign(x);var b=(0,h.add)((0,v.mul)((0,m.div)(a,n),(0,m.div)(l,(0,h.add)(x,t.epsilon))),s);s.assign(b)}}),t.iteration.assign((0,h.add)(t.iteration,1)),t.accBeta1.assign((0,v.mul)(t.accBeta1,t.beta1))}),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,f.dispose)(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&(0,f.dispose)(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){return(0,o._)(function(){return(0,l._)(this,function(e){throw Error("getWeights() is not implemented for Adamax yet.")})})()}},{key:"setWeights",value:function(e){return(0,o._)(function(){return(0,l._)(this,function(e){throw Error("setWeights() is not implemented for Adamax yet.")})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"className",get:function(){return"Adamax"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/abs":"l0gI3","../ops/add":"dD0ce","../ops/div":"guYTU","../ops/maximum":"aC15f","../ops/mul":"6PT7e","../ops/scalar":"bjcHX","../ops/sub":"bzNOI","../ops/zeros_like":"ivNIK","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],caXp9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MomentumOptimizer",function(){return v});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/mul"),m=e("../ops/scalar"),g=e("../ops/zeros_like"),v=function(e){"use strict";function t(e,r){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,i._)(this,t),(n=(0,s._)(this,t,[e])).learningRate=e,n.momentum=r,n.useNesterov=a,n.accumulations=[],n.m=(0,m.scalar)(n.momentum),n}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=p.ENGINE.registeredVariables[r];null==t.accumulations[n]&&(t.accumulations[n]={originalName:"".concat(r,"/momentum"),variable:(0,f.tidy)(function(){return(0,g.zerosLike)(a).variable(!1)})});var o=t.accumulations[n].variable,s=Array.isArray(e)?e[n].tensor:e[r];null!=s&&(0,f.tidy)(function(){var e,r=(0,d.add)((0,h.mul)(t.m,o),s);e=t.useNesterov?(0,d.add)((0,h.mul)(t.c,(0,d.add)(s,(0,h.mul)(r,t.m))),a):(0,d.add)((0,h.mul)(t.c,r),a),o.assign(r),a.assign(e)})}),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,f.dispose)(this.accumulations.map(function(e){return e.variable}))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,e.saveIterations()];case 1:return[2,[t.sent()].concat(e.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,t.extractIterations(e)];case 1:return t.accumulations=(e=r.sent()).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"className",get:function(){return"Momentum"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),t}(e("./sgd_optimizer").SGDOptimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/mul":"6PT7e","../ops/scalar":"bjcHX","../ops/zeros_like":"ivNIK","./sgd_optimizer":"2x938","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2x938":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SGDOptimizer",function(){return g});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../engine"),f=e("../globals"),d=e("../ops/add"),h=e("../ops/mul"),m=e("../ops/scalar"),g=function(e){"use strict";function t(e){var r;return(0,i._)(this,t),(r=(0,s._)(this,t)).learningRate=e,r.setLearningRate(e),r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=Array.isArray(e)?e[n].tensor:e[r];if(null!=a){var o=p.ENGINE.registeredVariables[r];(0,f.tidy)(function(){var e=(0,d.add)((0,h.mul)(t.c,a),o);o.assign(e)})}}),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,f.keep)((0,m.scalar)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:return[4,e.saveIterations()];case 1:return[2,[t.sent()]]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,t.extractIterations(e)];case 1:if(0!==(e=r.sent()).length)throw Error("SGD optimizer does not have settable weights.");return[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"className",get:function(){return"SGD"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/mul":"6PT7e","../ops/scalar":"bjcHX","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gaa5Y:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"RMSPropOptimizer",function(){return b});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_to_consumable_array.cjs"),p=e("@swc/helpers/cjs/_ts_generator.cjs"),f=e("../engine"),d=e("../globals"),h=e("../ops/add"),m=e("../ops/div"),g=e("../ops/mul"),v=e("../ops/sqrt"),_=e("../ops/square"),x=e("../ops/sub"),y=e("../ops/zeros_like"),b=function(e){"use strict";function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,i._)(this,t),(r=(0,s._)(this,t)).learningRate=e,r.decay=n,r.momentum=a,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=c,null==o&&(r.epsilon=f.ENGINE.backend.epsilon()),null==e)throw Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,u._)(t,e),(0,c._)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(r,n){var a=f.ENGINE.registeredVariables[r];null==t.accumulatedMeanSquares[n]&&(t.accumulatedMeanSquares[n]={originalName:"".concat(r,"/rms"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})}),null==t.accumulatedMoments[n]&&(t.accumulatedMoments[n]={originalName:"".concat(r,"/momentum"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})}),null==t.accumulatedMeanGrads[n]&&t.centered&&(t.accumulatedMeanGrads[n]={originalName:"".concat(r,"/mg"),variable:(0,d.tidy)(function(){return(0,y.zerosLike)(a).variable(!1)})});var o=Array.isArray(e)?e[n].tensor:e[r];if(null!=o){var s=t.accumulatedMeanSquares[n].variable,i=t.accumulatedMoments[n].variable;(0,d.tidy)(function(){var e=(0,h.add)((0,g.mul)(s,t.decay),(0,g.mul)((0,_.square)(o),1-t.decay));if(t.centered){var r=t.accumulatedMeanGrads[n].variable,c=(0,h.add)((0,g.mul)(r,t.decay),(0,g.mul)(o,1-t.decay)),u=(0,m.div)((0,g.mul)(o,t.learningRate),(0,v.sqrt)((0,x.sub)(e,(0,h.add)((0,_.square)(c),t.epsilon)))),l=(0,h.add)((0,g.mul)(i,t.momentum),u);s.assign(e),r.assign(c),i.assign(l);var p=(0,x.sub)(a,l);a.assign(p)}else{var f=(0,h.add)((0,g.mul)(s,t.decay),(0,g.mul)((0,_.square)(o),1-t.decay)),d=(0,h.add)((0,g.mul)(i,t.momentum),(0,m.div)((0,g.mul)(o,t.learningRate),(0,v.sqrt)((0,h.add)(f,t.epsilon))));s.assign(f),i.assign(d);var y=(0,x.sub)(a,d);a.assign(y)}})}}),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,d.dispose)(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&(0,d.dispose)(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&(0,d.dispose)(this.accumulatedMoments.map(function(e){return e.variable}))}},{key:"getWeights",value:function(){var e=this;return(0,o._)(function(){var t,r;return(0,p._)(this,function(n){switch(n.label){case 0:return r=(0,l._)(e.accumulatedMeanSquares).concat((0,l._)(e.accumulatedMoments)),e.centered&&(t=r).push.apply(t,(0,l._)(e.accumulatedMeanGrads)),[4,e.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})()}},{key:"setWeights",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,p._)(this,function(n){switch(n.label){case 0:return[4,t.extractIterations(e)];case 1:return e=n.sent(),r=t.centered?e.length/3:e.length/2,t.accumulatedMeanSquares=e.slice(0,r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),t.accumulatedMoments=e.slice(r,2*r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),t.centered&&(t.accumulatedMeanGrads=e.slice(2*r,3*r).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})()}},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"className",get:function(){return"RMSProp"}},{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),t}(e("./optimizer").Optimizer)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../globals":"74CiM","../ops/add":"dD0ce","../ops/div":"guYTU","../ops/mul":"6PT7e","../ops/sqrt":"153k2","../ops/square":"7VgfQ","../ops/sub":"bzNOI","../ops/zeros_like":"ivNIK","./optimizer":"5rpHM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1EkoV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AdadeltaOptimizer",function(){return v.AdadeltaOptimizer}),a.export(r,"AdagradOptimizer",function(){return _.AdagradOptimizer}),a.export(r,"AdamOptimizer",function(){return x.AdamOptimizer}),a.export(r,"AdamaxOptimizer",function(){return y.AdamaxOptimizer}),a.export(r,"MomentumOptimizer",function(){return b.MomentumOptimizer}),a.export(r,"Optimizer",function(){return k.Optimizer}),a.export(r,"OptimizerConstructors",function(){return j.OptimizerConstructors}),a.export(r,"RMSPropOptimizer",function(){return w.RMSPropOptimizer}),a.export(r,"SGDOptimizer",function(){return S.SGDOptimizer}),a.export(r,"Tensor",function(){return I.Tensor}),a.export(r,"TensorBuffer",function(){return I.TensorBuffer}),a.export(r,"Variable",function(){return I.Variable}),a.export(r,"Rank",function(){return T.Rank}),a.export(r,"sumOutType",function(){return T.sumOutType}),a.export(r,"upcastType",function(){return T.upcastType}),a.export(r,"Reduction",function(){return C.Reduction}),a.export(r,"customGrad",function(){return P.customGrad}),a.export(r,"grad",function(){return P.grad}),a.export(r,"grads",function(){return P.grads}),a.export(r,"valueAndGrad",function(){return P.valueAndGrad}),a.export(r,"valueAndGrads",function(){return P.valueAndGrads}),a.export(r,"variableGrads",function(){return P.variableGrads}),a.export(r,"Environment",function(){return R.Environment}),a.export(r,"env",function(){return R.env}),a.export(r,"ENV",function(){return R.ENV}),a.export(r,"nextFrame",function(){return D.nextFrame}),a.export(r,"KernelBackend",function(){return V.KernelBackend}),a.export(r,"DataStorage",function(){return V.DataStorage}),a.export(r,"version_core",function(){return g.version}),a.export(r,"browser",function(){return c}),a.export(r,"io",function(){return o}),a.export(r,"math",function(){return s}),a.export(r,"serialization",function(){return f}),a.export(r,"test_util",function(){return h}),a.export(r,"util",function(){return m}),a.export(r,"backend_util",function(){return M}),a.export(r,"broadcast_util",function(){return i}),a.export(r,"tensor_util",function(){return d}),a.export(r,"slice_util",function(){return p}),a.export(r,"gather_util",function(){return u}),a.export(r,"scatter_util",function(){return l}),a.export(r,"device_util",function(){return O}),a.export(r,"kernel_impls",function(){return L});var o=e("./io/io"),s=e("./math"),i=e("./ops/broadcast_util"),c=e("./ops/browser"),u=e("./ops/gather_nd_util"),l=e("./ops/scatter_nd_util"),p=e("./ops/slice_util"),f=e("./serialization"),d=e("./tensor_util"),h=e("./test_util"),m=e("./util"),g=e("./version"),v=e("./optimizers/adadelta_optimizer"),_=e("./optimizers/adagrad_optimizer"),x=e("./optimizers/adam_optimizer"),y=e("./optimizers/adamax_optimizer"),b=e("./optimizers/momentum_optimizer"),k=e("./optimizers/optimizer"),j=e("./optimizers/optimizer_constructors"),w=e("./optimizers/rmsprop_optimizer"),S=e("./optimizers/sgd_optimizer"),I=e("./tensor"),T=e("./types"),N=e("./ops/ops");a.exportAll(N,r);var C=e("./ops/loss_ops_utils"),E=e("./train");a.exportAll(E,r);var F=e("./globals");a.exportAll(F,r);var A=e("./kernel_registry");a.exportAll(A,r);var P=e("./gradients"),R=e("./environment"),D=e("./browser_util"),M=e("./backends/backend_util"),O=e("./device_util"),L=e("./backends/kernel_impls"),V=e("./backends/backend"),U=e("./kernel_names");a.exportAll(U,r)},{"./io/io":"kOy3s","./math":"agKnx","./ops/broadcast_util":"cACWh","./ops/browser":"hU2gT","./ops/gather_nd_util":"6TB35","./ops/scatter_nd_util":"hvrkH","./ops/slice_util":"cd1PX","./serialization":"6bIxy","./tensor_util":"ilCpq","./test_util":"kqbGH","./util":"5L87y","./version":"azC4b","./optimizers/adadelta_optimizer":"43bPv","./optimizers/adagrad_optimizer":"7Lkv7","./optimizers/adam_optimizer":"cQiav","./optimizers/adamax_optimizer":"7ZUKi","./optimizers/momentum_optimizer":"caXp9","./optimizers/optimizer":"5rpHM","./optimizers/optimizer_constructors":"2mY9q","./optimizers/rmsprop_optimizer":"gaa5Y","./optimizers/sgd_optimizer":"2x938","./tensor":"6yx3i","./types":"8Anyq","./ops/ops":"hDvbm","./ops/loss_ops_utils":"5LXlD","./train":"5iaz0","./globals":"74CiM","./kernel_registry":"4NHEj","./gradients":"anUIo","./environment":"8AL2D","./browser_util":"edisy","./backends/backend_util":"du23z","./device_util":"llT0V","./backends/kernel_impls":"5V8UZ","./backends/backend":"f56XW","./kernel_names":"7S4Sf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kOy3s:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"copyModel",function(){return f.copyModel}),a.export(r,"listModels",function(){return f.listModels}),a.export(r,"moveModel",function(){return f.moveModel}),a.export(r,"removeModel",function(){return f.removeModel}),a.export(r,"browserFiles",function(){return o.browserFiles}),a.export(r,"browserHTTPRequest",function(){return s.browserHTTPRequest}),a.export(r,"CompositeArrayBuffer",function(){return p.CompositeArrayBuffer}),a.export(r,"concatenateArrayBuffers",function(){return i.concatenateArrayBuffers}),a.export(r,"decodeWeights",function(){return i.decodeWeights}),a.export(r,"decodeWeightsStream",function(){return i.decodeWeightsStream}),a.export(r,"encodeWeights",function(){return i.encodeWeights}),a.export(r,"fromMemory",function(){return c.fromMemory}),a.export(r,"fromMemorySync",function(){return c.fromMemorySync}),a.export(r,"getLoadHandlers",function(){return u.getLoadHandlers}),a.export(r,"getModelArtifactsForJSON",function(){return i.getModelArtifactsForJSON}),a.export(r,"getModelArtifactsForJSONSync",function(){return i.getModelArtifactsForJSONSync}),a.export(r,"getModelArtifactsInfoForJSON",function(){return i.getModelArtifactsInfoForJSON}),a.export(r,"getSaveHandlers",function(){return u.getSaveHandlers}),a.export(r,"getWeightSpecs",function(){return i.getWeightSpecs}),a.export(r,"http",function(){return s.http}),a.export(r,"isHTTPScheme",function(){return s.isHTTPScheme}),a.export(r,"loadWeights",function(){return l.loadWeights}),a.export(r,"registerLoadRouter",function(){return u.registerLoadRouter}),a.export(r,"registerSaveRouter",function(){return u.registerSaveRouter}),a.export(r,"weightsLoaderFactory",function(){return l.weightsLoaderFactory}),a.export(r,"withSaveHandler",function(){return c.withSaveHandler}),a.export(r,"withSaveHandlerSync",function(){return c.withSaveHandlerSync}),e("./indexed_db"),e("./local_storage");var o=e("./browser_files"),s=e("./http"),i=e("./io_utils"),c=e("./passthrough"),u=e("./router_registry"),l=e("./weights_loader"),p=e("./composite_array_buffer"),f=e("./model_management")},{"./indexed_db":"dE8ff","./local_storage":"acJMR","./browser_files":"d8WfH","./http":"6Dal9","./io_utils":"hm6ro","./passthrough":"dZAjX","./router_registry":"3y9TL","./weights_loader":"ln6Ip","./composite_array_buffer":"digvQ","./model_management":"B5yLf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d8WfH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BrowserDownloads",function(){return m}),a.export(r,"browserDownloadsRouter",function(){return v}),a.export(r,"browserDownloads",function(){return _}),a.export(r,"browserFiles",function(){return x});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs");e("../flags");var l=e("../environment"),p=e("./io_utils"),f=e("./router_registry"),d=e("./composite_array_buffer");function h(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var m=function(){"use strict";function e(t){if((0,s._)(this,e),!(0,l.env)().getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),(null==t||0===t.length)&&(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,i._)(e,[{key:"save",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s,i,c;return(0,u._)(this,function(u){switch(u.label){case 0:if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");if(r=d.CompositeArrayBuffer.join(e.weightData),n=window.URL.createObjectURL(new Blob([r],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return a=[{paths:["./"+t.weightDataFileName],weights:e.weightSpecs}],o=(0,p.getModelJSONForModelArtifacts)(e,a),s=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(i=null==t.modelJsonAnchor?document.createElement("a"):t.modelJsonAnchor).download=t.modelJsonFileName,i.href=s,[4,h(function(){return i.dispatchEvent(new MouseEvent("click"))})];case 2:if(u.sent(),null==e.weightData)return[3,4];return(c=null==t.weightDataAnchor?document.createElement("a"):t.weightDataAnchor).download=t.weightDataFileName,c.href=n,[4,h(function(){return c.dispatchEvent(new MouseEvent("click"))})];case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:(0,p.getModelArtifactsInfoForJSON)(e)}];case 5:return[2]}})})()}}]),e}();m.URL_SCHEME="downloads://";var g=function(){"use strict";function e(t){if((0,s._)(this,e),null==t||t.length<1)throw Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,i._)(e,[{key:"load",value:function(){var e=this;return(0,o._)(function(){return(0,u._)(this,function(t){return[2,new Promise(function(t,r){var n=new FileReader;n.onload=function(n){var a=JSON.parse(n.target.result),o=a.modelTopology;return null==o?void r(Error("modelTopology field is missing from file ".concat(e.jsonFile.name))):null==a.weightsManifest?void r(Error("weightManifest field is missing from file ".concat(e.jsonFile.name))):0===e.weightsFiles.length?void t({modelTopology:o}):void t((0,p.getModelArtifactsForJSON)(a,function(t){return e.loadWeights(t)}))},n.onerror=function(t){return r("Failed to read model topology and weights manifest JSON "+"from file '".concat(e.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},n.readAsText(e.jsonFile)})]})})()}},{key:"loadWeights",value:function(e){var t=this,r=[],n=[],a=!0,o=!1,s=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var l=i.value;r.push.apply(r,(0,c._)(l.weights)),n.push.apply(n,(0,c._)(l.paths))}}catch(e){o=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}var p=this.checkManifestAndWeightFiles(e);return Promise.all(n.map(function(e){return t.loadWeightsFile(e,p[e])})).then(function(e){return[r,e]})}},{key:"loadWeightsFile",value:function(e,t){return new Promise(function(r,n){var a=new FileReader;a.onload=function(e){r(e.target.result)},a.onerror=function(t){return n("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)})}},{key:"checkManifestAndWeightFiles",value:function(e){var t=this,r=[],n=this.weightsFiles.map(function(e){return(0,p.basename)(e.name)}),a={},o=!0,s=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)c.value.paths.forEach(function(e){var o=(0,p.basename)(e);if(-1!==r.indexOf(o))throw Error("Duplicate file basename found in weights manifest: "+"'".concat(o,"'"));if(r.push(o),-1===n.indexOf(o))throw Error("Weight file with basename '".concat(o,"' is not provided."));a[e]=t.weightsFiles[n.indexOf(o)]})}catch(e){s=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw i}}if(r.length!==this.weightsFiles.length)throw Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}(),v=function(e){return(0,l.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(m.URL_SCHEME)?_(e.slice(m.URL_SCHEME.length)):null};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new m(e)}function x(e){return new g(e)}f.IORouterRegistry.registerSaveRouter(v)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../flags":"8adxq","../environment":"8AL2D","./io_utils":"hm6ro","./router_registry":"3y9TL","./composite_array_buffer":"digvQ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6Dal9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HTTPRequest",function(){return v}),a.export(r,"parseUrl",function(){return _}),a.export(r,"isHTTPScheme",function(){return x}),a.export(r,"httpRouter",function(){return y}),a.export(r,"http",function(){return b}),a.export(r,"browserHTTPRequest",function(){return k});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("../environment"),f=e("../util"),d=e("./io_utils"),h=e("./composite_array_buffer"),m=e("./router_registry"),g=e("./weights_loader"),v=function(){"use strict";function e(t,r){if((0,s._)(this,e),this.DEFAULT_METHOD="POST",null==r&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.weightUrlConverter=r.weightUrlConverter,null!=r.fetchFunc?((0,f.assert)("function"==typeof r.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=r.fetchFunc):this.fetch=(0,p.env)().platform.fetch,(0,f.assert)(null!=t&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&(0,f.assert)(2===t.length,function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")}),this.path=t,null!=r.requestInit&&null!=r.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{},this.loadOptions=r}return(0,i._)(e,[{key:"save",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s;return(0,l._)(this,function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(r=Object.assign({method:t.DEFAULT_METHOD},t.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=(0,d.getModelJSONForModelArtifacts)(e,n),r.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=e.weightData&&(o=h.CompositeArrayBuffer.join(e.weightData),r.body.append("model.weights.bin",new Blob([o],{type:"application/octet-stream"}),"model.weights.bin")),[4,t.fetch(t.path,r)];case 1:if((s=i.sent()).ok)return[2,{modelArtifactsInfo:(0,d.getModelArtifactsInfoForJSON)(e),responses:[s]}];throw Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(s.status,"."))}})})()}},{key:"loadModelJSON",value:function(){var e=this;return(0,o._)(function(){var t,r,n,a,o;return(0,l._)(this,function(s){switch(s.label){case 0:return[4,e.fetch(e.path,e.requestInit)];case 1:if(!(t=s.sent()).ok)throw Error("Request to ".concat(e.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t.json()];case 3:return r=s.sent(),[3,5];case 4:throw s.sent(),n="Failed to parse model JSON of response from ".concat(e.path,"."),e.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",Error(n);case 5:if(a=r.modelTopology,o=r.weightsManifest,null==a&&null==o)throw Error("The JSON from HTTP path ".concat(e.path," contains neither model ")+"topology or manifest for weights.");return[2,r]}})})()}},{key:"load",value:function(){var e=this;return(0,o._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:if(e.loadOptions.streamWeights)return[2,e.loadStream()];return[4,e.loadModelJSON()];case 1:return t=r.sent(),[2,(0,d.getModelArtifactsForJSON)(t,function(t){return e.loadWeights(t)})]}})})()}},{key:"loadStream",value:function(){var e=this;return(0,o._)(function(){var t,r,n,a;return(0,l._)(this,function(o){switch(o.label){case 0:return[4,e.loadModelJSON()];case 1:return t=o.sent(),[4,e.getWeightUrls(t.weightsManifest)];case 2:return r=o.sent(),n=(0,d.getWeightSpecs)(t.weightsManifest),a=function(){return(0,g.streamWeights)(r,e.loadOptions)},[2,Object.assign(Object.assign({},t),{weightSpecs:n,getWeightStream:a})]}})})()}},{key:"getWeightUrls",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s,i,p,f,d,h,m,g,v,x,y,b,k,j,w,S,I,T,N;return(0,l._)(this,function(l){switch(l.label){case 0:n=Array.isArray(t.path)?t.path[1]:t.path,o=(a=(0,c._)(_(n),2))[0],s=a[1],i=t.weightPathPrefix||o,p=[],f=[],d=!0,h=!1,m=void 0;try{for(g=e[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){x=v.value,y=!0,b=!1,k=void 0;try{for(j=x.paths[Symbol.iterator]();!(y=(w=j.next()).done);y=!0)S=w.value,null!=t.weightUrlConverter?f.push(t.weightUrlConverter(S)):p.push(i+S+s)}catch(e){b=!0,k=e}finally{try{y||null==j.return||j.return()}finally{if(b)throw k}}}}catch(e){h=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw m}}if(!t.weightUrlConverter)return[3,2];return T=(I=(r=p).push).apply,N=[r],[4,Promise.all(f)];case 1:T.apply(I,N.concat([u._.apply(void 0,[l.sent()])])),l.label=2;case 2:return[2,p]}})})()}},{key:"loadWeights",value:function(e){var t=this;return(0,o._)(function(){var r,n,a;return(0,l._)(this,function(o){switch(o.label){case 0:return[4,t.getWeightUrls(e)];case 1:return r=o.sent(),n=(0,d.getWeightSpecs)(e),[4,(0,g.loadWeightsAsArrayBuffer)(r,t.loadOptions)];case 2:return a=o.sent(),[2,[n,a]]}})})()}}]),e}();function _(e){var t=e.lastIndexOf("/"),r=e.lastIndexOf("?");return[e.substring(0,t)+"/",r>t?e.substring(r):""]}function x(e){return null!=e.match(v.URL_SCHEME_REGEX)}v.URL_SCHEME_REGEX=/^https?:\/\//;var y=function(e,t){if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc));else{var r=!0;if(Array.isArray(e)?e.every(function(e){return x(e)}):x(e))return b(e,t)}return null};function b(e,t){return new v(e,t)}function k(e,t){return b(e,t)}m.IORouterRegistry.registerSaveRouter(y),m.IORouterRegistry.registerLoadRouter(y)},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../environment":"8AL2D","../util":"5L87y","./io_utils":"hm6ro","./composite_array_buffer":"digvQ","./router_registry":"3y9TL","./weights_loader":"ln6Ip","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ln6Ip:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"loadWeightsAsArrayBuffer",function(){return d}),a.export(r,"streamWeights",function(){return m}),a.export(r,"loadWeights",function(){return g}),a.export(r,"weightsLoaderFactory",function(){return _});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_ts_generator.cjs"),i=e("../environment"),c=e("../util"),u=e("./composite_array_buffer"),l=e("./io_utils"),p=e("./progress"),f=e("./types");function d(e,t){return h.apply(this,arguments)}function h(){return(h=(0,o._)(function(e,t){var r,n,a,o,c,u,l,f,d;return(0,s._)(this,function(s){switch(s.label){case 0:if(null==t&&(t={}),r=null==t.fetchFunc?(0,i.env)().platform.fetch:t.fetchFunc,n=e.map(function(e){return r(e,t.requestInit,{isBinary:!0})}),a=0,o=.5,null!=t.onProgress)return[3,2];return[4,Promise.all(n)];case 1:return c=s.sent(),[3,4];case 2:return[4,(0,p.monitorPromisesProgress)(n,t.onProgress,a,o)];case 3:c=s.sent(),s.label=4;case 4:if(u=c.map(function(e){return e.arrayBuffer()}),l=.5,f=1,null!=t.onProgress)return[3,6];return[4,Promise.all(u)];case 5:return d=s.sent(),[3,8];case 6:return[4,(0,p.monitorPromisesProgress)(u,t.onProgress,l,f)];case 7:d=s.sent(),s.label=8;case 8:return[2,d]}})})).apply(this,arguments)}function m(e,t){var r,n,a,c=null==t.fetchFunc?(0,i.env)().platform.fetch:t.fetchFunc,u=0;return null==(n=t.onProgress)||n.call(t,0),new ReadableStream({pull:(r=(0,o._)(function(r){var n,o,i,l;return(0,s._)(this,function(s){switch(s.label){case 0:if(!(u<e.length))return[3,4];if(a)return[3,2];return[4,c(e[u],t.requestInit,{isBinary:!0})];case 1:a=s.sent().body.getReader(),s.label=2;case 2:return[4,a.read()];case 3:if(i=(o=s.sent()).done,l=o.value,i)return u++,a=void 0,null==(n=t.onProgress)||n.call(t,u/e.length),[3,0];return r.enqueue(l),[2];case 4:return r.close(),[2]}})}),function(e){return r.apply(this,arguments)})})}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,o._)(function(e){var t,r,n,a=arguments;return(0,s._)(this,function(o){return t=a.length>1&&void 0!==a[1]?a[1]:"",r=a.length>2?a[2]:void 0,n=a.length>3?a[3]:void 0,[2,_(function(e){return d(e,{requestInit:n})})(e,t,r)]})})).apply(this,arguments)}function _(e){var t;return t=(0,o._)(function(t){var r,n,a,o,i,p,d,h,m,g,v,_,x=arguments;return(0,s._)(this,function(s){switch(s.label){case 0:if(r=x.length>1&&void 0!==x[1]?x[1]:"",n=x.length>2?x[2]:void 0,a=t.map(function(){return!1}),o={},i=null!=n?n.map(function(){return!1}):[],p=[],t.forEach(function(e,t){var r=0;e.weights.forEach(function(e){var s="quantization"in e?e.quantization.dtype:e.dtype,u=f.DTYPE_VALUE_SIZE_MAP[s]*c.sizeFromShape(e.shape),l=function(){a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=n?n.forEach(function(t,r){t===e.name&&(l(),i[r]=!0)}):l(),p.push(e.name),r+=u})}),!i.every(function(e){return e}))throw d=n.filter(function(e,t){return!i[t]}),Error("Could not find weights in manifest with names: "+"".concat(d.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(p.join(", "),"."));return h=a.reduce(function(e,t,r){return t&&e.push(r),e},[]),m=[],h.forEach(function(e){t[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;m.push(t)})}),[4,e(m)];case 1:return g=s.sent(),v={},_=0,h.forEach(function(e){var r=t[e].paths.length,n=new(0,u.CompositeArrayBuffer)(g.slice(_,_+r));o[e].forEach(function(e){var t=n.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=(0,l.decodeWeights)(t,[e.manifestEntry]);for(var a in r)v[a]=r[a]}),_+=r}),[2,v]}})}),function(e){return t.apply(this,arguments)}}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../environment":"8AL2D","../util":"5L87y","./composite_array_buffer":"digvQ","./io_utils":"hm6ro","./progress":"2ihHa","./types":"jVvy5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2ihHa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"monitorPromisesProgress",function(){return s});var o=e("../util");function s(e,t,r,n){a=e,(0,o.assert)(null!=a&&Array.isArray(a)&&a.length>0,function(){return"promises must be a none empty array"}),s=r=null==r?0:r,i=n=null==n?1:n,(0,o.assert)(s>=0&&s<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(s)}),(0,o.assert)(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(i)}),(0,o.assert)(i>=s,function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(s," and endFraction ")+"".concat(i)});var a,s,i,c=0;return Promise.all(e.map(function(a){return a.then(function(a){return t(r+ ++c/e.length*(n-r)),a}),a}))}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dZAjX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fromMemory",function(){return p}),a.export(r,"fromMemorySync",function(){return f}),a.export(r,"withSaveHandler",function(){return d}),a.export(r,"withSaveHandlerSync",function(){return h});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=function(){"use strict";function e(t){(0,o._)(this,e),this.modelArtifacts=t}return(0,s._)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),u=function(){"use strict";function e(t){(0,o._)(this,e),this.saveHandler=t}return(0,s._)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),l=function e(t){"use strict";(0,o._)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})};function p(e,t,r,n){var a=arguments;return new l(f.apply(void 0,(0,i._)(a)))}function f(e,t,r,n){return 1!=arguments.length?(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new c({modelTopology:e,weightSpecs:t,weightData:r,trainingConfig:n})):null!=e.modelTopology||null!=e.weightSpecs?new c(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new c({modelTopology:e}))}function d(e){return new u(e)}function h(e){return new u(e)}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],agKnx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"confusionMatrix",function(){return o.confusionMatrix});var o=e("./ops/confusion_matrix")},{"./ops/confusion_matrix":"ZUohL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ZUohL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"confusionMatrix_",function(){return f}),a.export(r,"confusionMatrix",function(){return d});var o=e("../tensor_util_env"),s=e("../util"),i=e("./cast"),c=e("./mat_mul"),u=e("./one_hot"),l=e("./operation"),p=e("./transpose");function f(e,t,r){var n=(0,o.convertToTensor)(e,"labels","confusionMatrix"),a=(0,o.convertToTensor)(t,"predictions","confusionMatrix");s.assert(null==r||r>0&&Number.isInteger(r),function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(r)}),s.assert(1===n.rank,function(){return"Expected the rank of labels to be 1, but got ".concat(n.rank)}),s.assert(1===a.rank,function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)}),s.assert(n.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+"".concat(n.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."}),s.assert(r>0&&Number.isInteger(r),function(){return"numClasses is required to be a positive integer, but got "+"".concat(r)});var l=(0,u.oneHot)((0,i.cast)(n,"int32"),r),f=(0,u.oneHot)((0,i.cast)(a,"int32"),r),d=(0,p.transpose)(l),h=(0,c.matMul)(d,f);return(0,i.cast)(h,"int32")}var d=(0,l.op)({confusionMatrix_:f})},{"../tensor_util_env":"6H9ky","../util":"5L87y","./cast":"fGyHk","./mat_mul":"bBIoC","./one_hot":"fYUMP","./operation":"23NhK","./transpose":"8lNVv","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hU2gT:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fromPixelsAsync",function(){return y}),o.export(r,"toPixels",function(){return j}),o.export(r,"draw",function(){return S}),o.export(r,"fromPixels",function(){return I});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("../engine"),l=e("../environment"),p=e("../kernel_names"),f=e("../kernel_registry"),d=e("../tensor"),h=e("../tensor_util_env"),m=e("./cast"),g=e("./operation"),v=e("./tensor3d"),_=!1;function x(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(n>4)throw Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw Error("pixels passed to tf.browser.fromPixels() can not be null");var o=!1,s=!1,c=!1,l=!1,d=!1,h=!1;if(e.data instanceof Uint8Array)o=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)s=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)c=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)l=!0;else if(null!=e.getContext)d=!0;else if("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap)h=!0;else throw Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));if(null!=(0,f.getKernel)(p.FromPixels,u.ENGINE.backendName))return u.ENGINE.runKernel(p.FromPixels,{pixels:e},{numChannels:n});var m=(0,i._)(c?[e.videoWidth,e.videoHeight]:[e.width,e.height],2),g=m[0],_=m[1];if(d)t=e.getContext("2d").getImageData(0,0,g,_).data;else if(s||o)t=e.data;else if(l||c||h){if(null==a)if("undefined"==typeof document)if("undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof OffscreenCanvasRenderingContext2D)a=new OffscreenCanvas(1,1).getContext("2d");else throw Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else a=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});a.canvas.width=g,a.canvas.height=_,a.drawImage(e,0,0,g,_),t=a.getImageData(0,0,g,_).data}if(4===n)r=new Int32Array(t);else{var x=g*_;r=new Int32Array(x*n);for(var y=0;y<x;y++)for(var b=0;b<n;++b)r[y*n+b]=t[4*y+b]}var k=[_,g,n];return(0,v.tensor3d)(r,k,"int32")}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,s._)(function(e){var t,r,n,a=arguments;return(0,c._)(this,function(o){switch(o.label){case 0:var s;if(t=a.length>1&&void 0!==a[1]?a[1]:3,r=null,!((0,l.env)().getBool("WRAP_TO_IMAGEBITMAP")&&"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&null!=(s=e)&&0!==s.width&&0!==s.height&&!(null!=e&&e.data instanceof Uint8Array)))return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,createImageBitmap(e,{premultiplyAlpha:"none"})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),n=null,[3,4];case 4:return r=null!=n&&n.width===e.width&&n.height===e.height?n:e,[3,6];case 5:r=e,o.label=6;case 6:return[2,x(r,t)]}})})).apply(this,arguments)}function k(e){if(2!==e.rank&&3!==e.rank)throw Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));var t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}function j(e,t){return w.apply(this,arguments)}function w(){return(w=(0,s._)(function(e,t){var r,n,a,o,s,l,g,v,x,y,b,j,w,S,I,T;return(0,c._)(this,function(c){switch(c.label){case 0:return r=(0,h.convertToTensor)(e,"img","toPixels"),e instanceof d.Tensor||(n=r,r=(0,m.cast)(n,"int32"),n.dispose()),k(r),o=(a=(0,i._)(r.shape.slice(0,2),2))[0],s=a[1],l=2===r.rank?1:r.shape[2],[4,r.data()];case 1:for(y=0,g=c.sent(),v="float32"===r.dtype?255:1,x=new Uint8ClampedArray(s*o*4);y<o*s;++y){for(j=0,b=[0,0,0,255];j<l;j++){if(w=g[y*l+j],"float32"===r.dtype){if(w<0||w>1)throw Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(w,"."))}else if("int32"===r.dtype&&(w<0||w>255))throw Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(w,"."));1===l?(b[0]=w*v,b[1]=w*v,b[2]=w*v):b[j]=w*v}x[(S=4*y)+0]=Math.round(b[0]),x[S+1]=Math.round(b[1]),x[S+2]=Math.round(b[2]),x[S+3]=Math.round(b[3])}return null!=t&&(_||null!=(0,f.getKernel)(p.Draw,u.ENGINE.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),_=!0),t.width=s,t.height=o,I=t.getContext("2d"),T=new ImageData(x,s,o),I.putImageData(T,0,0)),r!==e&&r.dispose(),[2,x]}})})).apply(this,arguments)}function S(e,t,r){var n=(0,h.convertToTensor)(e,"img","draw");if(!(e instanceof d.Tensor)){var a=n;n=(0,m.cast)(a,"int32"),a.dispose()}k(n);var o=null==r?void 0:r.imageOptions,s=(null==o?void 0:o.alpha)||1;if(s>1||s<0)throw Error("Alpha value ".concat(s," is suppoed to be in range [0 - 1]."));var i={image:n};u.ENGINE.runKernel(p.Draw,i,{canvas:t,options:r})}var I=(0,g.op)({fromPixels_:x})},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../engine":"hSfoX","../environment":"8AL2D","../kernel_names":"7S4Sf","../kernel_registry":"4NHEj","../tensor":"6yx3i","../tensor_util_env":"6H9ky","./cast":"fGyHk","./operation":"23NhK","./tensor3d":"3GTgg","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6TB35":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prepareAndValidate",function(){return i});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("../util");function i(e,t){var r=e.shape.length,n=t.shape.length;if(r<1)throw Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if(n<1)throw Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if("int32"!==t.dtype)throw Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[n-1]>r)throw Error("index innermost dimension length must be<= tensor rank; saw: "+"".concat(t.shape[n-1]," vs. ").concat(r));if(0===(0,s.sizeFromShape)(e.shape))throw Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],c=1,u=0;u<a.length-1;++u)c*=a[u];var l=e.shape,p=a.slice();p.pop();for(var f=1,d=i;d<r;++d)f*=l[d],p.push(l[d]);var h=(0,o._)((0,s.computeStrides)(e.shape).map(function(e){return e/f})).concat([1]).slice(0,i);return[p,c,f,h]}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cd1PX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertParamsValid",function(){return i}),a.export(r,"maskToAxes",function(){return c}),a.export(r,"computeOutShape",function(){return u}),a.export(r,"stridesWithElidedDims",function(){return l}),a.export(r,"getNormalizedAxes",function(){return d}),a.export(r,"startIndicesWithElidedDims",function(){return h}),a.export(r,"stopIndicesWithElidedDims",function(){return m}),a.export(r,"stridesForAxis",function(){return g}),a.export(r,"startForAxis",function(){return v}),a.export(r,"stopForAxis",function(){return _}),a.export(r,"isSliceContinous",function(){return x}),a.export(r,"computeFlatOffset",function(){return y}),a.export(r,"parseSliceParams",function(){return b}),a.export(r,"sliceInfo",function(){return k});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("../util");function i(e,t,r){var n=function(n){s.assert(t[n]+r[n]<=e.shape[n],function(){return"Error in slice".concat(a,"D: begin[").concat(n,"] + size[").concat(n,"] ")+"(".concat(t[n]+r[n],") would overflow input.shape[").concat(n,"] (").concat(e.shape[n],")")})},a=e.shape.length;s.assert(a===t.length,function(){return"Error in slice".concat(a,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(a,").")}),s.assert(a===r.length,function(){return"Error in slice".concat(a,"D: Length of size ").concat(r," must ")+"match the rank of the array (".concat(a,").")});for(var o=0;o<a;++o)n(o)}function c(e){for(var t=[],r=0;e>0;)1&e&&t.push(r),e/=2,r++;return t}function u(e,t,r){for(var n=[],a=0;a<e.length;a++)n[a]=Math.ceil((t[a]-e[a])/r[a]);return n}function l(e,t,r,n){for(var a=(0,o._)(e),s=a.length;s<n.length;s++)a.push(1);for(var i=0;i<r;i++)0===i?a[t]=1:(a.splice(t,0,1),a.pop());return a}function p(e,t,r){return r<=e?r:r-(t-1)}function f(e,t){for(var r=[],n=0;n<e;n++)r.push(t+n);return r}function d(e,t,r,n,a,o,s,i,c){var u=e.length,p=Array(u),f=Array(u),d=Array(u);if(t.length&&r>0){var x=t[0],y=r+1;p=h(s,x,y,n,e),f=m(i,x,y,a,e),d=l(o,x,y,e)}else for(var b=0;b<u;b++)p[b]=v(s,n,o,e,b,c),f[b]=_(i,a,o,e,b,c),d[b]=g(o,b,c);return{begin:p,end:f,strides:d}}function h(e,t,r,n,a){for(var s=(0,o._)(a),i=f(r,t),c=0;c<s.length;c++)if(i.indexOf(c)>-1)s[c]=0;else{var u,l,p,d=(u=t,l=r,(p=c)<=u?p:p-(l-1)),h=n[d];e&1<<d&&(h=0),s[c]=h}return s}function m(e,t,r,n,a){for(var i=(0,o._)(a),c=f(r,t),u=0;u<i.length;u++)if(c.indexOf(u)>-1)i[u]=Number.MAX_SAFE_INTEGER;else{var l,p,d,h=(l=t,p=r,(d=u)<=l?d:d-(p-1)),m=n[h];e&1<<h&&(m=Number.MAX_SAFE_INTEGER),i[u]=m}for(var g=0;g<i.length;g++){var v=a[g];i[g]<0&&(i[g]+=v),i[g]=s.clamp(0,i[g],a[g])}return i}function g(e,t,r){var n=e[t];return(r&1<<t||null==n)&&(n=1),n}function v(e,t,r,n,a,o){var i=t[a],c=r[a]||1;(e&1<<a||o&1<<a||null==i)&&(i=c>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=n[a];return i<0&&(i+=u),i=s.clamp(0,i,u-1)}function _(e,t,r,n,a,o){var i=t[a],c=r[a]||1;(e&1<<a||o&1<<a||null==i)&&(i=c>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=n[a];return i<0&&(i+=u),i=c>0?s.clamp(0,i,u):s.clamp(-1,i,u-1)}function x(e,t,r){for(var n=r.length,a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(var o=n+1;o<r.length;o++)if(t[o]>0||r[o]!==e[o])return!1;return!0}function y(e,t){for(var r=e.length>0?e[e.length-1]:1,n=0;n<e.length-1;n++)r+=e[n]*t[n];return r}function b(e,t,r){var n,a,i=e.shape.length;return(n="number"==typeof t?[t].concat((0,o._)(Array(i-1).fill(0))):t.length<i?t.concat(Array(i-t.length).fill(0)):t.slice()).forEach(function(e){s.assert(-1!==e,function(){return"slice() does not support negative begin indexing."})}),a=(a=null==r?Array(i).fill(-1):"number"==typeof r?[r].concat((0,o._)(Array(i-1).fill(-1))):r.length<i?r.concat(Array(i-r.length).fill(-1)):r).map(function(t,r){return t>=0?t:(s.assert(-1===t,function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(r,".")}),e.shape[r]-n[r])}),[n,a]}function k(e,t,r,n,a,o,s,i,c){if(null==n?(u=Array(t.length)).fill(1):u=n,null!=s&&(s&s-1)!=0)throw Error("Multiple ellipses in slice is not allowed.");for(var u,l=!1,p={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:r.slice(),strides:u.slice(),beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:c},f=0;f<p.dims;f++)l&&(1<<f&i)!=0&&p.numAddAxisAfterEllipsis++,1<<f&s&&(l=!0);!l&&(p.ellipsisMask|=1<<p.dims,p.dims++);var d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1},h=p,m=d;m.beginMask=0,m.endMask=0,m.shrinkAxisMask=0;var g=0;m.beginValid=null!=h.begin,m.endValid=null!=h.end,m.begin=Array(m.dims),m.end=Array(m.dims),m.strides=Array(m.dims),m.finalShapeGatherIndices=[],m.finalShapeGatherIndicesSparse=[],m.inputShapeGatherIndicesSparse=Array(m.dims);for(var v=0;v<h.dims;v++)if(1<<v&h.ellipsisMask)for(var _=Math.min(m.dims-(h.dims-v)+1+h.numAddAxisAfterEllipsis,m.dims);g<_;g++)m.begin[g]=0,m.end[g]=0,m.strides[g]=1,m.beginMask|=1<<g,m.endMask|=1<<g,m.finalShapeGatherIndices.push(g),m.finalShapeGatherIndicesSparse.push(-1),m.inputShapeGatherIndicesSparse[g]=v;else if(1<<v&h.newAxisMask)m.finalShapeGatherIndices.push(-2),m.finalShapeGatherIndicesSparse.push(-1);else{if(g===m.begin.length)throw Error("Index out of range using input dim ".concat(g,"; input ")+"has only ".concat(m.dims," dims, ").concat(m.begin.length,"."));null!=h.begin&&(m.begin[g]=h.begin[v]),null!=h.end&&(m.end[g]=h.end[v]),m.strides[g]=h.strides[v],h.beginMask&1<<v&&(m.beginMask|=1<<g),h.endMask&1<<v&&(m.endMask|=1<<g),h.shrinkAxisMask&1<<v?(m.finalShapeGatherIndices.push(-1),m.finalShapeGatherIndicesSparse.push(-1),m.shrinkAxisMask|=1<<g):(m.finalShapeGatherIndices.push(g),m.finalShapeGatherIndicesSparse.push(v)),m.inputShapeGatherIndicesSparse[g]=v,g++}for(var x=!0,y=!0,b=!0,k=[],w=[],S=0;S<e.length;++S){if(0===d.strides[S])throw Error("strides[".concat(S,"] must be non-zero"));var I=!!(d.shrinkAxisMask&1<<S),T=e[S];if(-1===T){k.push(I?1:-1);continue}var N=[d.beginMask&1<<S,d.endMask&1<<S],C=[d.strides[S]>0?0:-1,d.strides[S]>0?T:T-1];if(I&&d.strides[S]<=0)throw Error("only stride 1 allowed on non-range indexing.");b=b&&1===d.strides[S];var E=!!(d.beginMask&1<<S&&d.endMask&1<<S);if(d.beginValid&&d.endValid){if(I){var F=d.begin[S]<0?T+d.begin[S]:d.begin[S];if(d.begin[S]=F,d.end[S]=d.begin[S]+1,F<0||F>=T)throw Error("slice index ".concat(d.begin[S]," of dimension ").concat(S," out of bounds."))}else d.begin[S]=j(d.begin[S],0,d.strides[S],T,N,C),d.end[S]=j(d.end[S],1,d.strides[S],T,N,C);var A=1===d.strides[S]&&0===d.begin[S]&&d.end[S]===T;x=x&&A,y=y&&(0===S&&1===d.strides[S]||A)}else x=x&&1===d.strides[S]&&E,y=y&&(0===S&&1===d.strides[S]||E);var P=void 0,R=!1;if(d.beginValid&&d.endValid?(P=d.end[S]-d.begin[S],R=!0):I?(P=1,R=!0):E&&T>=0&&(P=d.strides[S]<0?-T:T,R=!0),R){var D=void 0;D=0===P||P<0!=d.strides[S]<0?0:Math.trunc(P/d.strides[S])+ +(P%d.strides[S]!=0),k.push(D)}else k.push(-1)}for(var M=0;M<d.finalShapeGatherIndices.length;++M){var O=d.finalShapeGatherIndices[M];O>=0?w.push(k[O]):-2===O&&w.push(1)}return{finalShapeSparse:w.filter(function(e,t){return -2!==d.finalShapeGatherIndices[t]}),finalShape:w,isIdentity:x,sliceDim0:y,isSimpleSlice:b,begin:d.begin,end:d.end,strides:d.strides}}function j(e,t,r,n,a,o){if(a[t])return r>0?o[t]:o[t+1&1];var s=e<0?n+e:e;return s<o[0]?o[0]:s>o[1]?o[1]:s}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],azC4b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return o});var o="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2mY9q":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OptimizerConstructors",function(){return h});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./adadelta_optimizer"),c=e("./adagrad_optimizer"),u=e("./adam_optimizer"),l=e("./adamax_optimizer"),p=e("./momentum_optimizer"),f=e("./rmsprop_optimizer"),d=e("./sgd_optimizer"),h=function(){"use strict";function e(){(0,o._)(this,e)}return(0,s._)(e,null,[{key:"sgd",value:function(e){return new(0,d.SGDOptimizer)(e)}},{key:"momentum",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new(0,p.MomentumOptimizer)(e,t,r)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new(0,f.RMSPropOptimizer)(e,t,r,n,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new(0,u.AdamOptimizer)(e,t,r,n)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new(0,i.AdadeltaOptimizer)(e,t,r)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new(0,l.AdamaxOptimizer)(e,t,r,n,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new(0,c.AdagradOptimizer)(e,t)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","./adadelta_optimizer":"43bPv","./adagrad_optimizer":"7Lkv7","./adam_optimizer":"cQiav","./adamax_optimizer":"7ZUKi","./momentum_optimizer":"caXp9","./rmsprop_optimizer":"gaa5Y","./sgd_optimizer":"2x938","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5iaz0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"train",function(){return o});var o=e("./optimizers/optimizer_constructors").OptimizerConstructors},{"./optimizers/optimizer_constructors":"2mY9q","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],edisy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nextFrame",function(){return s});var o="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(e){return e()};function s(){return new Promise(function(e){return o(function(){return e()})})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],du23z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"upcastType",function(){return m.upcastType}),a.export(r,"slice_util",function(){return h}),a.export(r,"segment_util",function(){return C}),a.export(r,"fromUint8ToStringArray",function(){return E}),a.export(r,"fromStringArrayToUint8",function(){return F});var o=e("../util"),s=e("../ops/axis_util");a.exportAll(s,r);var i=e("../ops/broadcast_util");a.exportAll(i,r);var c=e("../ops/concat_util");a.exportAll(c,r);var u=e("../ops/conv_util");a.exportAll(u,r);var l=e("../ops/fused_util");a.exportAll(l,r);var p=e("../ops/fused_types");a.exportAll(p,r);var f=e("../ops/ragged_to_dense_util");a.exportAll(f,r);var d=e("../ops/reduce_util");a.exportAll(d,r);var h=e("../ops/slice_util"),m=e("../types"),g=e("../ops/rotate_util");a.exportAll(g,r);var v=e("../ops/array_ops_util");a.exportAll(v,r);var _=e("../ops/gather_nd_util");a.exportAll(_,r);var x=e("../ops/scatter_nd_util");a.exportAll(x,r);var y=e("../ops/selu_util");a.exportAll(y,r),a.exportAll(l,r);var b=e("../ops/erf_util");a.exportAll(b,r);var k=e("../log");a.exportAll(k,r);var j=e("../backends/complex_util");a.exportAll(j,r);var w=e("../backends/einsum_util");a.exportAll(w,r);var S=e("../ops/split_util");a.exportAll(S,r);var I=e("../ops/sparse/sparse_fill_empty_rows_util");a.exportAll(I,r);var T=e("../ops/sparse/sparse_reshape_util");a.exportAll(T,r);var N=e("../ops/sparse/sparse_segment_reduction_util");a.exportAll(N,r);var C=e("../ops/segment_util");function E(e){try{return e.map(function(e){return(0,o.decodeString)(e)})}catch(e){throw Error("Failed to decode encoded string bytes into utf-8, error: ".concat(e))}}function F(e){return e.map(function(e){return(0,o.encodeString)(e)})}},{"../util":"5L87y","../ops/axis_util":"c20Tj","../ops/broadcast_util":"cACWh","../ops/concat_util":"8e4ji","../ops/conv_util":"3Awi4","../ops/fused_util":"cY5En","../ops/fused_types":"l7OSc","../ops/ragged_to_dense_util":"bls1K","../ops/reduce_util":"f8FJw","../ops/slice_util":"cd1PX","../types":"8Anyq","../ops/rotate_util":"9c9td","../ops/array_ops_util":"h0HPz","../ops/gather_nd_util":"6TB35","../ops/scatter_nd_util":"hvrkH","../ops/selu_util":"2qiA9","../ops/erf_util":"mTutB","../log":"hbJPb","../backends/complex_util":"5eoG4","../backends/einsum_util":"aaCdO","../ops/split_util":"izeqS","../ops/sparse/sparse_fill_empty_rows_util":"dTLom","../ops/sparse/sparse_reshape_util":"19I8I","../ops/sparse/sparse_segment_reduction_util":"g6kjA","../ops/segment_util":"boWUy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8e4ji":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertParamsConsistent",function(){return s}),a.export(r,"computeOutShape",function(){return i});var o=e("../util");function s(e,t){var r=e[0].length;e.forEach(function(e,t){o.assert(e.length===r,function(){return"Error in concat".concat(r,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(r,")")})}),o.assert(t>=0&&t<r,function(){return"Error in concat".concat(r,"D: axis must be between 0 and ").concat(r-1,".")});var n=e[0];e.forEach(function(e,a){for(var s=0;s<r;s++)o.assert(s===t||e[s]===n[s],function(){return"Error in concat".concat(r,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(n,") ")+"along the non-concatenated axis ".concat(a,".")})})}function i(e,t){for(var r=e[0].slice(),n=1;n<e.length;n++)r[t]+=e[n][t];return r}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l7OSc:[function(e,t,r,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bls1K:[function(e,t,r,n){var a,o,s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t,r){var n=[];if(null==r&&null==t)return n;if(null==t)for(;n.length<e+r.length;)n.push(-1);else n=t.slice();if(null==r)return n;if(e+r.length!==n.length)throw Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+r.length,", but shape.rank = ").concat(n.length));for(var a=1;a<r.length;++a){var o=r[a],s=n[n.length-r.length+a],i=n[s];if(o>=0)if(i>=0){if(i!==o)throw Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(o," but shape[").concat(a+e,"] = ").concat(i))}else n[s]=o}return n}function c(e){var t={FIRST_DIM_SIZE:o.FIRST_DIM_SIZE,VALUE_ROWIDS:o.VALUE_ROWIDS,ROW_LENGTHS:o.ROW_LENGTHS,ROW_SPLITS:o.ROW_SPLITS,ROW_LIMITS:o.ROW_LIMITS,ROW_STARTS:o.ROW_STARTS},r=[],n=!0,a=!1,s=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;if(u in t)r.push(t[u]);else break}}catch(e){a=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw s}}return r}function u(e){return 0===e.length?0:e[0]===o.FIRST_DIM_SIZE?e.length-1:e.length}function l(e,t){if(null!=e&&null!=t){var r=e.length,n=t.length;if(r>=n)throw Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(r," must be less than ragged tensor input flatValues.rank = ").concat(n,")"));for(var a=0;a<Math.min(r,n-1);++a){var o=e[a],s=t[a+1];if(o>=0&&s>=0&&1!==o&&o!==s)throw Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(o," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(s))}}}s.defineInteropFlag(r),s.export(r,"RowPartitionType",function(){return o}),s.export(r,"combineRaggedTensorToTensorShapes",function(){return i}),s.export(r,"getRowPartitionTypesHelper",function(){return c}),s.export(r,"getRaggedRank",function(){return u}),s.export(r,"validateDefaultValueShape",function(){return l}),(a=o||(o={}))[a.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",a[a.VALUE_ROWIDS=1]="VALUE_ROWIDS",a[a.ROW_LENGTHS=2]="ROW_LENGTHS",a[a.ROW_SPLITS=3]="ROW_SPLITS",a[a.ROW_LIMITS=4]="ROW_LIMITS",a[a.ROW_STARTS=5]="ROW_STARTS"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f8FJw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PARALLELIZE_THRESHOLD",function(){return s}),a.export(r,"computeOptimalWindowSize",function(){return i});var o=e("../util"),s=30;function i(e){return e<=s?e:(0,o.nearestDivisor)(e,Math.floor(Math.sqrt(e)))}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9c9td":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t,r){return[r*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}a.defineInteropFlag(r),a.export(r,"getImageCenter",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h0HPz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getReshaped",function(){return s}),a.export(r,"getPermuted",function(){return i}),a.export(r,"getReshapedPermuted",function(){return c}),a.export(r,"getSliceBeginCoords",function(){return u}),a.export(r,"getSliceSize",function(){return l});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs");function s(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=[];if(n)(a=a.concat(t.slice(0))).push(e[0]/r),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,s=0;s<o;++s)a=a.concat([e[s+1]/t[s],t[s]]);a=a.concat(e.slice(o+1))}return a}function i(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=[];if(r){n.push(t);for(var a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{for(var s=[],i=[],c=1;c<e;++c)c>=2*t+1||c%2==1?i.push(c):s.push(c);n.push.apply(n,(0,o._)(s)),n.push(0),n.push.apply(n,(0,o._)(i))}return n}function c(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=[];n?a.push(e[0]/r):a.push(e[0]*r);for(var o=1;o<e.length;++o)o<=t.length?n?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function u(e,t){for(var r=[0],n=0;n<t;++n)r.push(e[n][0]);return r}function l(e,t,r){for(var n=e.slice(0,1),a=0;a<r;++a)n.push(e[a+1]-t[a][0]-t[a][1]);return n}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2qiA9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SELU_SCALEALPHA",function(){return o}),a.export(r,"SELU_SCALE",function(){return s});var o=1.7580993408473768,s=1.0507009873554805},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],mTutB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ERF_P",function(){return o}),a.export(r,"ERF_A1",function(){return s}),a.export(r,"ERF_A2",function(){return i}),a.export(r,"ERF_A3",function(){return c}),a.export(r,"ERF_A4",function(){return u}),a.export(r,"ERF_A5",function(){return l});var o=.3275911,s=.254829592,i=-.284496736,c=1.421413741,u=-1.453152027,l=1.061405429},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5eoG4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t){if(e.length!==t.length)throw Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var r=new Float32Array(2*e.length),n=0;n<r.length;n+=2)r[n]=e[n/2],r[n+1]=t[n/2];return r}function s(e){for(var t=new Float32Array(e.length/2),r=new Float32Array(e.length/2),n=0;n<e.length;n+=2)t[n/2]=e[n],r[n/2]=e[n+1];return{real:t,imag:r}}function i(e){for(var t=Math.ceil(e.length/4),r=new Float32Array(t),n=new Float32Array(t),a=0;a<e.length;a+=4)r[Math.floor(a/4)]=e[a],n[Math.floor(a/4)]=e[a+1];return{real:r,imag:n}}function c(e){for(var t=Math.floor(e.length/4),r=new Float32Array(t),n=new Float32Array(t),a=2;a<e.length;a+=4)r[Math.floor(a/4)]=e[a],n[Math.floor(a/4)]=e[a+1];return{real:r,imag:n}}function u(e,t){return{real:e[2*t],imag:e[2*t+1]}}function l(e,t,r,n){e[2*n]=t,e[2*n+1]=r}function p(e,t){for(var r=new Float32Array(e/2),n=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var o=(t?2:-2)*Math.PI*(a/e);r[a]=Math.cos(o),n[a]=Math.sin(o)}return{real:r,imag:n}}function f(e,t,r){var n=(r?2:-2)*Math.PI*(e/t);return{real:Math.cos(n),imag:Math.sin(n)}}a.defineInteropFlag(r),a.export(r,"mergeRealAndImagArrays",function(){return o}),a.export(r,"splitRealAndImagArrays",function(){return s}),a.export(r,"complexWithEvenIndex",function(){return i}),a.export(r,"complexWithOddIndex",function(){return c}),a.export(r,"getComplexWithIndex",function(){return u}),a.export(r,"assignToTypedArray",function(){return l}),a.export(r,"exponents",function(){return p}),a.export(r,"exponent",function(){return f})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aaCdO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"decodeEinsumEquation",function(){return c}),a.export(r,"getEinsumPermutation",function(){return u}),a.export(r,"checkEinsumDimSizes",function(){return l}),a.export(r,"getEinsumComputePath",function(){return p}),a.export(r,"isIdentityPermutation",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("../util_base"),i=/->/g;function c(e,t){var r=((e=e.replace(/\s/g,"")).length-e.replace(i,"").length)/2;if(r<1)throw Error("Equations without an arrow are not supported.");if(r>1)throw Error('Equation must contain exactly one arrow ("'.concat("->",'").'));var n=(0,o._)(e.split("->"),2),a=n[0],c=n[1];(0,s.assert)(-1===a.indexOf("..."),function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')});var u=a.split(","),l=u.length;if(t!==l)throw Error("Expected ".concat(l," input tensors, received ").concat(t));if(l>2)throw Error("Support for more than 2 input tensors is not implemented yet.");for(var p=[],f=0;f<c.length;++f)!function(e){var t=c[e];if(!u.some(function(e){return -1!==e.indexOf(t)}))throw Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===p.indexOf(t)&&p.push(t)}(f);for(var d=0;d<a.length;++d){var h=a[d];-1===p.indexOf(h)&&","!==h&&p.push(h)}for(var m=Array(u.length),g=0;g<l;++g){if(new Set(u[g].split("")).size!==u[g].length)throw Error("Found duplicate axes in input component ".concat(u[g],". ")+"Support for duplicate axes in input is not implemented yet.");m[g]=[];for(var v=0;v<u[g].length;++v)m[g].push(p.indexOf(u[g][v]))}for(var _=p.length,x=c.length,y=[],b=x;b<_;++b)y.push(b);return{allDims:p,summedDims:y,idDims:m}}function u(e,t){var r=Array(e);r.fill(-1);for(var n=0;n<t.length;++n)r[t[n]]=n;for(var a=[],o=0;o<e;++o)-1===r[o]&&a.push(o);return{permutationIndices:r=r.filter(function(e){return -1!==e}),expandDims:a}}function l(e,t,r){for(var n=function(e){for(var n=function(r){void 0===a[t[e][r]]?a[t[e][r]]=o[r]:(0,s.assert)(a[t[e][r]]===o[r],function(){return"Expected dimension ".concat(a[t[e][r]]," at axis ").concat(r," ")+"of input shaped ".concat(JSON.stringify(o),", ")+"but got dimension ".concat(o[r])})},o=r[e].shape,i=0;i<t[e].length;++i)n(i)},a=Array(e),o=0;o<r.length;++o)n(o)}function p(e,t){var r=[],n=0;0===e.length&&e.push(-1),n=e.length+1;for(var a=0;a<n;++a)r.push([]);for(var o=[],s=0;s<e.length;++s){var i=function(e,t){for(var r=[],n=0;n<e.length;++n)(0===e[n].length||-1!==e[n].indexOf(t)||-1===t)&&r.push(n);return r}(t,e[s]),c=!0,u=!1,l=void 0;try{for(var p,f=i[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var d=p.value;-1===o.indexOf(d)&&(r[s].push(d),o.push(d))}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return{path:e,steps:r}}function f(e){return e.every(function(e,t){return e===t})}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../util_base":"h6qVW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],izeqS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prepareSplitSize",function(){return s});var o=e("../util");function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];if("number"==typeof t)(0,o.assert)(e.shape[r]%t==0,function(){return"Number of splits must evenly divide the axis."}),n=Array(t).fill(e.shape[r]/t);else{var a=t.reduce(function(e,t){return -1===t&&(e+=1),e},0);(0,o.assert)(a<=1,function(){return"There should be only one negative value in split array."});var s=t.indexOf(-1);if(-1!==s){var i=t.reduce(function(e,t){return t>0?e+t:e});t[s]=e.shape[r]-i}(0,o.assert)(e.shape[r]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=t}return n}},{"../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dTLom:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){return"Received SparseTensor with denseShape[0] = 0 but\n indices.shape[0] = ".concat(e)}function s(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t,"< 0")}function i(e,t,r){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(r)}a.defineInteropFlag(r),a.export(r,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",function(){return o}),a.export(r,"getSparseFillEmptyRowsNegativeIndexErrorMessage",function(){return s}),a.export(r,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"19I8I":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",function(){return s}),a.export(r,"getSparseReshapeNegativeOutputDimErrorMessage",function(){return i}),a.export(r,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",function(){return c}),a.export(r,"getSparseReshapeInputOutputMultipleErrorMessage",function(){return u}),a.export(r,"getSparseReshapeInputOutputMismatchErrorMessage",function(){return l});var o=e("../../util");function s(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function i(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function c(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function u(e,t){var r=(0,o.sizeFromShape)(e),n=(0,o.sizeFromShape)(t);return"Input to reshape is a SparseTensor with ".concat(r,"\n dense values, but the requested shape requires a multiple of ").concat(n,". inputShape=").concat(e," outputShape= ").concat(t)}function l(e,t){var r=(0,o.sizeFromShape)(e),n=(0,o.sizeFromShape)(t);return"Input to reshape is a tensor with ".concat(r," dense values, but the requested shape has ").concat(n,". inputShape=").concat(e," outputShape=").concat(t)}},{"../../util":"5L87y","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],g6kjA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(){return"segment ids must be >= 0"}function s(){return"segment ids are not increasing"}function i(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function c(e,t,r){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(r,")")}a.defineInteropFlag(r),a.export(r,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",function(){return o}),a.export(r,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",function(){return s}),a.export(r,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",function(){return i}),a.export(r,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",function(){return c})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],boWUy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"segOpComputeOptimalWindowSize",function(){return i}),a.export(r,"computeOutShape",function(){return c}),a.export(r,"collectGatherOpShapeInfo",function(){return u});var o=e("../util"),s=e("./reduce_util");function i(e,t){var r,n=!1;for(e<=s.PARALLELIZE_THRESHOLD?(r=e,n=!0):r=(0,o.nearestDivisor)(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=(0,o.nearestDivisor)(e,r+1);return r}function c(e,t,r){for(var n=[],a=e.length,o=0;o<a;o++)o!==t?n.push(e[o]):n.push(r);return n}function u(e,t,r,n){var a=t.shape.length,o=e.shape.length;if(0!==n&&(n<-a||n>a))throw Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(n));if(n<0&&(n+=a),n>o)throw Error("batchDims (".concat(n,") must be less than rank(x) (\n ").concat(o,")."));if(r<n)throw Error("batchDims (".concat(n,") must be less than or equal to axis (").concat(r,")."));for(var s=0;s<n;++s)if(e.shape[s]!==t.shape[s])throw Error("x.shape[".concat(s,"]: ").concat(e.shape[s]," should be equal to indices.shape[").concat(s,"]: ").concat(t.shape[s],"."));for(var i=e.shape[r],c=[],u=1,l=1,p=1,f=0;f<n;++f)c.push(e.shape[f]),u*=e.shape[f];for(var d=n;d<r;d++)c.push(e.shape[d]),l*=e.shape[d];for(var h=n;h<a;h++)c.push(t.shape[h]);for(var m=r+1;m<o;m++)c.push(e.shape[m]),p*=e.shape[m];return{batchSize:u,sliceSize:p,outerSize:l,dimSize:i,outputShape:c}}},{"../util":"5L87y","./reduce_util":"f8FJw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5V8UZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3Impl",function(){return o.nonMaxSuppressionV3Impl}),a.export(r,"nonMaxSuppressionV4Impl",function(){return o.nonMaxSuppressionV4Impl}),a.export(r,"nonMaxSuppressionV5Impl",function(){return o.nonMaxSuppressionV5Impl}),a.export(r,"whereImpl",function(){return s.whereImpl});var o=e("./non_max_suppression_impl"),s=e("./where_impl")},{"./non_max_suppression_impl":"azXlj","./where_impl":"68MFM","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e2c3S:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var o=e("./base");a.exportAll(o,r),e("./register_all_kernels")},{"./base":"aXBcI","./register_all_kernels":"d2WQu","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aXBcI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version_webgl",function(){return i.version}),a.export(r,"webgl",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./backend_webgl"),i=e("./version"),c=e("./webgl");a.exportAll(c,r),o.device_util.isBrowser()&&(0,o.registerBackend)("webgl",function(){return new(0,s.MathBackendWebGL)},2);var u={forceHalfFloat:c.forceHalfFloat}},{"@tensorflow/tfjs-core":"1q0U8","./backend_webgl":"hGhxe","./version":"jICga","./webgl":"6S16t","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hGhxe:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EPSILON_FLOAT32",function(){return P}),a.export(r,"EPSILON_FLOAT16",function(){return R}),a.export(r,"getBinaryCache",function(){return M}),a.export(r,"MathBackendWebGL",function(){return L});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_inherits.cjs"),l=e("@swc/helpers/cjs/_sliced_to_array.cjs"),p=e("@swc/helpers/cjs/_to_consumable_array.cjs"),f=e("@swc/helpers/cjs/_ts_generator.cjs");e("./flags_webgl");var d=e("@tensorflow/tfjs-core"),h=e("./canvas_util"),m=e("./decode_matrix_gpu"),g=e("./decode_matrix_packed_gpu"),v=e("./encode_float_gpu"),_=e("./encode_float_packed_gpu"),x=e("./encode_matrix_gpu"),y=e("./encode_matrix_packed_gpu"),b=e("./gpgpu_context"),k=e("./gpgpu_math"),j=e("./kernel_utils/shared"),w=e("./pack_gpu"),S=e("./reshape_packed_gpu"),I=e("./tex_util"),T=e("./texture_manager"),N=e("./unaryop_gpu"),C=e("./unaryop_packed_gpu"),E=e("./unpack_gpu"),F=e("./webgl_util"),A=d.kernel_impls.whereImpl,P=1e-7,R=1e-4,D={};function M(e){return e in D||(D[e]={}),D[e]}var O=(0,d.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),L=function(e){"use strict";function t(e){if((0,i._)(this,t),(r=(0,s._)(this,t)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,d.env)().getBool("HAS_WEBGL"))throw Error("WebGL is not supported on this device");if(null!=e){if(e instanceof b.GPGPUContext)n=e;else{var r,n,a=(0,h.getWebGLContext)((0,d.env)().getNumber("WEBGL_VERSION"),e);n=new(0,b.GPGPUContext)(a)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var o=(0,h.getWebGLContext)((0,d.env)().getNumber("WEBGL_VERSION"));n=new(0,b.GPGPUContext)(o),r.binaryCache=M((0,d.env)().getNumber("WEBGL_VERSION")),r.gpgpuCreatedLocally=!0}return r.gpgpu=n,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new(0,T.TextureManager)(r.gpgpu),r.numMBBeforeWarning=null==(0,d.env)().global.screen?1024:(0,d.env)().global.screen.height*(0,d.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new(0,d.DataStorage)(r,(0,d.engine)()),r}return(0,u._)(t,e),(0,c._)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"writeTexture",value:function(e,t,r,n,a,o){var s=this.makeTensorInfo(t,r),i=this.texData.get(s.dataId);i.isPacked=!1,i.texture={texture:e,texShape:[n,a]},i.texShape=[n,a];var c=F.getShapeAs3D(t),u=new(0,x.EncodeMatrixProgram)(c,!1,o),l=this.runWebGLProgram(u,[s],r,[[n,a]]);return l.shape=t,i.texture=null,this.disposeIntermediateTensorInfo(s),l.dataId}},{key:"write",value:function(e,t,r){if(((0,d.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,d.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var n={id:this.nextDataId()};return this.texData.set(n,{shape:t,dtype:r,values:e,usage:I.TextureUsage.UPLOAD,refCount:1}),n}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){var t=this.texData.get(e);t.refCount++}},{key:"decRef",value:function(e){if(this.texData.has(e)){var t=this.texData.get(e);t.refCount--}}},{key:"move",value:function(e,t,r,n,a){if((0,d.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n)throw Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:n,values:t,usage:I.TextureUsage.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t,r,n=this.texData.get(e),a=n.values,o=n.dtype,s=n.complexTensorInfos,i=n.slice,c=n.shape,u=n.isPacked;if(null!=i){var l=u?new(0,C.UnaryOpPackedProgram)(c,N.CLONE):new(0,N.UnaryOpProgram)(c,N.CLONE),p=this.runWebGLProgram(l,[{dataId:e,shape:c,dtype:o}],o),f=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),f}if(null!=a)return this.convertAndCacheOnCPU(e);if("string"===o)return a;var h=null!=this.activeTimers;if(h&&(t=d.util.now()),"complex64"===o){var m=this.readSync(s.real.dataId),g=this.readSync(s.imag.dataId);r=d.backend_util.mergeRealAndImagArrays(m,g)}else r=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=d.util.now()-t),this.convertAndCacheOnCPU(e,r)}},{key:"read",value:function(e){var t=this;return(0,o._)(function(){var r,n,a,o,s,i,c,u,l,h,m,g,v,_,x,y,b,k,j,w,S,T,E;return(0,f._)(this,function(f){switch(f.label){case 0:if(t.pendingRead.has(e))return r=t.pendingRead.get(e),[2,new Promise(function(e){return r.push(e)})];if(a=(n=t.texData.get(e)).values,o=n.shape,s=n.slice,i=n.dtype,c=n.complexTensorInfos,u=n.isPacked,null!=s)return l=u?new(0,C.UnaryOpPackedProgram)(o,N.CLONE):new(0,N.UnaryOpProgram)(o,N.CLONE),h=t.runWebGLProgram(l,[{dataId:e,shape:o,dtype:i}],i),m=t.read(h.dataId),t.disposeIntermediateTensorInfo(h),[2,m];if(null!=a)return[2,t.convertAndCacheOnCPU(e)];if((0,d.env)().getBool("DEBUG")&&!(0,d.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,d.env)().getNumber("WEBGL_VERSION"))throw Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");if(g=null,"complex64"!==i&&(0,d.env)().get("WEBGL_BUFFER_SUPPORTED")&&(v=t.decode(e),x=t.texData.get(v.dataId),g=(_=t.gpgpu).createBufferFromTexture.apply(_,[x.texture.texture].concat((0,p._)(I.getDenseTexShape(o))))),t.pendingRead.set(e,[]),"complex64"===i)return[3,2];return[4,t.gpgpu.createAndWaitForFence()];case 1:f.sent(),f.label=2;case 2:if("complex64"!==i)return[3,4];return[4,Promise.all([t.read(c.real.dataId),t.read(c.imag.dataId)])];case 3:return k=(b=f.sent())[0],j=b[1],y=d.backend_util.mergeRealAndImagArrays(k,j),[3,5];case 4:null==g?y=t.getValuesFromTexture(e):(w=d.util.sizeFromShape(o),y=t.gpgpu.downloadFloat32MatrixFromBuffer(g,w)),f.label=5;case 5:return null!=v&&t.disposeIntermediateTensorInfo(v),null!=g&&(S=t.gpgpu.gl,F.callAndCheck(S,function(){return S.deleteBuffer(g)})),T=t.convertAndCacheOnCPU(e,y),E=t.pendingRead.get(e),t.pendingRead.delete(e),E.forEach(function(e){return e(T)}),t.pendingDisposal.has(e)&&(t.pendingDisposal.delete(e),t.disposeData(e)&&(0,d.engine)().removeDataId(e,t),t.pendingDeletes--),[2,T]}})})()}},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.texData.get(e),n=r.values,a=r.shape,o=r.slice,s=r.dtype,i=r.isPacked,c=r.texture;if("complex64"===s)throw Error("Does not support reading texture for complex64 dtype.");if(null!=o){var u=i?new(0,C.UnaryOpPackedProgram)(a,N.CLONE):new(0,N.UnaryOpProgram)(a,N.CLONE),l=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:s}],s),p=this.readToGPU(l,t);return this.disposeIntermediateTensorInfo(l),p}if(null==c)if(null!=n)throw Error("Data is not on GPU but on CPU.");else throw Error("There is no data on GPU or CPU.");var f=this.decode(e,t.customTexShape);return Object.assign({tensorRef:(0,d.engine)().makeTensorFromTensorInfo(f)},this.texData.get(f.dataId).texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var r=t.map(function(e){return d.util.decodeString(e)});return(0,d.buffer)(e.shape,e.dtype,r)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return(0,d.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var r=e[t];if(!F.canBeRepresented(r)){if((0,d.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(r," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(r," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),r=t.shape,n=t.dtype,a=t.isPacked,o=d.util.sizeFromShape(r);if((0,d.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s,i=this.decode(e),c=this.texData.get(i.dataId),u=(s=this.gpgpu).downloadMatrixFromPackedTexture.apply(s,[c.texture.texture].concat((0,p._)(I.getDenseTexShape(r)))).subarray(0,o);return this.disposeIntermediateTensorInfo(i),u}var l=(0,d.env)().getBool("WEBGL_PACK")&&!0===a,f=l?F.getShapeAs3D(r):r,h=l?new(0,_.EncodeFloatPackedProgram)(f):new(0,v.EncodeFloatProgram)(f),m=this.runWebGLProgram(h,[{shape:f,dtype:n,dataId:e}],"float32"),g=this.texData.get(m.dataId),x=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(g.texture.texture,g.texShape[0],g.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(m),x}},{key:"timerAvailable",value:function(){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this.activeTimers,r=[],n=!1;null==this.programTimersStack?(this.programTimersStack=r,n=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=d.util.flatten(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),s=d.util.flatten(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e});this.activeTimers=t,n&&(this.programTimersStack=null);var i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},c=this;return(0,o._)(function(){var e;return(0,f._)(this,function(t){switch(t.label){case 0:if(!((0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0))return[3,2];return[4,Promise.all(a)];case 1:return e=t.sent(),i.kernelMs=d.util.sum(e),i.getExtraProfileInfo=function(){return e.map(function(e,t){return{name:s[t],ms:e}}).map(function(e){return"".concat(e.name,": ").concat(e.ms)}).join(", ")},[3,3];case 2:i.kernelMs={error:"WebGL query timers are not supported in this environment."},t.label=3;case 3:return c.uploadWaitMs=0,c.downloadWaitMs=0,[2,i]}})})()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:d.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.endQuery():e.endMs=d.util.now(),e}},{key:"getQueryTime",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,f._)(this,function(n){return(0,d.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,t.gpgpu.waitForQueryAndGetTime(e)]:[2,(r=e).endMs-r.startMs]})})()}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var r=this.texData.get(e).complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),r=t.texture,n=t.dtype,a=t.texShape,o=t.usage,s=t.isPacked,i=t.slice,c=i&&i.origDataId||e,u=this.dataRefCount.get(c);u>1?this.dataRefCount.set(c,u-1):(this.dataRefCount.delete(c),null!=r&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(r,a,o,s)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return(0,d.env)().getBool("WEBGL_CPU_FORWARD")&&e.every(function(e){return null==t.texData.get(e.dataId).texture&&d.util.sizeFromShape(e.shape)<r})}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){d.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return A(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,r){var n=new(0,C.UnaryOpPackedProgram)(e.shape,t),a=this.compileAndRun(n,[e],r);return(0,d.engine)().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=(0,j.simpleAbsImplCPU)(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,d.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,N.ABS,e.dtype);var r=new(0,N.UnaryOpProgram)(e.shape,N.ABS),n=this.compileAndRun(r,[e]);return(0,d.engine)().makeTensorFromTensorInfo(n)}},{key:"makeTensorInfo",value:function(e,t,r){var n;if("string"===t&&null!=r&&r.length>0&&d.util.isString(r[0])){var a=r.map(function(e){return d.util.encodeString(e)});n=this.write(a,e,t)}else n=this.write(r,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,r){return(0,d.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,r),this)}},{key:"unpackTensor",value:function(e){var t=new(0,E.UnpackProgram)(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new(0,w.PackProgram)(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var r=[F.getBatchDim(e.shape)].concat((0,p._)(F.getRowsCols(e.shape))),n={dtype:e.dtype,shape:r,dataId:e.dataId},a=[F.getBatchDim(t)].concat((0,p._)(F.getRowsCols(t))),o=new(0,S.ReshapePackedProgram)(a,r),s=this.runWebGLProgram(o,[n],e.dtype,[r],!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var r,n=this.texData.get(e),a=n.isPacked,o=n.shape,s=n.dtype;if(null!=t){var i=d.util.sizeFromShape(o),c=t[0]*t[1]*4;d.util.assert(i<=c,function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."})}var u=F.getShapeAs3D(o);r=a?new(0,g.DecodeMatrixPackedProgram)(u):new(0,m.DecodeMatrixProgram)(u);var l=[null!=t?t:I.getDenseTexShape(u)],p=this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:e}],s,l,!0,t);return{dtype:s,shape:o,dataId:p.dataId}}},{key:"runWebGLProgram",value:function(e,t,r,n){var a,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,c=this.makeTensorInfo(e.outputShape,r),u=this.texData.get(c.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===I.PackingScheme.DENSE&&(u.texShape=(null!=i?i:I.getDenseTexShape(e.outputShape)).map(function(e){return 2*e})),null!=e.outTexUsage&&(u.usage=e.outTexUsage),0===d.util.sizeFromShape(c.shape))return u.values=d.util.getTypedArrayFromDType(c.dtype,0),c;var l=[],p=t.map(function(t){if("complex64"===t.dtype)throw Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var r=o.texData.get(t.dataId);if(null==r.texture){if(!e.packedInputs&&d.util.sizeFromShape(t.shape)<=(0,d.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:r.values};e.packedInputs&&(r.isPacked=!0,r.shape=t.shape)}if(o.uploadToGPU(t.dataId),!!r.isPacked!=!!e.packedInputs)t=r.isPacked?o.unpackTensor(t):o.packTensor(t),l.push(t),r=o.texData.get(t.dataId);else if(r.isPacked&&!F.isReshapeFree(r.shape,t.shape)){var n=t,a=t.shape;t.shape=r.shape,t=o.packedReshape(t,a),l.push(t),r=o.texData.get(t.dataId),n.shape=a}return{shape:t.shape,texData:r,isUniform:!1}});this.uploadToGPU(c.dataId);var f={shape:c.shape,texData:u,isUniform:!1},h=k.makeShaderKey(e,p,f),m=this.getAndSaveBinary(h,function(){return k.compileProgram(o.gpgpu,e,p,f)}),g=null!=this.activeTimers;g&&(a=this.startTimer()),(0,d.env)().get("ENGINE_COMPILE_ONLY")||k.runProgram(this.gpgpu,m,p,f,n),l.forEach(function(e){return o.disposeIntermediateTensorInfo(e)}),g&&(a=this.endTimer(a),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(a)}));var v=(0,d.env)().getNumber("WEBGL_FLUSH_THRESHOLD");if(v>0){var _=d.util.now();_-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=_)}if(!(0,d.env)().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===s){var x=this.unpackTensor(c);return this.disposeIntermediateTensorInfo(c),x}return c}},{key:"compileAndRun",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r=r||t[0].dtype,this.runWebGLProgram(e,t,r,n,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;this.disposed||((0,d.env)().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,d.tidy)(function(){if(!(0,d.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,d.env)().getBool("DEBUG");(0,d.env)().set("DEBUG",!1);var r=e.abs((0,d.scalar)(1e-8)).dataSync()[0];if((0,d.env)().set("DEBUG",t),r>0)return 32}return 16})),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?P:R}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),r=t.shape,n=t.dtype,a=t.values,o=t.texture,s=t.usage,i=t.isPacked;if(null==o){var c=null!=this.activeTimers;c&&(p=d.util.now());var u=t.texShape;if(null==u&&(t.texShape=u=F.getTextureShapeFromLogicalShape(r,i)),null!=a){var p,f,h,m=F.getShapeAs3D(r),g=u[1],v=u[0],_=a instanceof Uint8Array||a instanceof Uint8ClampedArray;(i||!_)&&(g=(h=(0,l._)(I.getPackedMatrixTextureShapeWidthHeight(u[0],u[1]),2))[0],v=h[1]),f=i?new(0,y.EncodeMatrixPackedProgram)(m,_):new(0,x.EncodeMatrixProgram)(m,_);var b=_?[v,g]:u,k=this.makeTensorInfo(b,n),j=this.texData.get(k.dataId);_?j.usage=I.TextureUsage.PIXELS:j.usage=I.TextureUsage.UPLOAD,j.texShape=b,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(k.dataId),g,v,a);var w=[[v,g]],S=this.runWebGLProgram(f,[k],n,w,!0),T=this.texData.get(S.dataId);t.texShape=T.texShape,t.isPacked=T.isPacked,t.usage=T.usage,(0,d.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(t.texture=T.texture,t.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(k),c&&(this.uploadWaitMs+=d.util.now()-p)}else t.texture=this.acquireTexture(u,s,n,i)}}},{key:"convertAndCacheOnCPU",value:function(e,t){var r=this.texData.get(e),n=r.dtype;return null!=t&&(r.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var r="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),n=0;n<r.length;++n)r[n]=Math.round(e[n]);return r}throw Error("Unknown dtype ".concat(t))}(t,n)),r.values}},{key:"acquireTexture",value:function(e,t,r,n){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1048576*this.numMBBeforeWarning){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,n)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*d.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=Object.entries(this.binaryCache)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=(0,l._)(n.value,2)[1];this.checkCompletion_(o)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"checkCompileCompletionAsync",value:function(){var e=this;return(0,o._)(function(){var t,r,n,a,o,s,i,c,u,p,d,h,m;return(0,f._)(this,function(f){if(t=[],e.gpgpu.parallelCompilationExtension){r=!0,n=!1,a=void 0;try{for(o=Object.entries(e.binaryCache)[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)i=(0,l._)(s.value,2)[1],t.push(e.checkCompletionAsync_(i))}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return[2,Promise.all(t)]}c=!0,u=!1,p=void 0;try{for(d=function(){var r=(0,l._)(m.value,2)[1],n=new Promise(function(t){try{e.checkCompletion_(r),t(!0)}catch(e){throw e}});t.push(n)},h=Object.entries(e.binaryCache)[Symbol.iterator]();!(c=(m=h.next()).done);c=!0)d()}catch(e){u=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw p}}return[2,Promise.all(t)]})})()}},{key:"checkCompletionAsync_",value:function(e){var t=this;return(0,o._)(function(){return(0,f._)(this,function(r){switch(r.label){case 0:if(!t.gpgpu.gl.getProgramParameter(e.webGLProgram,t.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR))return[3,1];return[2,t.checkCompletion_(e)];case 1:return[4,(0,d.nextFrame)()];case 2:return r.sent(),[2,t.checkCompletionAsync_(e)];case 3:return[2]}})})()}},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw F.logShaderSourceAndInfoLog(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),Error("Failed to compile fragment shader.");throw Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=Object.values(this.binaryCache)[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value;this.gpgpu.buildVao(o.webGLProgram);var s=(0,k.getUniformLocations)(this.gpgpu,o.program,o.webGLProgram),i=s.variablesLocations,c=s.customUniformLocations,u=s.infLoc,l=s.nanLoc,p=s.outShapeLocation,f=s.outShapeStridesLocation,d=s.outTexShapeLocation;o.variablesLocations=i,o.customUniformLocations=c,o.infLoc=u,o.nanLoc=l,o.outShapeLocation=p,o.outShapeStridesLocation=f,o.outTexShapeLocation=d}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}},{key:"createTensorFromGPUData",value:function(e,t,r){e.channels=e.channels||"RGBA";var n=e.texture,a=e.height,o=e.width,s=e.channels,i=(0,d.engine)().backend;if(!i.gpgpu.gl.isTexture(n))throw Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");var c=i.writeTexture(n,t,r,a,o,s);return(0,d.engine)().makeTensorFromDataId(c,t,r,i)}}]),t}(d.KernelBackend);L.nextDataId=0},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","./flags_webgl":"7VGwu","@tensorflow/tfjs-core":"1q0U8","./canvas_util":"jqci3","./decode_matrix_gpu":"6B55Z","./decode_matrix_packed_gpu":"L8wfE","./encode_float_gpu":"iFKNv","./encode_float_packed_gpu":"bLZ80","./encode_matrix_gpu":"bdGgQ","./encode_matrix_packed_gpu":"kkKPE","./gpgpu_context":"dkpjQ","./gpgpu_math":"crqTl","./kernel_utils/shared":"5N8x3","./pack_gpu":"jOzcV","./reshape_packed_gpu":"kzvqz","./tex_util":"jagEL","./texture_manager":"a3s72","./unaryop_gpu":"hFgLO","./unaryop_packed_gpu":"cy6tx","./unpack_gpu":"ejgtW","./webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7VGwu":[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),o=e("./webgl_util"),s=(0,a.env)();s.registerFlag("HAS_WEBGL",function(){return s.getNumber("WEBGL_VERSION")>0}),s.registerFlag("WEBGL_VERSION",function(){return(0,o.isWebGLVersionEnabled)(2)?2:+!!(0,o.isWebGLVersionEnabled)(1)}),s.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",function(){return!1}),s.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===s.get("WEBGL_VERSION")}),s.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),s.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),s.registerFlag("WEBGL_PACK",function(){return s.getBool("HAS_WEBGL")}),s.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_CLIP",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_REDUCE",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_LAZILY_UNPACK",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_CONV_IM2COL",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",function(){return s.getBool("WEBGL_PACK")}),s.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return(0,o.getWebGLMaxTextureSize)(s.getNumber("WEBGL_VERSION"))}),s.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return(0,o.getMaxTexturesInShader)(s.getNumber("WEBGL_VERSION"))}),s.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=s.getNumber("WEBGL_VERSION");return 0===e?0:(0,o.getWebGLDisjointQueryTimerVersion)(e)}),s.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return s.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!a.device_util.isMobile()}),s.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return(0,o.isCapableOfRenderingToFloatTexture)(s.getNumber("WEBGL_VERSION"))}),s.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!s.getBool("WEBGL_FORCE_F16_TEXTURES")&&s.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),s.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return(0,o.isDownloadFloatTextureEnabled)(s.getNumber("WEBGL_VERSION"))}),s.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return(0,o.isWebGLFenceEnabled)(s.getNumber("WEBGL_VERSION"))}),s.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return 4*!!s.getBool("WEBGL_RENDER_FLOAT32_ENABLED")}),s.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",function(){return -1},function(e){if("number"!=typeof e)throw Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))}),s.registerFlag("WEBGL_FLUSH_THRESHOLD",function(){return a.device_util.isMobile()?1:-1},function(e){if("number"!=typeof e)throw Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))}),s.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",function(){return 128}),s.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",function(){return!1}),s.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",function(){return 1e5}),s.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",function(){return 128}),s.registerFlag("WEBGL_EXP_CONV",function(){return!1}),s.registerFlag("SOFTWARE_WEBGL_ENABLED",function(){return s.getBool("IS_TEST")}),s.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",function(){return 1/0}),s.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",function(){return!1}),s.registerFlag("WEBGL2_ISNAN_CUSTOM",function(){return!1}),s.registerFlag("ENGINE_COMPILE_ONLY",function(){return!1})},{"@tensorflow/tfjs-core":"1q0U8","./webgl_util":"foNeO"}],foNeO:[function(e,t,r,n){var a,o,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"callAndCheck",function(){return f}),s.export(r,"canBeRepresented",function(){return d}),s.export(r,"getWebGLErrorMessage",function(){return h}),s.export(r,"getExtensionOrThrow",function(){return m}),s.export(r,"createVertexShader",function(){return g}),s.export(r,"createFragmentShader",function(){return v}),s.export(r,"logShaderSourceAndInfoLog",function(){return x}),s.export(r,"createProgram",function(){return y}),s.export(r,"linkProgram",function(){return b}),s.export(r,"validateProgram",function(){return k}),s.export(r,"createStaticVertexBuffer",function(){return j}),s.export(r,"createStaticIndexBuffer",function(){return w}),s.export(r,"getNumChannels",function(){return S}),s.export(r,"createTexture",function(){return I}),s.export(r,"validateTextureSize",function(){return T}),s.export(r,"createFramebuffer",function(){return N}),s.export(r,"bindVertexBufferToProgramAttribute",function(){return C}),s.export(r,"bindTextureUnit",function(){return E}),s.export(r,"unbindTextureUnit",function(){return F}),s.export(r,"getProgramUniformLocationOrThrow",function(){return A}),s.export(r,"getProgramUniformLocation",function(){return P}),s.export(r,"bindTextureToProgramUniformSampler",function(){return R}),s.export(r,"bindCanvasToFramebuffer",function(){return D}),s.export(r,"bindColorTextureToFramebuffer",function(){return M}),s.export(r,"unbindColorTextureFromFramebuffer",function(){return O}),s.export(r,"validateFramebuffer",function(){return L}),s.export(r,"getFramebufferErrorMessage",function(){return V}),s.export(r,"getBatchDim",function(){return z}),s.export(r,"getRowsCols",function(){return G}),s.export(r,"getShapeAs3D",function(){return W}),s.export(r,"getTextureShapeFromLogicalShape",function(){return q}),s.export(r,"isReshapeFree",function(){return H}),s.export(r,"getWebGLMaxTextureSize",function(){return Z}),s.export(r,"resetMaxTextureSize",function(){return K}),s.export(r,"resetMaxTexturesInShader",function(){return X}),s.export(r,"getMaxTexturesInShader",function(){return Y}),s.export(r,"getWebGLDisjointQueryTimerVersion",function(){return J}),s.export(r,"hasExtension",function(){return Q}),s.export(r,"isWebGLVersionEnabled",function(){return $}),s.export(r,"isCapableOfRenderingToFloatTexture",function(){return ee}),s.export(r,"isDownloadFloatTextureEnabled",function(){return et}),s.export(r,"isWebGLFenceEnabled",function(){return en}),s.export(r,"assertNotComplex",function(){return ea});var i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@tensorflow/tfjs-core"),l=e("./canvas_util"),p=e("./tex_util");function f(e,t){var r=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw Error("WebGL Error: "+h(e,t))}(e),r}function d(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||596e-10<Math.abs(e)&&65504>Math.abs(e))}function h(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function m(e,t){return U(e,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function g(e,t){var r=U(e,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(f(e,function(){return e.shaderSource(r,t)}),f(e,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),Error("Failed to compile vertex shader.");return r}function v(e,t){var r=U(e,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(f(e,function(){return e.shaderSource(r,t)}),f(e,function(){return e.compileShader(r)}),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return r;if(!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw x(t,e.getShaderInfoLog(r)),Error("Failed to compile fragment shader.");return r}var _=/ERROR: [0-9]+:([0-9]+):/g;function x(e,t){var r=_.exec(t);if(null==r){console.log("Couldn't parse line number in error: ".concat(t)),console.log(e);return}for(var n=+r[1],a=e.split("\n"),o=a.length.toString().length+2,s=a.map(function(e,t){return u.util.rightPad((t+1).toString(),o)+e}),i=0,c=0;c<s.length;c++)i=Math.max(s[c].length,i);var l=s.slice(0,n-1),p=s.slice(n-1,n),f=s.slice(n);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.util.rightPad(p[0],i)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function y(e){return U(e,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function b(e,t){if(f(e,function(){return e.linkProgram(t)}),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Failed to link vertex and fragment shaders.")}function k(e,t){if(f(e,function(){return e.validateProgram(t)}),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Shader program validation failed.")}function j(e,t){var r=U(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return f(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),f(e,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function w(e,t){var r=U(e,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return f(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),f(e,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),r}function S(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function I(e){return U(e,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function T(e,t){var r=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw Error("Requested texture size "+"[".concat(e,"x").concat(t,"]")+" is invalid.");if(e>r||t>r)throw Error("Requested texture size "+"[".concat(e,"x").concat(t,"]")+" greater than WebGL maximum on this browser / GPU "+"[".concat(r,"x").concat(r,"]")+".")}function N(e){return U(e,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function C(e,t,r,n,a,o,s){var i=e.getAttribLocation(t,r);return -1!==i&&(f(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),f(e,function(){return e.vertexAttribPointer(i,a,e.FLOAT,!1,o,s)}),f(e,function(){return e.enableVertexAttribArray(i)}),!0)}function E(e,t,r){B(e,r),f(e,function(){return e.activeTexture(e.TEXTURE0+r)}),f(e,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function F(e,t){B(e,t),f(e,function(){return e.activeTexture(e.TEXTURE0+t)}),f(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function A(e,t,r){return U(e,function(){return e.getUniformLocation(t,r)},'uniform "'+r+'" not present in program.')}function P(e,t,r){return e.getUniformLocation(t,r)}function R(e,t,r,n){f(e,function(){return E(e,t,n)}),f(e,function(){return e.uniform1i(r,n)})}function D(e){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),f(e,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),f(e,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})}function M(e,t,r){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),f(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function O(e,t){f(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),f(e,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function L(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw Error("Error binding framebuffer: "+V(e,t))}function V(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function U(e,t,r){var n=f(e,function(){return t()});if(null==n)throw Error(r);return n}function B(e,t){var r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>r)throw Error("textureUnit must be in ".concat("[gl.TEXTURE0, gl.TEXTURE".concat(r,"]"),"."))}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function G(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function W(e){var t=[1,1,1];return 0!==e.length&&(1!==e.length||1!==e[0])&&(t=[z(e)].concat((0,c._)(G(e)))),t}function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),n=(0,u.env)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");n===1/0&&(0,u.env)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(n=r/2),t&&(r*=2,n*=2,1===(e=e.map(function(t,r){return r>=e.length-2?u.util.nearestLargerEven(e[r]):e[r]})).length&&(e=[2,e[0]])),2!==e.length&&(e=u.util.squeezeShape(e).newShape);var a=u.util.sizeFromShape(e),o=null;e.length<=1&&a<=r?o=[1,a]:2===e.length&&e[0]<=r&&e[1]<=r?o=e:3===e.length&&e[0]*e[1]<=r&&e[2]<=r?o=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=r&&e[1]*e[2]<=r?o=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r?o=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r&&(o=[e[0],e[1]*e[2]*e[3]]);var s=null!=o&&(l=Math).max.apply(l,(0,c._)(o))>n&&(p=Math).min.apply(p,(0,c._)(o))<=(t?2:1)&&(f=Math).min.apply(f,(0,c._)(o))>0;if(null==o||s)if(t){var l,p,f,d,h=z(e),m=2,g=2;e.length&&(m=(d=(0,i._)(G(e),2))[0],g=d[1]),a=m/2*h*(g/2),o=u.util.sizeToSquarishShape(a).map(function(e){return 2*e})}else o=u.util.sizeToSquarishShape(a);return o}function H(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t)||!e.length||!t.length||0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var r=e[e.length-1],n=t[t.length-1];if(r===n||r%2==0&&n%2==0&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&e[0]%2==0&&t[0]%2==0}function Z(e){if(null==a){var t=(0,l.getWebGLContext)(e);a=t.getParameter(t.MAX_TEXTURE_SIZE)}return a}function K(){a=null}function X(){o=null}function Y(e){if(null==o){var t=(0,l.getWebGLContext)(e);o=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,o)}function J(e){if(0===e)return 0;var t,r=(0,l.getWebGLContext)(e);return Q(r,"EXT_disjoint_timer_query_webgl2")&&2===e?2:+!!Q(r,"EXT_disjoint_timer_query")}function Q(e,t){return null!=e.getExtension(t)}function $(e){try{var t=(0,l.getWebGLContext)(e);if(null!=t)return!0}catch(e){console.log("Error when getting WebGL context: ",e)}return!1}function ee(e){if(0===e)return!1;var t=(0,l.getWebGLContext)(e);if(1===e){if(!Q(t,"OES_texture_float"))return!1}else if(!Q(t,"EXT_color_buffer_float"))return!1;return er(t)}function et(e){if(0===e)return!1;var t=(0,l.getWebGLContext)(e);if(1===e){if(!Q(t,"OES_texture_float")||!Q(t,"WEBGL_color_buffer_float"))return!1}else{if(Q(t,"EXT_color_buffer_float"))return er(t);var r="EXT_color_buffer_half_float";if(Q(t,r)){var n,a,o,s,i,c,u=t.getExtension(r);return n=t,a=u,o=(0,p.getTextureConfig)(n,a),s=n.createTexture(),n.bindTexture(n.TEXTURE_2D,s),n.texImage2D(n.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null),i=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,i),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,s,0),c=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE,n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(s),n.deleteFramebuffer(i),c}return!1}return er(t)}function er(e){var t=(0,p.getTextureConfig)(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),a}function en(e){return 2===e&&null!=(0,l.getWebGLContext)(e).fenceSync}function ea(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&u.util.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."})})}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./canvas_util":"jqci3","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jqci3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clearWebGLContext",function(){return c}),a.export(r,"setWebGLContext",function(){return u}),a.export(r,"getWebGLContext",function(){return function e(t,r){if(!(t in s)||null!=r){var n=function(e,t){if(1!==e&&2!==e)throw Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=null==t?function(e){if(!(0,o.env)().getBool("IS_SAFARI")&&"undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw Error("Cannot create a canvas in this context")}(e):t;return(r.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete s[e]},!1),(0,o.env)().getBool("SOFTWARE_WEBGL_ENABLED")&&(i.failIfMajorPerformanceCaveat=!1),1===e)?r.getContext("webgl",i)||r.getContext("experimental-webgl",i):r.getContext("webgl2",i)}(t,r);if(null===n)return console.log("Could not get context for WebGL version",t),null;s[t]=n}var a=s[t];return null==a||a.isContextLost()?(delete s[t],e(t)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),s[t])}});var o=e("@tensorflow/tfjs-core"),s={},i={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function c(e){delete s[e]}function u(e,t){s[e]=t}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jagEL:[function(e,t,r,n){var a,o,s,i,c,u,l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(r),l.export(r,"PackingScheme",function(){return i}),l.export(r,"TextureUsage",function(){return c}),l.export(r,"PhysicalTextureType",function(){return u}),l.export(r,"getUnpackedMatrixTextureShapeWidthHeight",function(){return d}),l.export(r,"getUnpackedArraySizeFromMatrixSize",function(){return h}),l.export(r,"getColorMatrixTextureShapeWidthHeight",function(){return m}),l.export(r,"getDenseTexShape",function(){return g}),l.export(r,"getMatrixSizeFromUnpackedArraySize",function(){return v}),l.export(r,"decodeMatrixFromUnpackedColorRGBAArray",function(){return _}),l.export(r,"getPackedMatrixTextureShapeWidthHeight",function(){return x}),l.export(r,"getPackedRGBAArraySizeFromMatrixShape",function(){return y}),l.export(r,"getTextureConfig",function(){return b});var p=e("@swc/helpers/cjs/_sliced_to_array.cjs"),f=e("@tensorflow/tfjs-core");function d(e,t){return[t,e]}function h(e,t){return e*t}function m(e,t){return[4*t,e]}function g(e){var t=Math.ceil(f.util.sizeFromShape(e)/4);return f.util.sizeToSquarishShape(t)}function v(e,t){if(e%t!=0)throw Error("unpackedSize (".concat(e,") must be a multiple of ")+"".concat(t));return e/t}function _(e,t,r){var n=e.length*r/4;if(t.length<n)throw Error("matrix length (".concat(t.length,") must be >= ").concat(n));for(var a=0,o=0;o<e.length;o+=4)for(var s=0;s<r;s++)t[a++]=e[o+s]}function x(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function y(e,t){var r=(0,p._)(x(e,t),2);return r[0]*r[1]*4}function b(e,t){var r,n,a,o,s,i,c,u,l,p;return 2===(0,f.env)().getNumber("WEBGL_VERSION")?(r=e.R32F,n=e.R16F,a=e.RGBA16F,o=e.RGBA32F,s=e.RED,c=4,u=1,l=e.HALF_FLOAT,p=e.FLOAT,i=e.RGBA8):(r=e.RGBA,n=e.RGBA,a=e.RGBA,o=e.RGBA,s=e.RGBA,c=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,i=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:i,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:p}}(a=i||(i={}))[a.DENSE=0]="DENSE",a[a.SHARED_BATCH=1]="SHARED_BATCH",(o=c||(c={}))[o.RENDER=0]="RENDER",o[o.UPLOAD=1]="UPLOAD",o[o.PIXELS=2]="PIXELS",o[o.DOWNLOAD=3]="DOWNLOAD",(s=u||(u={}))[s.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",s[s.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",s[s.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",s[s.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",s[s.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6B55Z":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DecodeMatrixProgram",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=e("./tex_util"),l=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=u.PackingScheme.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=(0,s.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n ivec3 outCoordsFromFlatIndex(int index) {\n ".concat(this.enableShapeUniforms?c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],t):c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],t),"\n return ivec3(r, c, d);\n }\n\n void main() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n vec4 result = vec4(0.);\n\n for (int i=0; i<4; i++) {\n int flatIndex = index + i;\n ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n result[i] = getA(rc.x, rc.y, rc.z);\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./gpgpu_math":"crqTl","./shader_compiler_util":"j7Ycy","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],qEJnc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getGlslDifferences",function(){return s});var o=e("@tensorflow/tfjs-core");function s(){var e,t,r,n,a,s,i,c,u,l;return 2===(0,o.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",r="out",n="in",a="texture",s="outputColor",i="out vec4 outputColor;",c=(0,o.env)().getBool("WEBGL2_ISNAN_CUSTOM")?"\n bool isnan_custom(float val) {\n uint floatToUint = floatBitsToUint(val);\n return (floatToUint & 0x7fffffffu) >0x7f800000u;\n }\n\n bvec4 isnan_custom(vec4 val) {\n return bvec4(isnan_custom(val.x),\n isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n }\n\n #define isnan(value) isnan_custom(value)\n ":"",u="",l="\n #define round(value) newRound(value)\n int newRound(float value) {\n return int(floor(value + 0.5));\n }\n\n ivec4 newRound(vec4 value) {\n return ivec4(floor(value + vec4(0.5)));\n }\n "):(e="",t="attribute",r="varying",n="varying",a="texture2D",s="gl_FragColor",i="",c="\n #define isnan(value) isnan_custom(value)\n bool isnan_custom(float val) {\n return (val > 0. || val< 1. || val == 0.) ? false : true;\n }\n bvec4 isnan_custom(vec4 val) {\n return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n }\n ",u="\n uniform float INFINITY;\n\n bool isinf(float val) {\n return abs(val) == INFINITY;\n }\n bvec4 isinf(vec4 val) {\n return equal(abs(val), vec4(INFINITY));\n }\n ",l="\n int round(float value) {\n return int(floor(value + 0.5));\n }\n\n ivec4 round(vec4 value) {\n return ivec4(floor(value + vec4(0.5)));\n }\n "),{version:e,attribute:t,varyingVs:r,varyingFs:n,texture2D:a,output:s,defineOutput:i,defineSpecialNaN:c,defineSpecialInf:u,defineRound:l}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],crqTl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"compileProgram",function(){return c}),a.export(r,"getUniformLocations",function(){return u}),a.export(r,"runProgram",function(){return p}),a.export(r,"makeShaderKey",function(){return f}),a.export(r,"useShapeUniforms",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("./shader_compiler"),i=e("./webgl_util");function c(e,t,r,n){var a=r.map(function(e,r){var n={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(n.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[r],shapeInfo:n}}),c=a.map(function(e){return e.shapeInfo}),l={logicalShape:n.shape,texShape:n.texData.texShape,isUniform:!1,isPacked:n.texData.isPacked,flatOffset:null},p=s.makeShader(a,l,t),f=(0,i.createFragmentShader)(e.gl,p),d=e.createProgram(f);return(0,o.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:f,source:p,webGLProgram:d,inShapeInfos:c,outShapeInfo:l,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(d),Object.assign({program:t,fragmentShader:f,source:p,webGLProgram:d,inShapeInfos:c,outShapeInfo:l},u(e,t,d)))}function u(e,t,r){var n=[],a=[],s=null,i=null;i=e.getUniformLocation(r,"NAN",!1),1===(0,o.env)().getNumber("WEBGL_VERSION")&&(s=e.getUniformLocation(r,"INFINITY",!1));var c=!0,u=!1,l=void 0;try{for(var p,f,d,h,m=t.variableNames[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var g=h.value,v={name:g,uniform:e.getUniformLocation(r,g,!1),offset:e.getUniformLocation(r,"offset".concat(g),!1)};t.enableShapeUniforms&&(v.shape=e.getUniformLocation(r,"".concat(g,"Shape"),!1),v.texShape=e.getUniformLocation(r,"".concat(g,"TexShape"),!1)),n.push(v)}}catch(e){u=!0,l=e}finally{try{c||null==m.return||m.return()}finally{if(u)throw l}}t.enableShapeUniforms&&(p=e.getUniformLocation(r,"outShape",!1),d=e.getUniformLocation(r,"outShapeStrides",!1),f=e.getUniformLocation(r,"outTexShape",!1));var _=!0,x=!1,y=void 0;if(t.customUniforms)try{for(var b,k=t.customUniforms[Symbol.iterator]();!(_=(b=k.next()).done);_=!0){var j=b.value;a.push(e.getUniformLocation(r,j.name,!1))}}catch(e){x=!0,y=e}finally{try{_||null==k.return||k.return()}finally{if(x)throw y}}return{variablesLocations:n,customUniformLocations:a,infLoc:s,nanLoc:i,outShapeLocation:p,outShapeStridesLocation:d,outTexShapeLocation:f}}function l(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(function(e,r){var n=e.logicalShape,a=t[r],s=a.shape;if(!o.util.arraysEqual(n,s))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(n," and ").concat(s," must match"));if(!e.isUniform||!a.isUniform){var i=e.texShape,c=a.isUniform?null:a.texData.texShape;if(!o.util.arraysEqual(i,c))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(c," must match"))}})}function p(e,t,r,n,a){t.program.enableShapeUniforms||(l(t.inShapeInfos,r),l([t.outShapeInfo],[n]));var i=n.texData.texture,c=n.texData.texShape;n.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,c[0],c[1]):e.setOutputMatrixTexture(i.texture,c[0],c[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===(0,o.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(var u=0;u<r.length;++u){var p=r[u],f=t.variablesLocations[u],d=f.uniform,h=f.offset,m=f.shape,g=f.texShape;if(m){var v=s.getUniformInfoFromShape(t.program.packedInputs,p.shape,p.texData.texShape).uniformShape;switch(v.length){case 1:e.gl.uniform1iv(m,new Int32Array(v));break;case 2:e.gl.uniform2iv(m,new Int32Array(v));break;case 3:e.gl.uniform3iv(m,new Int32Array(v));break;case 4:e.gl.uniform4iv(m,new Int32Array(v))}}if(g&&e.gl.uniform2i(g,p.texData.texShape[0],p.texData.texShape[1]),null!=d){if(p.isUniform){if(2>o.util.sizeFromShape(p.shape))e.gl.uniform1f(d,p.uniformValues[0]);else{var _=p.uniformValues;_ instanceof Float32Array||(_=new Float32Array(_)),e.gl.uniform1fv(d,_)}continue}null!=p.texData.slice&&null!=h&&e.gl.uniform1i(h,p.texData.slice.flatOffset),e.setInputMatrixTexture(p.texData.texture.texture,d,u)}}var x=t.outShapeLocation;if(x)switch(n.shape.length){case 1:e.gl.uniform1iv(x,new Int32Array(n.shape));break;case 2:e.gl.uniform2iv(x,new Int32Array(n.shape));break;case 3:e.gl.uniform3iv(x,new Int32Array(n.shape));break;case 4:e.gl.uniform4iv(x,new Int32Array(n.shape))}if(t.outShapeStridesLocation){var y=o.util.computeStrides(n.shape);switch(n.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(y));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(y));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(y))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,n.texData.texShape[0],n.texData.texShape[1]),t.program.customUniforms&&a)for(var b=0;b<t.program.customUniforms.length;++b){var k=t.program.customUniforms[b],j=t.customUniformLocations[b],w=a[b];if("float"===k.type)e.gl.uniform1fv(j,w);else if("vec2"===k.type)e.gl.uniform2fv(j,w);else if("vec3"===k.type)e.gl.uniform3fv(j,w);else if("vec4"===k.type)e.gl.uniform4fv(j,w);else if("int"===k.type)e.gl.uniform1iv(j,w);else if("ivec2"===k.type)e.gl.uniform2iv(j,w);else if("ivec3"===k.type)e.gl.uniform3iv(j,w);else if("ivec4"===k.type)e.gl.uniform4iv(j,w);else throw Error("uniform type ".concat(k.type," is not supported yet."))}e.executeProgram()}function f(e,t,r){var n="";t.concat(r).forEach(function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,c=s.getUniformInfoFromShape(e.packedInputs,t.shape,i),u=c.useSqueezeShape,l=c.uniformShape,p=c.keptDims,f="",d="",h="";if(1===l.length&&e.packedInputs){var m=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];f="".concat(m[0]>1,"_").concat(m[1]>1)}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){var g=o.util.computeStrides(l);h="".concat(g[0]===i[1],"_").concat(g[g.length-1]===i[1])}}else d="".concat(l[0]>1,"_").concat(l[1]>1);var v=t.shape.length,_=2===l.length&&o.util.arraysEqual(t.shape,i),x=1===o.util.sizeFromShape(t.shape),y=o.backend_util.getBroadcastDims(t.shape,r.shape),b=!e.packedInputs&&v===r.shape.length&&o.util.arraysEqual(i,r.texData.texShape),k=e.packedInputs||l.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);n+="".concat(v,"_").concat(b,"_").concat(u?p:"","_").concat(l.length,"_").concat(x,"_").concat(y,"_").concat(_,"_").concat(f,"_").concat(d,"_").concat(h,"_").concat(k,"_").concat(a)}else{var j=t.isUniform?"uniform":t.texData.texShape;n+="".concat(t.shape,"_").concat(j,"_").concat(a)}});var a=e.userCode,i=e.constructor.name;return i+("_"+n+"_"+a+"".concat((0,o.env)().getNumber("WEBGL_VERSION")))}function d(e){return(0,o.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}},{"@tensorflow/tfjs-core":"1q0U8","./shader_compiler":"2Tqxi","./webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2Tqxi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"makeShader",function(){return l}),a.export(r,"getCoordsDataType",function(){return _}),a.export(r,"getUniformInfoFromShape",function(){return x}),a.export(r,"squeezeInputInfo",function(){return y});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./glsl_version"),c=e("./shader_compiler_util"),u=s.backend_util.getBroadcastDims;function l(e,t,r){var n,a,l,k,j,w,S=[];if(e.forEach(function(e){var t=s.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?S.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(S.push("uniform sampler2D ".concat(e.name,";")),S.push("uniform int offset".concat(e.name,";"))),r.enableShapeUniforms){switch(x(r.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:S.push("uniform int ".concat(e.name,"Shape;"));break;case 2:S.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:S.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:S.push("uniform ivec4 ".concat(e.name,"Shape;"))}S.push("uniform ivec2 ".concat(e.name,"TexShape;"))}}),r.enableShapeUniforms){switch(t.logicalShape.length){case 1:S.push("uniform int outShape;");break;case 2:S.push("uniform ivec2 outShape;"),S.push("uniform int outShapeStrides;");break;case 3:S.push("uniform ivec3 outShape;"),S.push("uniform ivec2 outShapeStrides;");break;case 4:S.push("uniform ivec4 outShape;"),S.push("uniform ivec3 outShapeStrides;")}S.push("uniform ivec2 outTexShape;")}r.customUniforms&&r.customUniforms.forEach(function(e){S.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))});var I=S.join("\n"),T=e.map(function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,a="";r?a+=function e(t,r){switch(t.shapeInfo.logicalShape.length){case 0:var n,a,o;return a="get"+(n=t.name).charAt(0).toUpperCase()+n.slice(1),o=(0,i.getGlslDifferences)(),"\n vec4 ".concat(a,"() {\n return ").concat(o.texture2D,"(").concat(n,", halfCR);\n }\n ");case 1:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=(0,i.getGlslDifferences)();if(t)return"\n vec4 ".concat(n,"(int index) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n vec2 uv = packedUVfrom1D(\n packedTexShape[0], packedTexShape[1], index);\n return ").concat(o.texture2D,"(").concat(r,", uv);\n }\n ");var s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n vec4 ".concat(n,"(int index) {\n vec2 uv = packedUVfrom1D(\n ").concat(s[0],", ").concat(s[1],", index);\n return ").concat(o.texture2D,"(").concat(r,", uv);\n }\n ")}(t,r);case 2:return function(e,t){var r=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,c=o[0],u=o[1],l=(0,i.getGlslDifferences)();if(null!=o&&s.util.arraysEqual(r,o))return t?"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,"TexShape[1], ").concat(n,"TexShape[0]);\n\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n "):"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ");if(t)return"\n vec4 ".concat(a,"(int row, int col) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n int valuesPerRow = int(ceil(float(").concat(n,"Shape[1]) / 2.0));\n vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ");var p=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],f=Math.ceil(r[1]/2);return"\n vec4 ".concat(a,"(int row, int col) {\n vec2 uv = packedUVfrom2D(").concat(f,", ").concat(p[0],", ").concat(p[1],", row, col);\n return ").concat(l.texture2D,"(").concat(n,", uv);\n }\n ")}(t,r);case 3:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),s=t.shapeInfo.texShape,c=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];if(1===n[0]){var u=y(t,n.slice(1));return"\n ".concat(e(u,r),"\n vec4 ").concat(o,"(int b, int row, int col) {\n return ").concat(o,"(").concat(b(["b","row","col"],[1,2]),");\n }\n ")}var l=(0,i.getGlslDifferences)();if(r)return"\n vec4 ".concat(o,"(int b, int row, int col) {\n ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n int valuesPerRow = int(ceil(float(").concat(a,"Shape[2]) / 2.0));\n int texelsInBatch = valuesPerRow * int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n vec2 uv = packedUVfrom3D(\n packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n return ").concat(l.texture2D,"(").concat(a,", uv);\n }\n ");var p=c[0],f=c[1],d=Math.ceil(n[2]/2),h=d*Math.ceil(n[1]/2);return"\n vec4 ".concat(o,"(int b, int row, int col) {\n vec2 uv = packedUVfrom3D(\n ").concat(p,", ").concat(f,", ").concat(h,", ").concat(d,", b, row, col);\n return ").concat(l.texture2D,"(").concat(a,", uv);\n }\n ")}(t,r);default:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1),a=(0,i.getGlslDifferences)();if(t)return"\n vec4 ".concat(n,"(int b2, int b, int row, int col) {\n int valuesPerRow = int(ceil(float(").concat(r,"Shape[3]) / 2.0));\n int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n texelsInBatch *= ").concat(r,"Shape[1];\n index = b2 * texelsInBatch + index;\n ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n int texR = index / packedTexShape[1];\n int texC = index - texR * packedTexShape[1];\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(r,", uv);\n }\n ");for(var o=e.shapeInfo.logicalShape,s=o.length,c=e.shapeInfo.texShape,u=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],l=u[0],p=u[1],f=Math.ceil(o[s-1]/2),d=f*Math.ceil(o[s-2]/2),h="int b, int row, int col",m="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),g=2;g<s-1;g++)h="int b".concat(g,", ")+h,d*=o[s-g-1],m="b".concat(g," * ").concat(d," + ")+m;return"\n vec4 ".concat(n,"(").concat(h,") {\n int index = ").concat(m,";\n int texR = index / ").concat(p,";\n int texC = index - texR * ").concat(p,";\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(p,", ").concat(l,");\n return ").concat(a.texture2D,"(").concat(r,", uv);\n }\n ")}(t,r)}}(e,n):a+=function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(n,"() {return ").concat(r,";}");var a=(0,o._)(e.shapeInfo.texShape,2),s=a[0],i=a[1];if(1===s&&1===i)return"\n float ".concat(n,"() {\n return sampleTexture(").concat(r,", halfCR);\n }\n ");var c=g(r);if(t)return"\n float ".concat(n,"() {\n vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], ").concat(c,");\n return sampleTexture(").concat(r,", uv);\n }\n ");var u=(0,o._)(e.shapeInfo.texShape,2),l=u[0],p=u[1];return"\n float ".concat(n,"() {\n vec2 uv = uvFromFlat(").concat(l,", ").concat(p,", ").concat(c,");\n return sampleTexture(").concat(r,", uv);\n }\n ")}(t,r);case 1:return function(e,t){var r=e.name,n="get"+r.charAt(0).toUpperCase()+r.slice(1);if(e.shapeInfo.isUniform)return"\n float ".concat(n,"(int index) {\n ").concat(v(e),"\n }\n ");var a=e.shapeInfo.texShape,o=a[0],s=a[1];if(1===s&&1===o)return"\n float ".concat(n,"(int index) {\n return sampleTexture(").concat(r,", halfCR);\n }\n ");var i=g(r);return 1===s?t?"\n float ".concat(n,"(int index) {\n vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / float(").concat(r,"TexShape[0]));\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / ").concat(o,".0);\n return sampleTexture(").concat(r,", uv);\n }\n "):1===o?t?"\n float ".concat(n,"(int index) {\n vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / ").concat(s,".0, 0.5);\n return sampleTexture(").concat(r,", uv);\n }\n "):t?"\n float ".concat(n,"(int index) {\n vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(i,");\n return sampleTexture(").concat(r,", uv);\n }\n "):"\n float ".concat(n,"(int index) {\n vec2 uv = uvFromFlat(").concat(o,", ").concat(s,", index + ").concat(i,");\n return sampleTexture(").concat(r,", uv);\n }\n ")}(t,r);case 2:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=t.shapeInfo.texShape;if(null!=i&&s.util.arraysEqual(n,i)){if(r)return"\n float ".concat(o,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n ");var c=i[0],u=i[1];return"\n float ".concat(o,"(int row, int col) {\n vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(c,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ")}var l=s.util.squeezeShape(n),p=l.newShape,f=l.keptDims;if(p.length<n.length){var d=y(t,p);return"\n ".concat(e(d,r),"\n float ").concat(o,"(int row, int col) {\n return ").concat(o,"(").concat(b(["row","col"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(o,"(int row, int col) {\n int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n ").concat(v(t),"\n }\n ");var h=i[0],m=i[1],_=g(a);return 1===m?r?"\n float ".concat(o,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(a,"Shape[1], 1, 1));\n vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(a,"TexShape[0]));\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(n[1],", 1, 1));\n vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n "):1===h?r?"\n float ".concat(o,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(a,"Shape[1], 1, 1));\n vec2 uv = vec2((index + 0.5) / float(").concat(a,"TexShape[1]), 0.5);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col) {\n float index = dot(vec3(row, col, ").concat(_,"), vec3(").concat(n[1],", 1, 1));\n vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n return sampleTexture(").concat(a,", uv);\n }\n "):r?"\n float ".concat(o,"(int row, int col) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(a,"Shape[1] + col + ").concat(_,";\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(n[1]," + col + ").concat(_,";\n vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n return sampleTexture(").concat(a,", uv);\n }\n")}(t,r);case 3:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[1]*n[2],c=n[2],u=s.util.squeezeShape(n),l=u.newShape,p=u.keptDims;if(l.length<n.length){var f=y(t,l);return"\n ".concat(e(f,r),"\n float ").concat(o,"(int row, int col, int depth) {\n return ").concat(o,"(").concat(b(["row","col","depth"],p),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(o,"(int row, int col, int depth) {\n int index = round(dot(vec3(row, col, depth),\n vec3(").concat(i,", ").concat(c,", 1)));\n ").concat(v(t),"\n }\n ");var d=t.shapeInfo.texShape,h=d[0],m=d[1],_=t.shapeInfo.flatOffset;if(m===i&&null==_)return r?"\n float ".concat(o,"(int row, int col, int depth) {\n int stride1 = ").concat(a,"Shape[2];\n float texR = float(row);\n float texC = dot(vec2(col, depth), vec2(stride1, 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth) {\n float texR = float(row);\n float texC = dot(vec2(col, depth), vec2(").concat(c,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(m,".0, ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");if(m===c&&null==_)return r?"\n float ".concat(o,"(int row, int col, int depth) {\n float texR = dot(vec2(row, col), vec2(").concat(a,"Shape[1], 1));\n float texC = float(depth);\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth) {\n float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n float texC = float(depth);\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(h,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");var x=g(a);return r?"\n float ".concat(o,"(int row, int col, int depth) {\n // Explicitly use integer operations as dot() only works on floats.\n int stride0 = ").concat(a,"Shape[1] * ").concat(a,"Shape[2];\n int stride1 = ").concat(a,"Shape[2];\n int index = row * stride0 + col * stride1 + depth + ").concat(x,";\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(i," + col * ").concat(c," + depth + ").concat(x,";\n vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n return sampleTexture(").concat(a,", uv);\n }\n ")}(t,r);case 4:return function(t,r){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[3],c=n[2]*i,u=n[1]*c,l=s.util.squeezeShape(n),p=l.newShape,f=l.keptDims;if(p.length<n.length){var d=y(t,p);return"\n ".concat(e(d,r),"\n float ").concat(o,"(int row, int col, int depth, int depth2) {\n return ").concat(o,"(").concat(b(["row","col","depth","depth2"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n int index = round(dot(vec4(row, col, depth, depth2),\n vec4(").concat(u,", ").concat(c,", ").concat(i,", 1)));\n ").concat(v(t),"\n }\n ");var h=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,_=m[0],x=m[1],k="int stride2 = ".concat(a,"Shape[3];"),j="int stride1 = ".concat(a,"Shape[2] * stride2;"),w="int stride0 = ".concat(a,"Shape[1] * stride1;");if(x===u&&null==h)return r?"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n ").concat(k,"\n ").concat(j,"\n float texR = float(row);\n float texC =\n dot(vec3(col, depth, depth2),\n vec3(stride1, stride2, 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n float texR = float(row);\n float texC =\n dot(vec3(col, depth, depth2),\n vec3(").concat(c,", ").concat(i,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");if(x===i&&null==h)return r?"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n float texR = dot(vec3(row, col, depth),\n vec3(").concat(a,"Shape[1] * ").concat(a,"Shape[2], ").concat(a,"Shape[2], 1));\n float texC = float(depth2);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n float texR = dot(vec3(row, col, depth),\n vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n float texC = float(depth2);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(a,", uv);\n }\n ");var S=g(a);return r?"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n // Explicitly use integer operations as dot() only works on floats.\n ").concat(k,"\n ").concat(j,"\n ").concat(w,"\n int index = row * stride0 + col * stride1 +\n depth * stride2 + depth2;\n vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index + ").concat(S,");\n return sampleTexture(").concat(a,", uv);\n }\n "):"\n float ".concat(o,"(int row, int col, int depth, int depth2) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(u," + col * ").concat(c," +\n depth * ").concat(i," + depth2;\n vec2 uv = uvFromFlat(").concat(_,", ").concat(x,", index + ").concat(S,");\n return sampleTexture(").concat(a,", uv);\n }\n ")}(t,r);case 5:return function(t){var r=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),o=r[4],i=r[3]*o,c=r[2]*i,u=r[1]*c,l=s.util.squeezeShape(r),p=l.newShape,f=l.keptDims;if(p.length<r.length){var d=y(t,p);return"\n ".concat(e(d),"\n float ").concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n return ").concat(a,"(").concat(b(["row","col","depth","depth2","depth3"],f),");\n }\n ")}if(t.shapeInfo.isUniform)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n float index = dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(u,", ").concat(c,", ").concat(i,", ").concat(o,")) +\n depth3;\n ").concat(v(t),"\n }\n ");var h=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,_=m[0],x=m[1];if(x===u&&null==h)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n int texR = row;\n float texC = dot(vec4(col, depth, depth2, depth3),\n vec4(").concat(c,", ").concat(i,", ").concat(o,", 1));\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");if(x===o&&null==h)return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n float texR = dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(r[1]*r[2]*r[3],",\n ").concat(r[2]*r[3],", ").concat(r[3],", 1));\n int texC = depth3;\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(x,".0, ").concat(_,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");var k=g(n);return"\n float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(i," +\n depth2 * ").concat(o," + depth3 + ").concat(k,";\n vec2 uv = uvFromFlat(").concat(_,", ").concat(x,", index);\n return sampleTexture(").concat(n,", uv);\n }\n ")}(t);case 6:return function(t){var r=t.shapeInfo.logicalShape,n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),o=s.util.squeezeShape(r),i=o.newShape,c=o.keptDims;if(i.length<r.length){var u=y(t,i);return"\n ".concat(e(u),"\n float ").concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n return ").concat(a,"(").concat(b(["row","col","depth","depth2","depth3","depth4"],c),");\n }\n ")}var l=r[5],p=r[4]*l,f=r[3]*p,d=r[2]*f,h=r[1]*d;if(t.shapeInfo.isUniform)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n int index = round(dot(\n vec4(row, col, depth, depth2),\n vec4(").concat(h,", ").concat(d,", ").concat(f,", ").concat(p,")) +\n dot(\n vec2(depth3, depth4),\n vec2(").concat(l,", 1)));\n ").concat(v(t),"\n }\n ");var m=t.shapeInfo.flatOffset,_=t.shapeInfo.texShape,x=_[0],k=_[1];if(k===h&&null==m)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n int texR = row;\n float texC = dot(vec4(col, depth, depth2, depth3),\n vec4(").concat(d,", ").concat(f,", ").concat(p,", ").concat(l,")) +\n float(depth4);\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(k,".0, ").concat(x,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");if(k===l&&null==m)return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n float texR = dot(vec4(row, col, depth, depth2),\n vec4(").concat(r[1]*r[2]*r[3]*r[4],",\n ").concat(r[2]*r[3]*r[4],",\n ").concat(r[3]*r[4],",\n ").concat(r[4],")) + float(depth3);\n int texC = depth4;\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(").concat(k,".0, ").concat(x,".0);\n return sampleTexture(").concat(n,", uv);\n }\n ");var j=g(n);return"\n float ".concat(a,"(int row, int col, int depth,\n int depth2, int depth3, int depth4) {\n // Explicitly use integer operations as dot() only works on floats.\n int index = row * ").concat(h," + col * ").concat(d," + depth * ").concat(f," +\n depth2 * ").concat(p," + depth3 * ").concat(l," + depth4 + ").concat(j,";\n vec2 uv = uvFromFlat(").concat(x,", ").concat(k,", index);\n return sampleTexture(").concat(n,", uv);\n }\n ")}(t);default:throw Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}(e,n);var c=e.shapeInfo.logicalShape,l=t.logicalShape;return c.length<=l.length&&(r?a+=function(e,t){var r,n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,c=t.logicalShape.length,l=u(e.shapeInfo.logicalShape,t.logicalShape),p=_(c),f=c-i,d=["x","y","z","w","u","v"];r=0===i?"":c<2&&l.length>=1?"coords = 0;":l.map(function(e){return"coords.".concat(d[e+f]," = 0;")}).join("\n");var h="";h=c<2&&i>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(d[t+f])}).join(", ");var m="return outputValue;",g=1===s.util.sizeFromShape(e.shapeInfo.logicalShape),v=1===s.util.sizeFromShape(t.logicalShape);if(1!==i||g||v){if(g&&!v)m=1===c?"\n return vec4(outputValue.x, outputValue.x, 0., 0.);\n ":"\n return vec4(outputValue.x);\n ";else if(l.length){var x=i-2,y=i-1;l.indexOf(x)>-1&&l.indexOf(y)>-1?m="return vec4(outputValue.x);":l.indexOf(x)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(y)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n return vec4(outputValue.xy, outputValue.xy);\n ";return"\n vec4 ".concat(o,"() {\n ").concat(p," coords = getOutputCoords();\n ").concat(r,"\n vec4 outputValue = get").concat(a,"(").concat(h,");\n ").concat(m,"\n }\n ")}(e,t):a+=function(e,t){var r,n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),o="get"+a+"AtOutCoords",i=t.texShape,c=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,p=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===p&&null==e.shapeInfo.flatOffset&&s.util.arraysEqual(c,i))return"\n float ".concat(o,"() {\n return sampleTexture(").concat(n,", resultUV);\n }\n ");var f=_(p),d=u(e.shapeInfo.logicalShape,t.logicalShape),h=p-l,m=["x","y","z","w","u","v"];r=0===l?"":p<2&&d.length>=1?"coords = 0;":d.map(function(e){return"coords.".concat(m[e+h]," = 0;")}).join("\n");var g="";return g=p<2&&l>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords.".concat(m[t+h])}).join(", "),"\n float ".concat(o,"() {\n ").concat(f," coords = getOutputCoords();\n ").concat(r,"\n return get").concat(a,"(").concat(g,");\n }\n ")}(e,t)),a}(e,t,r.packedInputs,r.enableShapeUniforms)}).join("\n"),N=t.texShape,C=(0,i.getGlslDifferences)(),E=(n=C,"\n float sampleTexture(sampler2D textureSampler, vec2 uv) {\n return ".concat(n.texture2D,"(textureSampler, uv).r;\n }\n ")),F=(a=C,"".concat(a.version,"\n precision highp float;\n precision highp int;\n precision highp sampler2D;\n ").concat(a.varyingFs," vec2 resultUV;\n ").concat(a.defineOutput,"\n const vec2 halfCR = vec2(0.5, 0.5);\n\n struct ivec5\n {\n int x;\n int y;\n int z;\n int w;\n int u;\n };\n\n struct ivec6\n {\n int x;\n int y;\n int z;\n int w;\n int u;\n int v;\n };\n\n uniform float NAN;\n ").concat(a.defineSpecialNaN,"\n ").concat(a.defineSpecialInf,"\n ").concat(a.defineRound,"\n\n int imod(int x, int y) {\n return x - y * (x / y);\n }\n\n int idiv(int a, int b, float sign) {\n int res = a / b;\n int mod = imod(a, b);\n if (sign< 0. && mod != 0) {\n res -= 1;\n }\n return res;\n }\n\n //Based on the work of Dave Hoskins\n //https://www.shadertoy.com/view/4djSRW\n #define HASHSCALE1 443.8975\n float random(float seed){\n vec2 p = resultUV * seed;\n vec3 p3 = fract(vec3(p.xyx) * HASHSCALE1);\n p3 += dot(p3, p3.yzx + 19.19);\n return fract((p3.x + p3.y) * p3.z);\n }\n\n ").concat(p,"\n ").concat(f,"\n ").concat(d,"\n "));return t.isPacked?(j=function(e,t,r){switch(e.length){case 0:return m();case 1:var n,a,o,i;return n=0,a=t,o=r,1===(i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)])[0]?o?"\n int getOutputCoords() {\n return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n }\n ":"\n int getOutputCoords() {\n return 2 * int(resultUV.x * ".concat(i[1],".0);\n }\n "):1===i[1]?o?"\n int getOutputCoords() {\n return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n }\n ":"\n int getOutputCoords() {\n return 2 * int(resultUV.y * ".concat(i[0],".0);\n }\n "):o?"\n int getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n }\n ":"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(i[0],", ").concat(i[1],"));\n return 2 * (resTexRC.x * ").concat(i[1]," + resTexRC.y);\n }\n ");case 2:var c=e,u=t,l=r,p=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(s.util.arraysEqual(c,u))return l?"\n ivec2 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n }\n ":"\n ivec2 getOutputCoords() {\n return 2 * ivec2(resultUV.yx * vec2(".concat(p[0],", ").concat(p[1],"));\n }\n ");var f=Math.ceil(c[1]/2);return l?"\n ivec2 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec2(r, c);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(p[0],", ").concat(p[1],"));\n\n int index = resTexRC.x * ").concat(p[1]," + resTexRC.y;\n int r = 2 * (index / ").concat(f,");\n int c = imod(index, ").concat(f,") * 2;\n\n return ivec2(r, c);\n }\n ");case 3:var d=e,h=t,g=r;if(g)return"\n ivec3 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n int b = index / texelsInBatch;\n index -= b * texelsInBatch;\n\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec3(b, r, c);\n }\n ";var v=[Math.ceil(h[0]/2),Math.ceil(h[1]/2)],_=Math.ceil(d[2]/2),x=_*Math.ceil(d[1]/2);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(v[0],", ").concat(v[1],"));\n int index = resTexRC.x * ").concat(v[1]," + resTexRC.y;\n\n int b = index / ").concat(x,";\n index -= b * ").concat(x,";\n\n int r = 2 * (index / ").concat(_,");\n int c = imod(index, ").concat(_,") * 2;\n\n return ivec3(b, r, c);\n }\n ");default:return function(e,t,r){if(r)return"\n ivec4 getOutputCoords() {\n ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(packedTexShape[0], packedTexShape[1]));\n int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n int texelsInBatchN = texelsInBatch * outShape[1];\n\n int b2 = index / texelsInBatchN;\n index -= b2 * texelsInBatchN;\n\n int b = index / texelsInBatch;\n index -= b * texelsInBatch;\n\n int r = 2 * (index / texelsInLogicalRow);\n int c = imod(index, texelsInLogicalRow) * 2;\n\n return ivec4(b2, b, r, c);\n }\n ";for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),o=a*Math.ceil(e[e.length-2]/2),s=o,i="",c="b, r, c",u=2;u<e.length-1;u++)s*=e[e.length-u-1],i="\n int b".concat(u," = index / ").concat(s,";\n index -= b").concat(u," * ").concat(s,";\n ")+i,c="b".concat(u,", ")+c;return"\n ivec".concat(e.length," getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(").concat(n[0],", ").concat(n[1],"));\n int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n ").concat(i,"\n\n int b = index / ").concat(o,";\n index -= b * ").concat(o,";\n\n int r = 2 * (index / ").concat(a,");\n int c = imod(index, ").concat(a,") * 2;\n\n return ivec").concat(e.length,"(").concat(c,");\n }\n ")}(e,t,r)}}(t.logicalShape,N,r.enableShapeUniforms),l=C,w="\n void setOutput(vec4 val) {\n ".concat(l.output," = val;\n }\n ")):(j=function(e,t,r){switch(e.length){case 0:return m();case 1:return n=0,a=t,o=r,1===a[0]?o?"\n int getOutputCoords() {\n return int(resultUV.x * float(outTexShape[1]));\n }\n ":"\n int getOutputCoords() {\n return int(resultUV.x * ".concat(a[1],".0);\n }\n "):1===a[1]?o?"\n int getOutputCoords() {\n return int(resultUV.y * float(outTexShape[0]));\n }\n ":"\n int getOutputCoords() {\n return int(resultUV.y * ".concat(a[0],".0);\n }\n "):o?"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n return resTexRC.x * outTexShape[1] + resTexRC.y;\n }\n ":"\n int getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(a[0],", ").concat(a[1],"));\n return resTexRC.x * ").concat(a[1]," + resTexRC.y;\n }\n ");case 2:return i=e,u=t,l=r,s.util.arraysEqual(i,u)?l?"\n ivec2 getOutputCoords() {\n return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n }\n ":"\n ivec2 getOutputCoords() {\n return ivec2(resultUV.yx * vec2(".concat(u[0],", ").concat(u[1],"));\n }\n "):1===i[1]?l?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n return ivec2(index, 0);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(u[0],", ").concat(u[1],"));\n int index = resTexRC.x * ").concat(u[1]," + resTexRC.y;\n return ivec2(index, 0);\n }\n "):1===i[0]?l?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n return ivec2(0, index);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(u[0],", ").concat(u[1],"));\n int index = resTexRC.x * ").concat(u[1]," + resTexRC.y;\n return ivec2(0, index);\n }\n "):l?"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n int r = index / outShape[1];\n int c = index - r * outShape[1];\n return ivec2(r, c);\n }\n ":"\n ivec2 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(u[0],", ").concat(u[1],"));\n int index = resTexRC.x * ").concat(u[1]," + resTexRC.y;\n int r = index / ").concat(i[1],";\n int c = index - r * ").concat(i[1],";\n return ivec2(r, c);\n }\n ");case 3:var n,a,o,i,u,l,p,f,d,h,g,v,_=e,x=t,y=r;if(y){var b=c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],_);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n ".concat(b,"\n return ivec3(r, c, d);\n }\n")}var k=c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],_);return"\n ivec3 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(x[0],", ").concat(x[1],"));\n int index = resTexRC.x * ").concat(x[1]," + resTexRC.y;\n ").concat(k,"\n return ivec3(r, c, d);\n }\n ");case 4:var j=e,w=t,S=r;if(S){var I=c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d","d2"],j);return"\n ivec4 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(outTexShape[0], outTexShape[1]));\n int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n ".concat(I,"\n return ivec4(r, c, d, d2);\n }\n ")}var T=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2"],j);return"\n ivec4 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(w[0],", ").concat(w[1],"));\n int index = resTexRC.x * ").concat(w[1]," + resTexRC.y;\n ").concat(T,"\n return ivec4(r, c, d, d2);\n }\n ");case 5:return p=e,f=t,d=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3"],p),"\n ivec5 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(f[0],",\n ").concat(f[1],"));\n\n int index = resTexRC.x * ").concat(f[1]," + resTexRC.y;\n\n ").concat(d,"\n\n ivec5 outShape = ivec5(r, c, d, d2, d3);\n return outShape;\n }\n ");case 6:return h=e,g=t,v=c.getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3","d4"],h),"\n ivec6 getOutputCoords() {\n ivec2 resTexRC = ivec2(resultUV.yx *\n vec2(".concat(g[0],", ").concat(g[1],"));\n int index = resTexRC.x * ").concat(g[1]," + resTexRC.y;\n\n ").concat(v,"\n\n ivec6 result = ivec6(r, c, d, d2, d3, d4);\n return result;\n }\n ");default:throw Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,N,r.enableShapeUniforms),k=C,w="\n void setOutput(float val) {\n ".concat(k.output," = vec4(val, 0, 0, 0);\n }\n ")),r.packedInputs&&(F+=h),[F,E,w,I,j,T,r.userCode].join("\n")}var p="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n int texR = index / texNumC;\n int texC = index - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n int texelIndex = index / 2;\n int texR = texelIndex / texNumC;\n int texC = texelIndex - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",f="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n int texNumC, int row, int col) {\n int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n int texR = texelIndex / texNumC;\n int texC = texelIndex - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",d="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n int texelsInBatch, int texelsInLogicalRow, int b,\n int row, int col) {\n int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n int texR = index / texNumC;\n int texC = index - texR * texNumC;\n return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",h="\n float getChannel(vec4 frag, vec2 innerDims) {\n vec2 modCoord = mod(innerDims, 2.);\n return modCoord.x == 0. ?\n (modCoord.y == 0. ? frag.r : frag.g) :\n (modCoord.y == 0. ? frag.b : frag.a);\n }\n float getChannel(vec4 frag, int dim) {\n float modCoord = mod(float(dim), 2.);\n return modCoord == 0. ? frag.r : frag.g;\n }\n";function m(){return"\n int getOutputCoords() {\n return 0;\n }\n "}function g(e){return"offset".concat(e)}function v(e){var t=e.name,r=s.util.sizeFromShape(e.shapeInfo.logicalShape);return r<2?"return ".concat(t,";"):"\n for (int i = 0; i < ".concat(r,"; i++) {\n if (i == index) {\n return ").concat(t,"[i];\n }\n }\n ")}function _(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";else if(6===e)return"ivec6";else throw Error("GPU for rank ".concat(e," is not yet supported"))}function x(e,t,r){var n=s.util.squeezeShape(t),a=n.newShape,o=n.keptDims,i=t.length,c=e&&3===i&&1===t[0],u=c?t.slice(1):a,l=!e&&i>1&&!s.util.arraysEqual(t,r)&&a.length<i||c,p=l?u:t;return{useSqueezeShape:l,uniformShape:p,keptDims:o}}function y(e,t){var r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=t,r}function b(e,t){return t.map(function(t){return e[t]}).join(", ")}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./glsl_version":"qEJnc","./shader_compiler_util":"j7Ycy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],j7Ycy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getLogicalCoordinatesFromFlatIndex",function(){return s}),a.export(r,"getOutputLogicalCoordinatesFromFlatIndexByUniform",function(){return i}),a.export(r,"getLogicalCoordinatesFromFlatIndexByUniform",function(){return c}),a.export(r,"dotify",function(){return l}),a.export(r,"getFlatIndexFrom3D",function(){return p}),a.export(r,"getFlatIndexFrom3DOutput",function(){return f}),a.export(r,"ENCODE_FLOAT_SNIPPET",function(){return d});var o=e("@tensorflow/tfjs-core");function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=o.util.computeStrides(t);return n.map(function(t,a){var o="int ".concat(e[a]," = ").concat(r," / ").concat(t),s=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(o,"; ").concat(s,";")}).join("")}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=o.util.computeStrides(t);return n.map(function(t,a){var o="int ".concat(e[a]," = ").concat(r," / outShapeStrides[").concat(a,"]"),s=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(o,"; ").concat(s,";")}).join("")}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",n=function(e,t){var r=e.length,n=e.map(function(e){return"".concat(t,"[").concat(e,"]")}),a=Array(r-1);a[r-2]=n[r-1];for(var o=r-3;o>=0;--o)a[o]="(".concat(a[o+1]," * ").concat(n[o+1],")");return a}(e.map(function(e,t){return t}),t);return n.map(function(t,a){var o="int ".concat(e[a]," = ").concat(r," / ").concat(n[a]),s=a===n.length-1?"int ".concat(e[a+1]," = ").concat(r," - ").concat(e[a]," * ").concat(n[a]):"index -= ".concat(e[a]," * ").concat(n[a]);return"".concat(o,"; ").concat(s,";")}).join("")}function u(e){return 1===e.length?"".concat(e[0]):"vec".concat(e.length,"(").concat(e.join(","),")")}function l(e,t){if(e.length!==t.length)throw Error("Vectors to be dotted must be of the same length -"+"got ".concat(e.length," and ").concat(t.length));for(var r=[],n=Math.floor(e.length/4),a=e.length%4,o=0;o<n;o++){var s=e.slice(4*o,4*o+4),i=t.slice(4*o,4*o+4);r.push("".concat(u(s),", ").concat(u(i)))}if(0!==a){var c=e.slice(4*n),l=t.slice(4*n);1===c.length&&(c=c.map(function(e){return"float(".concat(e,")")}),l=l.map(function(e){return"float(".concat(e,")")})),r.push("".concat(u(c),", ").concat(u(l)))}return r.map(function(e,t){return"dot(".concat(e,")")}).join("+")}function p(e){var t=o.util.computeStrides(e).map(function(e){return e.toString()});return"\n int getFlatIndex(ivec3 coords) {\n return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n }\n")}function f(){return"\n int getFlatIndex(ivec3 coords) {\n return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n }\n"}var d="\n const float FLOAT_MAX = 1.70141184e38;\n const float FLOAT_MIN = 1.17549435e-38;\n\n lowp vec4 encode_float(highp float v) {\n if (isnan(v)) {\n return vec4(255, 255, 255, 255);\n }\n\n highp float av = abs(v);\n\n if(av < FLOAT_MIN) {\n return vec4(0.0, 0.0, 0.0, 0.0);\n } else if(v >FLOAT_MAX) {\n return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n } else if(v< -FLOAT_MAX) {\n return vec4(0.0, 0.0, 128.0, 255.0) / 255.0;\n }\n\n highp vec4 c = vec4(0,0,0,0);\n\n highp float e = floor(log2(av));\n highp float m = exp2(fract(log2(av))) - 1.0;\n\n c[2] = floor(128.0 * m);\n m -= c[2] / 128.0;\n c[1] = floor(32768.0 * m);\n m -= c[1] / 32768.0;\n c[0] = floor(8388608.0 * m);\n\n highp float ebias = e + 127.0;\n c[3] = floor(ebias / 2.0);\n ebias -= c[3] * 2.0;\n c[2] += floor(ebias) * 128.0;\n\n c[3] += 128.0 * step(0.0, -v);\n\n return c / 255.0;\n }\n"},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],L8wfE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DecodeMatrixPackedProgram",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=e("./tex_util"),l=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=u.PackingScheme.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=(0,s.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n ivec3 outCoordsFromFlatIndex(int index) {\n ".concat(this.enableShapeUniforms?c.getOutputLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],t):c.getLogicalCoordinatesFromFlatIndex(["r","c","d"],t),"\n return ivec3(r, c, d);\n }\n\n void main() {\n ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n vec4 result = vec4(0.);\n\n for (int i=0; i<4; i++) {\n int flatIndex = index + i;\n ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./gpgpu_math":"crqTl","./shader_compiler_util":"j7Ycy","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iFKNv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeFloatProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./shader_compiler_util"),c=e("./tex_util"),u=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.outTexUsage=c.TextureUsage.DOWNLOAD;var r=(0,s.getGlslDifferences)();this.outputShape=t,this.userCode="\n ".concat(i.ENCODE_FLOAT_SNIPPET,"\n\n void main() {\n float x = getAAtOutCoords();\n ").concat(r.output," = encode_float(x);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./shader_compiler_util":"j7Ycy","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bLZ80:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeFloatPackedProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./shader_compiler_util"),c=e("./tex_util"),u=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=c.TextureUsage.DOWNLOAD;var r=(0,s.getGlslDifferences)();this.outputShape=t,this.userCode="\n ".concat(i.ENCODE_FLOAT_SNIPPET,"\n\n void main() {\n ivec3 coords = getOutputCoords();\n float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n ").concat(r.output," = encode_float(x);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./shader_compiler_util":"j7Ycy","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bdGgQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeMatrixProgram",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u={R:0,G:1,B:2,A:3},l=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";(0,o._)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var a=(0,s.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);var l="result";r&&(l="floor(result * 255. + 0.5)");for(var p="",f=0;f<n.length;f++){var d=n[f];p+="\n if(offset == ".concat(f,") {\n result = values[").concat(u[d],"];\n }")}this.userCode="\n ".concat(this.enableShapeUniforms?c.getFlatIndexFrom3DOutput():c.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 coords = getOutputCoords();\n int flatIndex = getFlatIndex(coords);\n float result = 0.;\n int offset = imod(flatIndex, ").concat(n.length,");\n\n flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n int r = flatIndex / texShape[1];\n if (r < texShape[0]) {\n int c = imod(flatIndex, texShape[1]);\n vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n vec4 values = ").concat(a.texture2D,"(A, uv);\n ").concat(p,"\n }\n ").concat(a.output," = vec4(").concat(l,", 0., 0., 0.);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./gpgpu_math":"crqTl","./shader_compiler_util":"j7Ycy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kkKPE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EncodeMatrixPackedProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./gpgpu_math"),c=e("./shader_compiler_util"),u=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=(0,s.getGlslDifferences)();this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);var a="",u="result";r&&(u="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var p=0;p<=1;p++){var f=2*l+p;a+="\n localCoords = coords;\n if(localCoords[2] + ".concat(p," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n localCoords[2] += ").concat(p,";\n if (localCoords[1] + ").concat(l," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n localCoords[1] += ").concat(l,";\n\n flatIndex = getFlatIndex(localCoords);\n offset = imod(flatIndex, 4);\n\n flatIndex = idiv(flatIndex, 4, 1.);\n\n int r = flatIndex / texShape[1];\n int c = imod(flatIndex, texShape[1]);\n vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n values = ").concat(n.texture2D,"(A, uv);\n\n if (offset == 0) {\n result[").concat(f,"] = values[0];\n } else if (offset == 1) {\n result[").concat(f,"] = values[1];\n } else if (offset == 2) {\n result[").concat(f,"] = values[2];\n } else {\n result[").concat(f,"] = values[3];\n }\n }\n }\n ")}this.userCode="\n ".concat(this.enableShapeUniforms?c.getFlatIndexFrom3DOutput():c.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 coords = getOutputCoords();\n\n vec4 result = vec4(0.);\n int flatIndex, r, c, offset;\n ivec3 localCoords;\n vec2 uv;\n vec4 values;\n\n ").concat(a,"\n\n ").concat(n.output," = ").concat(u,";\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./gpgpu_math":"crqTl","./shader_compiler_util":"j7Ycy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dkpjQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GPGPUContext",function(){return m}),a.export(r,"linearSearchLastTrue",function(){return g});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("@tensorflow/tfjs-core"),p=e("./canvas_util"),f=e("./gpgpu_util"),d=e("./tex_util"),h=e("./webgl_util"),m=function(){"use strict";function e(t){(0,s._)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];var r=(0,l.env)().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,(0,p.setWebGLContext)(r,t)):this.gl=(0,p.getWebGLContext)(r),t=this.gl,2===(0,l.env)().getNumber("WEBGL_VERSION")){var n=t;this.createVertexArray=function(){return h.callAndCheck(n,function(){return n.createVertexArray()})},this.bindVertexArray=function(e){return h.callAndCheck(n,function(){return n.bindVertexArray(e)})},this.deleteVertexArray=function(e){return h.callAndCheck(n,function(){return n.deleteVertexArray(e)})},this.getVertexArray=function(){return h.callAndCheck(n,function(){return n.getParameter(n.VERTEX_ARRAY_BINDING)})}}else if(null!=t){var a=t.getExtension("OES_vertex_array_object");if(null==a)throw Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=function(){return h.callAndCheck(t,function(){return a.createVertexArrayOES()})},this.bindVertexArray=function(e){return h.callAndCheck(t,function(){return a.bindVertexArrayOES(e)})},this.deleteVertexArray=function(e){return h.callAndCheck(t,function(){return a.deleteVertexArrayOES(e)})},this.getVertexArray=function(){return h.callAndCheck(t,function(){return t.getParameter(a.VERTEX_ARRAY_BINDING_OES)})}}var o="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,l.env)().getNumber("WEBGL_VERSION")){var c="OES_texture_half_float";if(this.textureFloatExtension=h.getExtensionOrThrow(this.gl,"OES_texture_float"),h.hasExtension(this.gl,c))this.textureHalfFloatExtension=h.getExtensionOrThrow(this.gl,c);else if((0,l.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),h.hasExtension(this.gl,i))this.colorBufferHalfFloatExtension=h.getExtensionOrThrow(this.gl,i);else if((0,l.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",h.hasExtension(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else if(h.hasExtension(this.gl,i))this.colorBufferHalfFloatExtension=this.gl.getExtension(i);else throw Error("GL context does not support color renderable floats");this.vertexBuffer=f.createVertexBuffer(this.gl),this.indexBuffer=f.createIndexBuffer(this.gl),this.framebuffer=h.createFramebuffer(this.gl),this.textureConfig=d.getTextureConfig(this.gl,this.textureHalfFloatExtension)}return(0,i._)(e,[{key:"debug",get:function(){return(0,l.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture. This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;h.callAndCheck(t,function(){return t.finish()}),h.callAndCheck(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),h.callAndCheck(t,function(){return t.deleteFramebuffer(e.framebuffer)}),h.callAndCheck(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),h.callAndCheck(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),h.callAndCheck(t,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat32MatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat16MatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createUnsignedBytesMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),f.uploadPixelDataToTexture(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,r,n){this.throwIfDisposed(),f.uploadDenseMatrixToTexture(this.gl,e,t,r,n,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createFloat16PackedMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),f.createPackedMatrixTexture(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(h.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),h.callAndCheck(this.gl,function(){return t.gl.deleteTexture(e)})}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return f.downloadByteEncodedFloatMatrixFromOutputTexture(n.gl,t,r,n.textureConfig)})}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,r,n,a,o){return f.downloadPackedMatrixFromBuffer(this.gl,e,t,r,n,a,o,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return f.downloadFloat32MatrixFromBuffer(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,r){this.bindTextureToFrameBuffer(e);var n=f.createBufferFromOutputTexture(this.gl,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),n}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,r,n=this;if((0,l.env)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var t=e.clientWaitSync(a,0,0);return t===e.ALREADY_SIGNALED||t===e.CONDITION_SATISFIED},t=a}else(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return n.isQueryAvailable(t,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,r){var n=this;return this.downloadMatrixDriver(e,function(){return f.downloadMatrixFromPackedOutputTexture(n.gl,t,r)})}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var r=this.gl;null==this.vertexShader&&(this.vertexShader=f.createVertexShader(r));var n=h.createProgram(r);h.callAndCheck(r,function(){return r.attachShader(n,t.vertexShader)}),h.callAndCheck(r,function(){return r.attachShader(n,e)}),h.linkProgram(r,n);var a=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&h.validateProgram(r,a),a}},{key:"buildVao",value:function(e){var t=this;this.setProgram(e),this.bindVertexArray(e.vao);var r=this.gl;h.callAndCheck(r,function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer)}),f.bindVertexProgramAttributeStreams(r,e,this.vertexBuffer)}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(h.callAndCheck(this.gl,function(){return t.gl.deleteProgram(e)}),this.deleteVertexArray(e.vao))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&h.validateProgram(this.gl,this.program),h.callAndCheck(this.gl,function(){return t.gl.useProgram(e)})}},{key:"getUniformLocation",value:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(this.throwIfDisposed(),r)?h.getProgramUniformLocationOrThrow(this.gl,e,t):h.getProgramUniformLocation(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var r=this;return this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return r.gl.getAttribLocation(e,t)})}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),h.bindTextureToProgramUniformSampler(this.gl,e,t,r)}},{key:"setOutputMatrixTexture",value:function(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,r){this.throwIfDisposed();var n=(0,c._)(d.getPackedMatrixTextureShapeWidthHeight(t,r),2),a=n[0],o=n[1];this.setOutputMatrixTextureDriver(e,a,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,r,n){this.setOutputMatrixWriteRegionDriver(r,e,n,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,r,n){throw Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&h.validateProgram(this.gl,this.program),h.validateFramebuffer(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&(console.assert(this.getVertexArray()===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()),h.callAndCheck(e,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return e.gl.finish()})}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=h.getExtensionOrThrow(this.gl,2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}var n=this.getQueryTimerExtensionWebGL1(),a=n.createQueryEXT();return n.beginQueryEXT(n.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2===(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2();e.endQuery(t.TIME_ELAPSED_EXT);return}var r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)}},{key:"waitForQueryAndGetTime",value:function(e){var t=this;return(0,o._)(function(){return(0,u._)(this,function(r){switch(r.label){case 0:return[4,l.util.repeatedTry(function(){return t.disposed||t.isQueryAvailable(e,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,t.getQueryTime(e,(0,l.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})()}},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var n=this.getQueryTimerExtensionWebGL1();return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var r=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}var o=this.getQueryTimerExtensionWebGL1(),s=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),s&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise(function(r){t.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})}},{key:"pollItems",value:function(){for(var e=g(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var r=this;if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)){var n=void 0;"setTimeoutCustom"in(0,l.env)().platform&&(n=(0,l.env)().platform.setTimeoutCustom.bind((0,l.env)().platform)),l.util.repeatedTry(function(){return r.pollItems(),0===r.itemsToPoll.length},function(){return 0},null,n)}}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),h.bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.debug&&h.validateFramebuffer(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(h.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.debug&&h.validateFramebuffer(this.gl)):h.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var r=t();return this.unbindTextureToFrameBuffer(),r}},{key:"setOutputMatrixTextureDriver",value:function(e,t,r){this.throwIfDisposed();var n=this.gl;h.bindColorTextureToFramebuffer(n,e,this.framebuffer),this.debug&&h.validateFramebuffer(n),this.outputTexture=e,h.callAndCheck(n,function(){return n.viewport(0,0,t,r)}),h.callAndCheck(n,function(){return n.scissor(0,0,t,r)})}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,r,n){var a=this;this.throwIfDisposed(),h.callAndCheck(this.gl,function(){return a.gl.scissor(e,t,r,n)})}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw Error("No GPU program is currently set.")}}]),e}();function g(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","./canvas_util":"jqci3","./gpgpu_util":"lkK14","./tex_util":"jagEL","./webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lkK14:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createVertexShader",function(){return l}),a.export(r,"createVertexBuffer",function(){return p}),a.export(r,"createIndexBuffer",function(){return f}),a.export(r,"getInternalFormatForFloat32MatrixTexture",function(){return h}),a.export(r,"createFloat32MatrixTexture",function(){return m}),a.export(r,"getInternalFormatForFloat16MatrixTexture",function(){return g}),a.export(r,"createFloat16MatrixTexture",function(){return v}),a.export(r,"getInternalFormatForUnsignedBytesMatrixTexture",function(){return _}),a.export(r,"createUnsignedBytesMatrixTexture",function(){return x}),a.export(r,"getInternalFormatForPackedMatrixTexture",function(){return y}),a.export(r,"createPackedMatrixTexture",function(){return b}),a.export(r,"getInternalFormatForFloat16PackedMatrixTexture",function(){return k}),a.export(r,"createFloat16PackedMatrixTexture",function(){return j}),a.export(r,"bindVertexProgramAttributeStreams",function(){return w}),a.export(r,"uploadDenseMatrixToTexture",function(){return S}),a.export(r,"uploadPixelDataToTexture",function(){return I}),a.export(r,"createBufferFromOutputTexture",function(){return T}),a.export(r,"downloadFloat32MatrixFromBuffer",function(){return N}),a.export(r,"downloadByteEncodedFloatMatrixFromOutputTexture",function(){return C}),a.export(r,"downloadPackedMatrixFromBuffer",function(){return E}),a.export(r,"downloadMatrixFromPackedOutputTexture",function(){return F});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./glsl_version"),c=e("./tex_util"),u=e("./webgl_util");function l(e){var t=(0,i.getGlslDifferences)(),r="".concat(t.version,"\n precision highp float;\n ").concat(t.attribute," vec3 clipSpacePos;\n ").concat(t.attribute," vec2 uv;\n ").concat(t.varyingVs," vec2 resultUV;\n\n void main() {\n gl_Position = vec4(clipSpacePos, 1);\n resultUV = uv;\n }");return u.createVertexShader(e,r)}function p(e){var t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return u.createStaticVertexBuffer(e,t)}function f(e){var t=new Uint16Array([0,1,2,2,1,3]);return u.createStaticIndexBuffer(e,t)}function d(e,t,r,n,a,o){u.validateTextureSize(t,r);var i=u.createTexture(e),c=e.TEXTURE_2D;return u.callAndCheck(e,function(){return e.bindTexture(c,i)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST)}),u.callAndCheck(e,function(){return e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST)}),1===(0,s.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texImage2D(c,0,n,t,r,0,a,o,null)}):u.callAndCheck(e,function(){return e.texStorage2D(c,1,n,t,r)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)}),{texture:i,texShape:[r,t]}}function h(e){return e.internalFormatFloat}function m(e,t,r,n){var a=(0,o._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],h(n),n.textureFormatFloat,e.FLOAT)}function g(e){return e.internalFormatHalfFloat}function v(e,t,r,n){var a=(0,o._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],g(n),n.textureFormatFloat,n.textureTypeHalfFloat)}function _(e){return e.downloadTextureFormat}function x(e,t,r,n){var a=(0,o._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],_(n),e.RGBA,e.UNSIGNED_BYTE)}function y(e){return e.internalFormatPackedFloat}function b(e,t,r,n){var a=(0,o._)(c.getPackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],y(n),e.RGBA,e.FLOAT)}function k(e){return e.internalFormatPackedHalfFloat}function j(e,t,r,n){var a=(0,o._)(c.getPackedMatrixTextureShapeWidthHeight(t,r),2);return d(e,a[0],a[1],k(n),e.RGBA,n.textureTypeHalfFloat)}function w(e,t,r){return u.callAndCheck(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),u.bindVertexBufferToProgramAttribute(e,t,"clipSpacePos",r,3,20,0)&&u.bindVertexBufferToProgramAttribute(e,t,"uv",r,2,20,12)}function S(e,t,r,n,a,o){var i,c,l;u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),a instanceof Uint8Array?(i=new Uint8Array(r*n*4),c=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(r*n*4),c=e.FLOAT,l=o.internalFormatPackedFloat),i.set(a),2===(0,s.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,r,n,e.RGBA,c,i)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,n,0,e.RGBA,c,i)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function I(e,t,r){u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,t)}),r.data instanceof Uint8Array?2===(0,s.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,e.RGBA,e.UNSIGNED_BYTE,r.data)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):2===(0,s.env)().getNumber("WEBGL_VERSION")?u.callAndCheck(e,function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,r)}):u.callAndCheck(e,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),u.callAndCheck(e,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function T(e,t,r,n){var a=e.createBuffer();u.callAndCheck(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var o=16*t*r;return u.callAndCheck(e,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),u.callAndCheck(e,function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,0)}),u.callAndCheck(e,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function N(e,t,r){var n=new Float32Array(r);return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,n),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),n}function C(e,t,r,n){var a=(0,o._)(c.getUnpackedMatrixTextureShapeWidthHeight(t,r),2),s=a[0],i=a[1],l=new Uint8Array(c.getUnpackedArraySizeFromMatrixSize(t*r,4));return u.callAndCheck(e,function(){return e.readPixels(0,0,s,i,n.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function E(e,t,r,n,a,o,s,i){var u=new Float32Array(c.getPackedRGBAArraySizeFromMatrixShape(o,s));return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,u),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),u}function F(e,t,r){var n=new Float32Array(t*r*4);return u.callAndCheck(e,function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,n)}),n}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./glsl_version":"qEJnc","./tex_util":"jagEL","./webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5N8x3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addImplCPU",function(){return s}),a.export(r,"bincountImplCPU",function(){return i}),a.export(r,"bincountReduceImplCPU",function(){return c}),a.export(r,"bitwiseAndImplCPU",function(){return u}),a.export(r,"castImplCPU",function(){return l}),a.export(r,"ceilImplCPU",function(){return p}),a.export(r,"concatImplCPU",function(){return f}),a.export(r,"equalImplCPU",function(){return d}),a.export(r,"expImplCPU",function(){return h}),a.export(r,"expm1ImplCPU",function(){return m}),a.export(r,"floorImplCPU",function(){return g}),a.export(r,"gatherNdImplCPU",function(){return v}),a.export(r,"gatherV2ImplCPU",function(){return _}),a.export(r,"greaterEqualImplCPU",function(){return y}),a.export(r,"greaterImplCPU",function(){return x}),a.export(r,"lessEqualImplCPU",function(){return k}),a.export(r,"lessImplCPU",function(){return b}),a.export(r,"linSpaceImplCPU",function(){return j}),a.export(r,"logImplCPU",function(){return w}),a.export(r,"maxImplCPU",function(){return S}),a.export(r,"maximumImplCPU",function(){return I}),a.export(r,"minimumImplCPU",function(){return T}),a.export(r,"multiplyImplCPU",function(){return N}),a.export(r,"negImplCPU",function(){return C}),a.export(r,"notEqualImplCPU",function(){return E}),a.export(r,"prodImplCPU",function(){return F}),a.export(r,"raggedGatherImplCPU",function(){return A}),a.export(r,"raggedRangeImplCPU",function(){return P}),a.export(r,"raggedTensorToTensorImplCPU",function(){return R}),a.export(r,"scatterImplCPU",function(){return O}),a.export(r,"sigmoidImplCPU",function(){return L}),a.export(r,"simpleAbsImplCPU",function(){return V}),a.export(r,"sliceImplCPU",function(){return U}),a.export(r,"sparseFillEmptyRowsImplCPU",function(){return B}),a.export(r,"sparseReshapeImplCPU",function(){return z}),a.export(r,"sparseSegmentReductionImplCPU",function(){return G}),a.export(r,"sqrtImplCPU",function(){return W}),a.export(r,"staticRegexReplaceImplCPU",function(){return q}),a.export(r,"stridedSliceImplCPU",function(){return H}),a.export(r,"stringNGramsImplCPU",function(){return Z}),a.export(r,"stringSplitImplCPU",function(){return K}),a.export(r,"stringToHashBucketFastImplCPU",function(){return X}),a.export(r,"subImplCPU",function(){return Y}),a.export(r,"rangeImplCPU",function(){return D}),a.export(r,"rsqrtImplCPU",function(){return M}),a.export(r,"tileImplCPU",function(){return J}),a.export(r,"topKImplCPU",function(){return Q}),a.export(r,"transposeImplCPU",function(){return $}),a.export(r,"uniqueImplCPU",function(){return ee});var o=e("@tensorflow/tfjs-backend-cpu/dist/shared"),s=o.addImpl,i=o.bincountImpl,c=o.bincountReduceImpl,u=o.bitwiseAndImpl,l=o.castImpl,p=o.ceilImpl,f=o.concatImpl,d=o.equalImpl,h=o.expImpl,m=o.expm1Impl,g=o.floorImpl,v=o.gatherNdImpl,_=o.gatherV2Impl,x=o.greaterImpl,y=o.greaterEqualImpl,b=o.lessImpl,k=o.lessEqualImpl,j=o.linSpaceImpl,w=o.logImpl,S=o.maxImpl,I=o.maximumImpl,T=o.minimumImpl,N=o.multiplyImpl,C=o.negImpl,E=o.notEqualImpl,F=o.prodImpl,A=o.raggedGatherImpl,P=o.raggedRangeImpl,R=o.raggedTensorToTensorImpl,D=o.rangeImpl,M=o.rsqrtImpl,O=o.scatterImpl,L=o.sigmoidImpl,V=o.simpleAbsImpl,U=o.sliceImpl,B=o.sparseFillEmptyRowsImpl,z=o.sparseReshapeImpl,G=o.sparseSegmentReductionImpl,W=o.sqrtImpl,q=o.staticRegexReplaceImpl,H=o.stridedSliceImpl,Z=o.stringNGramsImpl,K=o.stringSplitImpl,X=o.stringToHashBucketFastImpl,Y=o.subImpl,J=o.tileImpl,Q=o.topKImpl,$=o.transposeImpl,ee=o.uniqueImpl},{"@tensorflow/tfjs-backend-cpu/dist/shared":"hXFxE","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hXFxE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"simpleAbsImpl",function(){return o.simpleAbsImpl}),a.export(r,"addImpl",function(){return s.addImpl}),a.export(r,"bincountImpl",function(){return i.bincountImpl}),a.export(r,"bincountReduceImpl",function(){return i.bincountReduceImpl}),a.export(r,"bitwiseAndImpl",function(){return c.bitwiseAndImpl}),a.export(r,"castImpl",function(){return u.castImpl}),a.export(r,"ceilImpl",function(){return l.ceilImpl}),a.export(r,"concatImpl",function(){return p.concatImpl}),a.export(r,"equalImpl",function(){return f.equalImpl}),a.export(r,"expImpl",function(){return d.expImpl}),a.export(r,"expm1Impl",function(){return h.expm1Impl}),a.export(r,"floorImpl",function(){return m.floorImpl}),a.export(r,"floorDivImpl",function(){return g.floorDivImpl}),a.export(r,"gatherNdImpl",function(){return v.gatherNdImpl}),a.export(r,"gatherV2Impl",function(){return _.gatherV2Impl}),a.export(r,"greaterImpl",function(){return x.greaterImpl}),a.export(r,"greaterEqualImpl",function(){return y.greaterEqualImpl}),a.export(r,"lessImpl",function(){return b.lessImpl}),a.export(r,"lessEqualImpl",function(){return k.lessEqualImpl}),a.export(r,"linSpaceImpl",function(){return j.linSpaceImpl}),a.export(r,"logImpl",function(){return w.logImpl}),a.export(r,"maxImpl",function(){return S.maxImpl}),a.export(r,"maximumImpl",function(){return I.maximumImpl}),a.export(r,"minimumImpl",function(){return T.minimumImpl}),a.export(r,"multiplyImpl",function(){return N.multiplyImpl}),a.export(r,"negImpl",function(){return C.negImpl}),a.export(r,"notEqualImpl",function(){return E.notEqualImpl}),a.export(r,"prodImpl",function(){return F.prodImpl}),a.export(r,"raggedGatherImpl",function(){return A.raggedGatherImpl}),a.export(r,"raggedRangeImpl",function(){return P.raggedRangeImpl}),a.export(r,"raggedTensorToTensorImpl",function(){return R.raggedTensorToTensorImpl}),a.export(r,"rangeImpl",function(){return D.rangeImpl}),a.export(r,"rsqrtImpl",function(){return M.rsqrtImpl}),a.export(r,"scatterImpl",function(){return O.scatterImpl}),a.export(r,"sigmoidImpl",function(){return L.sigmoidImpl}),a.export(r,"sliceImpl",function(){return V.sliceImpl}),a.export(r,"sparseFillEmptyRowsImpl",function(){return U.sparseFillEmptyRowsImpl}),a.export(r,"sparseReshapeImpl",function(){return B.sparseReshapeImpl}),a.export(r,"sparseSegmentReductionImpl",function(){return z.sparseSegmentReductionImpl}),a.export(r,"sqrtImpl",function(){return G.sqrtImpl}),a.export(r,"squaredDifferenceImpl",function(){return W.squaredDifferenceImpl}),a.export(r,"staticRegexReplaceImpl",function(){return q.staticRegexReplaceImpl}),a.export(r,"stridedSliceImpl",function(){return H.stridedSliceImpl}),a.export(r,"stringNGramsImpl",function(){return Z.stringNGramsImpl}),a.export(r,"stringSplitImpl",function(){return K.stringSplitImpl}),a.export(r,"stringToHashBucketFastImpl",function(){return X.stringToHashBucketFastImpl}),a.export(r,"subImpl",function(){return Y.subImpl}),a.export(r,"tileImpl",function(){return J.tileImpl}),a.export(r,"topKImpl",function(){return Q.topKImpl}),a.export(r,"transposeImpl",function(){return $.transposeImpl}),a.export(r,"uniqueImpl",function(){return ee.uniqueImpl});var o=e("./kernels/Abs"),s=e("./kernels/Add"),i=e("./kernels/Bincount_impl"),c=e("./kernels/BitwiseAnd"),u=e("./kernels/Cast"),l=e("./kernels/Ceil"),p=e("./kernels/Concat_impl"),f=e("./kernels/Equal"),d=e("./kernels/Exp"),h=e("./kernels/Expm1"),m=e("./kernels/Floor"),g=e("./kernels/FloorDiv"),v=e("./kernels/GatherNd_Impl"),_=e("./kernels/GatherV2_impl"),x=e("./kernels/Greater"),y=e("./kernels/GreaterEqual"),b=e("./kernels/Less"),k=e("./kernels/LessEqual"),j=e("./kernels/LinSpace_impl"),w=e("./kernels/Log"),S=e("./kernels/Max_impl"),I=e("./kernels/Maximum"),T=e("./kernels/Minimum"),N=e("./kernels/Multiply"),C=e("./kernels/Neg"),E=e("./kernels/NotEqual"),F=e("./kernels/Prod"),A=e("./kernels/RaggedGather_impl"),P=e("./kernels/RaggedRange_impl"),R=e("./kernels/RaggedTensorToTensor_impl"),D=e("./kernels/Range_impl"),M=e("./kernels/Rsqrt"),O=e("./kernels/Scatter_impl"),L=e("./kernels/Sigmoid"),V=e("./kernels/Slice"),U=e("./kernels/SparseFillEmptyRows_impl"),B=e("./kernels/SparseReshape_impl"),z=e("./kernels/SparseSegmentReduction_impl"),G=e("./kernels/Sqrt"),W=e("./kernels/SquaredDifference"),q=e("./kernels/StaticRegexReplace"),H=e("./kernels/StridedSlice_impl"),Z=e("./kernels/StringNGrams_impl"),K=e("./kernels/StringSplit_impl"),X=e("./kernels/StringToHashBucketFast_impl"),Y=e("./kernels/Sub"),J=e("./kernels/Tile_impl"),Q=e("./kernels/TopK_impl"),$=e("./kernels/Transpose_impl"),ee=e("./kernels/Unique_impl")},{"./kernels/Abs":"cdJYF","./kernels/Add":"c644D","./kernels/Bincount_impl":"bFzaa","./kernels/BitwiseAnd":"98L64","./kernels/Cast":"frZja","./kernels/Ceil":"5HoAP","./kernels/Concat_impl":"ecYxT","./kernels/Equal":"5rwFz","./kernels/Exp":"2rIvJ","./kernels/Expm1":"1AKSa","./kernels/Floor":"24RO3","./kernels/FloorDiv":"bHhA2","./kernels/GatherNd_Impl":"kdGnX","./kernels/GatherV2_impl":"7K74R","./kernels/Greater":"6j6vC","./kernels/GreaterEqual":"50Djz","./kernels/Less":"KtKVI","./kernels/LessEqual":"cHyvK","./kernels/LinSpace_impl":"k5EMU","./kernels/Log":"kdGS9","./kernels/Max_impl":"aPeNP","./kernels/Maximum":"kz7F4","./kernels/Minimum":"1n9b0","./kernels/Multiply":"7VqTl","./kernels/Neg":"bTovl","./kernels/NotEqual":"8PmXt","./kernels/Prod":"86hgC","./kernels/RaggedGather_impl":"l2jss","./kernels/RaggedRange_impl":"eLh3J","./kernels/RaggedTensorToTensor_impl":"iJqDs","./kernels/Range_impl":"iwBy3","./kernels/Rsqrt":"SfuRF","./kernels/Scatter_impl":"73Ols","./kernels/Sigmoid":"jHdzc","./kernels/Slice":"iDxWd","./kernels/SparseFillEmptyRows_impl":"jkWia","./kernels/SparseReshape_impl":"5Wb0v","./kernels/SparseSegmentReduction_impl":"b035V","./kernels/Sqrt":"lDU8i","./kernels/SquaredDifference":"apPRv","./kernels/StaticRegexReplace":"2gqBP","./kernels/StridedSlice_impl":"jnM1U","./kernels/StringNGrams_impl":"8EtHw","./kernels/StringSplit_impl":"jn5zy","./kernels/StringToHashBucketFast_impl":"f0pOh","./kernels/Sub":"jG0ti","./kernels/Tile_impl":"bK8zP","./kernels/TopK_impl":"bBgHE","./kernels/Transpose_impl":"flS1X","./kernels/Unique_impl":"8lLtN","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cdJYF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"simpleAbsImpl",function(){return i}),a.export(r,"abs",function(){return c}),a.export(r,"absConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){for(var t=new Float32Array(e.length),r=0;r<e.length;++r)t[r]=Math.abs(e[r]);return t}var c=function(e){var t=e.inputs.x,r=e.backend;(0,s.assertNotComplex)(t,"abs");var n=new Float32Array(o.util.sizeFromShape(t.shape));return n=i(r.data.get(t.dataId).values),r.makeOutput(n,t.shape,t.dtype)},u={kernelName:o.Abs,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],j3IPL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertNotComplex",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&o.util.assert("complex64"!==e.dtype,function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")})})}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c644D:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addImpl",function(){return c}),a.export(r,"addComplexImpl",function(){return u}),a.export(r,"add",function(){return l}),a.export(r,"addConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e+t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e+r,imag:t+n}}),l=(0,i.binaryKernelFunc)(o.Add,c,u),p={kernelName:o.Add,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6UPuq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createSimpleBinaryKernelImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e){return function(t,r,n,a,s){var i=o.backend_util.assertAndGetBroadcastShape(t,r),c=i.length,u=o.util.computeStrides(i),l=o.util.sizeFromShape(i),p=o.util.getTypedArrayFromDType(s,l),f=t.length,d=r.length,h=o.util.computeStrides(t),m=o.util.computeStrides(r),g=o.backend_util.getBroadcastDims(t,i),v=o.backend_util.getBroadcastDims(r,i);if(g.length+v.length===0)for(var _=0;_<p.length;++_)p[_]=e(n[_%n.length],a[_%a.length]);else for(var x=0;x<p.length;++x)!function(t){var r=o.util.indexToLoc(t,c,u),s=r.slice(-f);g.forEach(function(e){return s[e]=0});var i=o.util.locToIndex(s,f,h),l=r.slice(-d);v.forEach(function(e){return l[e]=0});var _=o.util.locToIndex(l,d,m);p[t]=e(n[i],a[_])}(x);return[p,i]}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6Q9Nd":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"binaryKernelFunc",function(){return l}),a.export(r,"createComplexBinaryKernelImpl",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("../kernels/Cast"),u=e("../kernels/Complex");function l(e,t,r,n){return null==r?function(r){var a=r.inputs,c=r.backend,u=a.a,l=a.b;(0,i.assertNotComplex)([u,l],e);var p=c.data.get(u.dataId).values,f=c.data.get(l.dataId).values,d="string"===u.dtype?s.backend_util.fromUint8ToStringArray(p):p,h="string"===u.dtype?s.backend_util.fromUint8ToStringArray(f):f,m=n||u.dtype,g=(0,o._)(t(u.shape,l.shape,d,h,m),2),v=g[0],_=g[1];return c.makeTensorInfo(_,m,v)}:function(e){var a=e.inputs,s=e.backend,i=a.a,l=a.b;if("complex64"===i.dtype||"complex64"===l.dtype){var p=(0,c.cast)({inputs:{x:i},backend:s,attrs:{dtype:"complex64"}}),f=s.data.get(p.dataId),d=f.complexTensorInfos.real,h=f.complexTensorInfos.imag,m=s.data.get(d.dataId).values,g=s.data.get(h.dataId).values,v=(0,c.cast)({inputs:{x:l},backend:s,attrs:{dtype:"complex64"}}),_=s.data.get(v.dataId),x=_.complexTensorInfos.real,y=_.complexTensorInfos.imag,b=s.data.get(x.dataId).values,k=s.data.get(y.dataId).values,j=(0,o._)(r(i.shape,l.shape,m,g,b,k),3),w=j[0],S=j[1],I=j[2],T=s.makeTensorInfo(I,"float32",w),N=s.makeTensorInfo(I,"float32",S),C=(0,u.complex)({inputs:{real:T,imag:N},backend:s});return s.disposeIntermediateTensorInfo(p),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(N),C}var E=s.data.get(i.dataId).values,F=s.data.get(l.dataId).values,A=n||i.dtype,P=(0,o._)(t(i.shape,l.shape,E,F,A),2),R=P[0],D=P[1];return s.makeTensorInfo(D,A,R)}}function p(e){return function(t,r,n,a,o,i){var c=s.backend_util.assertAndGetBroadcastShape(t,r),u=s.util.sizeFromShape(c),l=c.length,p=s.util.computeStrides(c),f=s.util.getTypedArrayFromDType("float32",u),d=s.util.getTypedArrayFromDType("float32",u),h=s.backend_util.getBroadcastDims(t,c),m=s.backend_util.getBroadcastDims(r,c),g=s.backend_util.mergeRealAndImagArrays(n,a),v=s.backend_util.mergeRealAndImagArrays(o,i),_=t.length,x=s.util.computeStrides(t),y=r.length,b=s.util.computeStrides(r);if(h.length+m.length===0)for(var k=0;k<f.length;k++){var j=k%g.length,w=k%v.length,S=e(g[2*j],g[2*j+1],v[2*w],v[2*w+1]);f[k]=S.real,d[k]=S.imag}else for(var I=0;I<f.length;I++)!function(t){var r=s.util.indexToLoc(t,l,p),n=r.slice(-_);h.forEach(function(e){return n[e]=0});var a=s.util.locToIndex(n,_,x),o=r.slice(-y);m.forEach(function(e){return o[e]=0});var i=s.util.locToIndex(o,y,b),c=e(g[2*a],g[2*a+1],v[2*i],v[2*i+1]);f[t]=c.real,d[t]=c.imag}(I);return[f,d,c]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../kernels/Cast":"frZja","../kernels/Complex":"lGfJq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],frZja:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"castImpl",function(){return f}),a.export(r,"cast",function(){return d}),a.export(r,"castConfig",function(){return h});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../utils/binary_impl"),c=e("../utils/zeros_impl"),u=e("./Complex"),l=e("./Identity"),p=e("./Real");function f(e,t,r,n){if("int32"===n)return[t,"int32",Int32Array.from(e)];if("bool"===n){var a=s.util.toTypedArray([0],r),c=(0,o._)((0,i.createSimpleBinaryKernelImpl)(function(e,t){return+(e!==t)})(t,[],e,a,"bool"),2),u=c[0];return[c[1],"bool",u]}throw Error("Error in Cast: failed to cast ".concat(r," to ").concat(n))}function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.dtype;if("complex64"===i){if("complex64"===a.dtype)return(0,l.identity)({inputs:{x:a},backend:r});var h=(0,c.zeros)(r,a.shape,a.dtype),m=d({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),g=(0,u.complex)({inputs:{real:m,imag:h},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),g}if("complex64"===a.dtype){var v=(0,p.real)({inputs:{input:a},backend:r}),_=d({inputs:{x:v},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(v),_}if(!s.util.hasEncodingLoss(a.dtype,i)){var x=(0,l.identity)({inputs:{x:a},backend:r});return{dataId:x.dataId,shape:x.shape,dtype:i}}var y=r.data.get(a.dataId).values,b=(0,o._)(f(y,a.shape,a.dtype,i),3),k=b[0],j=b[1],w=b[2];return r.makeTensorInfo(k,j,w)}var h={kernelName:s.Cast,backendName:"cpu",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/zeros_impl":"gOtVQ","./Complex":"lGfJq","./Identity":"egCYs","./Real":"6qlpK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gOtVQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zeros",function(){return function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var a=e(t,r,"float32"),i=e(t,r,"float32");return(0,s.complex)({inputs:{real:a,imag:i},backend:t})}var c=o.util.makeZerosTypedArray(o.util.sizeFromShape(r),n);return t.makeTensorInfo(r,n,c)}});var o=e("@tensorflow/tfjs-core"),s=e("../kernels/Complex")},{"@tensorflow/tfjs-core":"1q0U8","../kernels/Complex":"lGfJq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lGfJq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=e.inputs,r=e.backend,n=t.real,a=t.imag,o=r.data.get(n.dataId).values,s=r.data.get(a.dataId).values,i=r.makeTensorInfo(n.shape,"complex64");return r.data.get(i.dataId).complexTensorInfos={real:r.makeTensorInfo(n.shape,"float32",o),imag:r.makeTensorInfo(a.shape,"float32",s)},i}a.defineInteropFlag(r),a.export(r,"complex",function(){return o}),a.export(r,"complexConfig",function(){return s});var s={kernelName:e("@tensorflow/tfjs-core").Complex,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],egCYs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=e.inputs,r=e.backend,n=t.x;return r.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}a.defineInteropFlag(r),a.export(r,"identity",function(){return o}),a.export(r,"identityConfig",function(){return s});var s={kernelName:e("@tensorflow/tfjs-core").Identity,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6qlpK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=e.inputs,r=e.backend,n=t.input,a=r.data.get(n.dataId).complexTensorInfos.real,o=r.data.get(a.dataId).values;return r.makeTensorInfo(a.shape,a.dtype,o)}a.defineInteropFlag(r),a.export(r,"real",function(){return o}),a.export(r,"realConfig",function(){return s});var s={kernelName:e("@tensorflow/tfjs-core").Real,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bFzaa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincountImpl",function(){return s}),a.export(r,"bincountReduceImpl",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a){for(var s=o.util.sizeFromShape(n),i=o.util.makeZerosTypedArray(a,r),c=0;c<e.length;c++){var u=e[c];if(u<0)throw Error("Input x must be non-negative!");u>=a||(s>0?i[u]+=t[c]:i[u]+=1)}return i}function i(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],s=e.shape[1],i=(0,o.buffer)([a,r],t.dtype),c=0;c<a;c++)for(var u=0;u<s;u++){var l=e.get(c,u);if(l<0)throw Error("Input x must be non-negative!");l>=r||(n?i.set(1,c,l):t.size>0?i.set(i.get(c,l)+t.get(c,u),c,l):i.set(i.get(c,l)+1,c,l))}return i}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"98L64":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bitwiseAndImpl",function(){return c}),a.export(r,"bitwiseAnd",function(){return u}),a.export(r,"bitwiseAndConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e&t}),u=(0,i.binaryKernelFunc)(o.BitwiseAnd,c),l={kernelName:o.BitwiseAnd,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5HoAP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceilImpl",function(){return c}),a.export(r,"ceil",function(){return u}),a.export(r,"ceilConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.ceil(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Ceil,c),l={kernelName:o.Ceil,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iMrdh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"createSimpleUnaryImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e){return function(t,r,n){for(var a=o.util.getArrayFromDType(r,t.length),s=0;s<t.length;++s)a[s]=e(t[s],n);return a}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3jjTJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unaryKernelFunc",function(){return c}),a.export(r,"unaryKernelFuncFromImpl",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./unary_impl");function c(e,t,r){return u(e,(0,i.createSimpleUnaryImpl)(t),r)}function u(e,t,r){return function(n){var a,i=n.inputs,c=n.attrs,u=n.backend,l=i.x;(0,s.assertNotComplex)(l,e);var p=u.data.get(l.dataId).values;if("string"===l.dtype){if(!Array.isArray(p))throw Error("String tensor's value was not an instance of Array");a=o.backend_util.fromUint8ToStringArray(p)}else a=p;var f=r||l.dtype,d=t(a,f,c);return u.makeTensorInfo(l.shape,f,d)}}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./unary_impl":"iMrdh","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ecYxT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concatImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n){var a=o.util.getArrayFromDType(r,o.util.sizeFromShape(t));if(n&&"string"!==r){var s=0;e.forEach(function(e){var t=o.util.sizeFromShape(e.shape);a.set(e.vals,s),s+=t})}else{var i=0;e.forEach(function(e){for(var n="string"===r?o.backend_util.fromUint8ToStringArray(e.vals):e.vals,s=0,c=0;c<e.shape[0];++c)for(var u=c*t[1]+i,l=0;l<e.shape[1];++l)a[u+l]=n[s++];i+=e.shape[1]})}return a}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5rwFz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equalImpl",function(){return c}),a.export(r,"equal",function(){return u}),a.export(r,"equalConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e===t)}),u=(0,i.binaryKernelFunc)(o.Equal,c,null,"bool"),l={kernelName:o.Equal,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2rIvJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expImpl",function(){return c}),a.export(r,"exp",function(){return u}),a.export(r,"expConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.exp(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Exp,c,"float32"),l={kernelName:o.Exp,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1AKSa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1Impl",function(){return c}),a.export(r,"expm1",function(){return u}),a.export(r,"expm1Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.expm1(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Expm1,c),l={kernelName:o.Expm1,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"24RO3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorImpl",function(){return c}),a.export(r,"floor",function(){return u}),a.export(r,"floorConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.floor(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Floor,c),l={kernelName:o.Floor,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bHhA2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDivImpl",function(){return c}),a.export(r,"floorDiv",function(){return u}),a.export(r,"floorDivConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return Math.floor(e/t)}),u=(0,i.binaryKernelFunc)(o.FloorDiv,c,null,"int32"),l={kernelName:o.FloorDiv,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kdGnX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNdImpl",function(){return i});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e,t,r,n,a,i,c,u,l){for(var p=(0,s.buffer)([n,i],r),f=0;f<n;f++){for(var d=[],h=0,m=0;m<a;m++){var g=e[f*a+m];h+=g*c[m],d.push(g)}if(h<0||h>=l/i)throw Error("Invalid indices: ".concat(d," does not index into ").concat(u));for(var v=0;v<i;v++)p.values[f*i+v]=t.get.apply(t,(0,o._)(t.indexToLoc(h*i+v)))}return p}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7K74R":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2Impl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r){for(var n=(0,o.buffer)(r,e.dtype),a=0;a<n.size;++a){var s=n.indexToLoc(a).slice(),i=s[0],c=s[2],u=t.locToIndex([i,c]);s[2]=t.values[u];var l=e.locToIndex(s);0<=l&&l<e.values.length&&(n.values[a]=e.values[l])}return n}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6j6vC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterImpl",function(){return c}),a.export(r,"greater",function(){return u}),a.export(r,"greaterConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e>t)}),u=(0,i.binaryKernelFunc)(o.Greater,c,null,"bool"),l={kernelName:o.Greater,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"50Djz":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqualImpl",function(){return c}),a.export(r,"greaterEqual",function(){return u}),a.export(r,"greaterEqualConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e>=t)}),u=(0,i.binaryKernelFunc)(o.GreaterEqual,c,null,"bool"),l={kernelName:o.GreaterEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],KtKVI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessImpl",function(){return c}),a.export(r,"less",function(){return u}),a.export(r,"lessConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e<t)}),u=(0,i.binaryKernelFunc)(o.Less,c,null,"bool"),l={kernelName:o.Less,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cHyvK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lessEqualImpl",function(){return c}),a.export(r,"lessEqual",function(){return u}),a.export(r,"lessEqualConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e<=t)}),u=(0,i.binaryKernelFunc)(o.LessEqual,c,null,"bool"),l={kernelName:o.LessEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k5EMU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpaceImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r){var n=(t-e)/(r-1),a=o.util.makeZerosTypedArray(r,"float32");a[0]=e;for(var s=1;s<a.length;s++)a[s]=a[s-1]+n;return a}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kdGS9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logImpl",function(){return c}),a.export(r,"log",function(){return u}),a.export(r,"logConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.log(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Log,c),l={kernelName:o.Log,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aPeNP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n){for(var a=o.util.getTypedArrayFromDType(n,o.util.sizeFromShape(r)),s=0;s<a.length;++s){for(var i=s*t,c=e[i],u=0;u<t;++u){var l=e[i+u];(Number.isNaN(l)||l>c)&&(c=l)}a[s]=c}return a}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kz7F4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximumImpl",function(){return c}),a.export(r,"maximum",function(){return u}),a.export(r,"maximumConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return Math.max(e,t)}),u=(0,i.binaryKernelFunc)(o.Maximum,c),l={kernelName:o.Maximum,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1n9b0":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimumImpl",function(){return c}),a.export(r,"minimum",function(){return u}),a.export(r,"minimumConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return Math.min(e,t)}),u=(0,i.binaryKernelFunc)(o.Minimum,c),l={kernelName:o.Minimum,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7VqTl":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiplyImpl",function(){return c}),a.export(r,"multiplyComplexImpl",function(){return u}),a.export(r,"multiply",function(){return l}),a.export(r,"multiplyConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e*t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e*r-t*n,imag:e*n+t*r}}),l=(0,i.binaryKernelFunc)(o.Multiply,c,u),p={kernelName:o.Multiply,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bTovl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"negImpl",function(){return u}),a.export(r,"neg",function(){return l}),a.export(r,"negConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Multiply");function u(e,t,r){var n=s.util.createScalarValue(-1,r);return(0,c.multiplyImpl)([],t,n,e,r)}function l(e){var t=e.inputs,r=e.backend,n=t.x;(0,i.assertNotComplex)(n,"neg");var a=r.data.get(n.dataId).values,s=(0,o._)(u(a,n.shape,n.dtype),2),c=s[0],l=s[1];return r.makeTensorInfo(l,n.dtype,c)}var p={kernelName:s.Neg,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Multiply":"7VqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8PmXt":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqualImpl",function(){return c}),a.export(r,"notEqual",function(){return u}),a.export(r,"notEqualConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return+(e!==t)}),u=(0,i.binaryKernelFunc)(o.NotEqual,c,null,"bool"),l={kernelName:o.NotEqual,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"86hgC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prodImpl",function(){return u}),a.export(r,"prod",function(){return l}),a.export(r,"prodConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e,t,r,n){for(var a=(0,o._)(s.backend_util.computeOutAndReduceShapes(e,n),2),i=a[0],c=a[1],u=(0,s.upcastType)(t,"int32"),l=s.util.makeZerosTypedArray(s.util.sizeFromShape(i),u),p=s.util.sizeFromShape(c),f=0;f<l.length;++f){for(var d=f*p,h=1,m=0;m<p;++m)h*=r[d+m];l[f]=h}return{outVals:l,outShape:i,outDtype:u}}function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.axis,l=n.keepDims;(0,i.assertNotComplex)(a,"prod");var p=a.shape.length,f=s.util.parseAxisParam(o,a.shape),d=s.backend_util.getAxesPermutation(f,p),h=f,m=a,g=[];null!=d&&(g.push(m=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:d}})),h=s.backend_util.getInnerMostAxes(h.length,p));var v=r.data.get(m.dataId).values,_=u(m.shape,m.dtype,v,h),x=_.outVals,y=_.outShape,b=_.outDtype,k=y;return l&&(k=s.backend_util.expandShapeToKeepDim(y,f)),g.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(k,b,x)}var p={kernelName:s.Prod,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4bepV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return c}),a.export(r,"transposeConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Transpose_impl");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,o=r.perm;(0,s.assertNotComplex)(a,"transpose");for(var c=Array(a.shape.length),u=0;u<c.length;u++)c[u]=a.shape[o[u]];var l=n.data.get(a.dataId).values,p=(0,i.transposeImpl)(l,a.shape,a.dtype,o,c);return{dataId:n.write(p,c,a.dtype),shape:c,dtype:a.dtype}}var u={kernelName:o.Transpose,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose_impl":"flS1X","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],flS1X:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transposeImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a){for(var s=t.length,i=o.util.sizeFromShape(t),c=o.util.computeStrides(t),u=o.util.computeStrides(a),l=o.util.getTypedArrayFromDType(r,o.util.sizeFromShape(a)),p=0;p<i;++p){for(var f=o.util.indexToLoc(p,s,c),d=Array(f.length),h=0;h<d.length;h++)d[h]=f[n[h]];l[o.util.locToIndex(d,s,u)]=e[p]}return l}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l2jss:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGatherImpl",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e,t){for(var r=e.slice(0,t);r.length<t;)r.push(1);for(var n=t;n<e.length;n++)r[t-1]*=e[n];return r}function i(e,t,r,n,a,i,c,u){if(0===e.length)throw Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw Error("Split tensors must not be scalars");var l,p,f,d,h=t[0][0]-1;if(i.forEach(function(e,t){if(e<0||e>=h){var r=o.util.indexToLoc(t,c.length,o.util.computeStrides(c)).join(",");throw Error("indices[".concat(r,"] = ").concat(e," is not in [0, ").concat(h,")"))}}),0===n.length)throw Error("params.rank must be nonzero");var m=function(e,t,r,n){for(var a=[],o=0,s=Array(t.length-1+r.length).fill(null).map(function(){return[0]}),i=0;i<r.length;++i){var c=r[i],u=i===r.length-1?n:r[i+1].length;if(0===c.length)throw Error("Ragged splits may not be empty");if(c[0]<0)throw Error("Ragged splits must be non-negative");if(c[c.length-1]>u)throw Error("Ragged splits must not point past values");for(var l=1;l<c.length;++l)if(c[l-1]>c[l])throw Error("Ragged splits must be sorted in ascending order")}for(var p=1,f=0;f<t.length-1;++f){p*=t[f];for(var d=t[f+1],h=1;h<p+1;++h)s[f].push(h*d)}for(var m=0;m<e.length;++m){for(var g=e[m],v=e[m]+1,_=0;_<r.length;++_){var x=r[_],y=_+t.length-1;if(y>=0)for(var b=s[y],k=b[b.length-1]-x[g],j=g;j<v;++j)s[y].push(x[j+1]+k);g=x[g],v=x[v]}v!==g&&(a.push([g,v]),o+=v-g)}return{outSplits:s,valueSlices:a,numValues:o}}(i,c,e,n[0]),g=m.outSplits,v=m.valueSlices,_=m.numValues,x=function(e){for(var t=[],r=0;r<e.length;++r)!function(r){var n=e[r].length,a=o.util.getArrayFromDType("int32",n);t.push(a),e[r].forEach(function(e,t){return a[t]=e})}(r);return t}(g),y=((l=n.slice())[0]=_,p=o.util.getArrayFromDType(a,o.util.sizeFromShape(l)),d=0===(f=r.length)?0:f/n[0],!function(e,t,r,n,a,o){var i=s(t,2)[1],c=s(o,2)[1],u=0,l=!0,p=!1,f=void 0;try{for(var d,h=r[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)for(var m=d.value,g=m[0];g<m[1];++g){for(var v=0;v<n;++v)a[u*c+v]=e[g*i+v];++u}}catch(e){p=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(p)throw f}}}(r,n,v,d,p,l),[p,l]);return[x,y[0],y[1]]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eLh3J:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRangeImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a,s,i){if(t.length>1)throw Error("starts must be a scalar or vector");if(a.length>1)throw Error("limits must be a scalar or vector");if(i.length>1)throw Error("deltas must be a scalar or vector");var c=0===t.length,u=0===a.length,l=0===i.length,p=[];c||p.push(t[0]),u||p.push(a[0]),l||p.push(i[0]);for(var f=1;f<p.length;++f)if(p[f]!==p[f-1])throw Error("starts, limits, and deltas must have the same shape");var d=0===p.length?1:p[0],h=o.util.getArrayFromDType("int32",d+1);h[0]=0;for(var m=0;m<d;++m){var g=c?e[0]:e[m],v=u?n[0]:n[m],_=l?s[0]:s[m];if(0===_)throw Error("Requires delta != 0");var x=void 0;if(_>0&&v<g||_<0&&v>g)x=0;else if((x=Math.ceil(Math.abs((v-g)/_)))>0x7fffffff)throw Error("Requires ((limit - start) / delta)<= ".concat(0x7fffffff));h[m+1]=h[m]+x}for(var y=h[d],b=o.util.getArrayFromDType(r,y),k=0,j=0;j<d;++j)for(var w=h[j+1]-h[j],S=c?e[0]:e[j],I=l?s[0]:s[j],T=0;T<w;++T)b[k++]=S,S+=I;return[h,b]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iJqDs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensorImpl",function(){return f});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@tensorflow/tfjs-core"),c=i.backend_util.RowPartitionType,u=function(){"use strict";function e(t,r,n,a,s,c,u,l,p,f){(0,o._)(this,e),this.shape=t,this.shapeShape=r,this.values=n,this.valuesShape=a,this.valuesDType=s,this.defaultValue=c,this.defaultValueShape=u,this.rowPartitionValues=l,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=i.backend_util.getRowPartitionTypesHelper(f),this.raggedRank=i.backend_util.getRaggedRank(this.rowPartitionTypes)}return(0,s._)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===c.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===c.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var r=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case c.VALUE_ROWIDS:return e.getMaxWidthValueRowID(r);case c.ROW_SPLITS:return e.getMaxWidthRowSplit(r);default:throw Error("Cannot handle partition type ".concat(c[this.getRowPartitionTypeByDimension(t-1)]))}}},{key:"tensorShapeFromTensor",value:function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(0===t.length){if(-1===e[0])return[];throw Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return p(e,r)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,r=this.defaultValueShape;i.backend_util.validateDefaultValueShape(r,t);var n=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=i.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,n,t);a[0]<0&&(a[0]=e);for(var o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}},{key:"calculateFirstParentOutputIndex",value:function(e,t,r){for(var n=Math.min(e,r),a=[],o=0,s=0;s<n;++s,o+=t)a.push(o);for(var c=n;c<e;++c)a.push(-1);return i.util.assert(a.length===e,function(){return"Final length of result must be equal to firstDimension."}),a}},{key:"calculateOutputIndexRowSplit",value:function(e,t,r,n){for(var a=e.length,o=[],s=0;s<a-1;++s){var i=e[s+1]-e[s],c=Math.min(n,i),u=t[s];-1===u&&(c=0);for(var l=0;l<c;++l)o.push(u),u+=r;for(var p=0;p<i-c;++p)o.push(-1)}if(a>0&&o.length!==e[a-1])throw Error("Invalid row split size.");return o}},{key:"calculateOutputIndexValueRowID",value:function(e,t,r,n){var a=e.length,o=[];if(0===a)return[];var s=0,i=e[0];if(i>=t.length)throw Error("Got currentValueRowId=".concat(i,", which is not less than ").concat(t.length));var c=t[i];o.push(c);for(var u=1;u<a;++u){var l=e[u];if(l===i)c>=0&&(++s<n?c+=r:c=-1);else{if(s=0,i=l,l>=t.length)throw Error("Got nextValueRowId=".concat(l," which is not less than ").concat(t.length));c=t[l]}o.push(c)}if(o.length!==e.length)throw Error("Invalid row ids.");return o}},{key:"calculateOutputIndex",value:function(e,t,r,n){var a=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case c.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,r,n);case c.ROW_SPLITS:if(a.length-1>t.length)throw Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,r,n);default:throw Error("Unsupported partition type: ".concat(c[o]))}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case c.FIRST_DIM_SIZE:return e[0];case c.VALUE_ROWIDS:throw Error("Cannot handle VALUE_ROWIDS in first dimension.");case c.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw Error("Cannot handle type ".concat(c[t]))}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),r=Array(this.raggedRank+1);r[r.length-1]=1;for(var n=r.length-2;n>=0;--n)r[n]=r[n+1]*t[n+1];var a=p(t,!1),o=i.util.getArrayFromDType(this.valuesDType,i.util.sizeFromShape(a));if(r[0]*t[0]>0){for(var s=this.calculateFirstParentOutputIndex(e,r[0],t[0]),c=1;c<=this.raggedRank;++c)s=this.calculateOutputIndex(c-1,s,r[c],t[c]);this.setOutput(this.raggedRank,s,o,a)}return[a,o]}},{key:"setOutput",value:function(e,t,r,n){if(0!==r.length){var a=this.values,o=n.slice();o=o.slice(e+1);var s=i.util.sizeFromShape(o),c=t.length,u=this.defaultValue;if(u.length!==s&&1!==u.length){var p=this.defaultValueShape;(0,i.tidy)(function(){var e=(0,i.reshape)(u,p);u=(0,i.broadcastTo)(e,o).dataSync()})}for(var f=0,d=0,h=0,m=0;m<=c;++m){var g=m<c?t[m]:-1;if(g===h){++h;continue}if(d<h){var v=a.subarray(f*s);l(r.subarray(d*s),v,(h-d)*s)}if(m>=c&&(g=Math.floor(r.length/s)),g>h)if(1===this.defaultValue.length)r.subarray(h*s,g*s).fill(this.defaultValue[0]),h=g;else for(;g>h;)l(r.slice(h*s),u,s),++h;g<0?(f=m+1,d=h):(f=m,h=(d=h)+1)}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var r=0,n=0;n<t-1;++n){var a=e[n+1]-e[n];a>r&&(r=a)}return r}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var r=0,n=e[0],a=0,o=1;o<t;++o){var s=e[o];s!==n&&(n=s,a=Math.max(o-r,a),r=o)}return Math.max(t-r,a)}}]),e}();function l(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function p(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var c=s.value;if(c<0){if(!t)throw Error("Dimension ".concat(c," must be >= 0"));if(c<-1)throw Error("Dimension ".concat(c," must be >= -1"));c=-1}r.push(c)}}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}function f(e,t,r,n,a,o,s,i,c,l){return new u(e,t,r,n,a,o,s,i,c,l).compute()}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iwBy3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rangeImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n){var a=e===t,s=e<t&&r<0,i=t<e&&r>1;if(a||s||i)return o.util.makeZerosTypedArray(0,n);var c=Math.abs(Math.ceil((t-e)/r)),u=o.util.makeZerosTypedArray(c,n);t<e&&1===r&&(r=-1),u[0]=e;for(var l=1;l<u.length;l++)u[l]=u[l-1]+r;return u}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],SfuRF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrtImpl",function(){return c}),a.export(r,"rsqrt",function(){return u}),a.export(r,"rsqrtConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return 1/Math.sqrt(e)}),u=(0,i.unaryKernelFuncFromImpl)(o.Rsqrt,c),l={kernelName:o.Rsqrt,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"73Ols":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a,s,i,c,u,l){var p=e.values,f=t.values;if(0===n)return(0,o.buffer)(r,t.dtype);var d=u instanceof o.TensorBuffer?u:(0,o.buffer)([n/a,a],t.dtype);"string"==typeof u||"number"==typeof u?d.values.fill(u):"boolean"==typeof u&&d.values.fill(+u);for(var h=0;h<s;h++){for(var m=[],g=0,v=0;v<i;v++){var _=p[h*i+v];m.push(_),g+=_*c[v]}if(g<0||g>=n/a)throw Error("Invalid indices: ".concat(m," does not index into ").concat(r));for(var x=0;x<a;x++)l?d.values[g*a+x]+=f[h*a+x]:d.values[g*a+x]=0===t.rank?f[0]:f[h*a+x]}return d}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jHdzc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoidImpl",function(){return c}),a.export(r,"sigmoid",function(){return u}),a.export(r,"sigmoidConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return 1/(1+Math.exp(-e))}),u=(0,i.unaryKernelFunc)(o.Sigmoid,function(e){return 1/(1+Math.exp(-e))}),l={kernelName:o.Sigmoid,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iDxWd:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sliceImpl",function(){return u}),a.export(r,"slice",function(){return l}),a.export(r,"sliceConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@tensorflow/tfjs-core"),c=e("../cpu_util");function u(e,t,r,n,a){var o=i.slice_util.isSliceContinous(n,t,r),c=i.util.sizeFromShape(r),u=i.util.computeStrides(n);if(o){var l=i.slice_util.computeFlatOffset(t,u);return"string"===a?e.slice(l,l+c):e.subarray(l,l+c)}for(var p="string"===a?i.backend_util.fromUint8ToStringArray(e):e,f=(0,i.buffer)(n,a,p),d=(0,i.buffer)(r,a),h=0;h<d.size;++h){var m=d.indexToLoc(h),g=m.map(function(e,r){return e+t[r]});d.set.apply(d,[f.get.apply(f,(0,s._)(g))].concat((0,s._)(m)))}return"string"===a?i.backend_util.fromStringArrayToUint8(d.values):d.values}function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.begin,l=n.size;(0,c.assertNotComplex)(a,"slice");var p=(0,o._)(i.slice_util.parseSliceParams(a,s,l),2),f=p[0],d=p[1];i.slice_util.assertParamsValid(a,f,d);var h=u(r.data.get(a.dataId).values,f,d,a.shape,a.dtype);return r.makeTensorInfo(d,a.dtype,h)}var p={kernelName:i.Slice,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jkWia:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRowsImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a,s,i){var c=t[0],u=s[0],l=Array(u),p=Array(c),f=t[1];if(0===u){if(0!==c)throw Error(o.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(c));return[o.util.getArrayFromDType(r,0),[0,f],o.util.getArrayFromDType(a,0),l,p]}for(var d=!0,h=0,m=Array(u).fill(0),g=0;g<c;++g){var v=e[g*f];if(v<0)throw Error(o.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(g,v));if(v>=u)throw Error(o.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(g,v,u));++m[v],d=d&&v>=h,h=v}for(var _=!0,x=0;x<u;++x){var y=0===m[x];l[x]=y,_=_&&!y,m[x]=Math.max(m[x],1),x>0&&(m[x]+=m[x-1])}if(_&&d){for(var b=0;b<c;++b)p[b]=b;return[e,[c,f],n,l,p]}for(var k=m[u-1],j=o.util.getArrayFromDType(r,k*f),w=o.util.getArrayFromDType(a,k),S=Array(u).fill(0),I=0;I<c;++I){var T=e[I*f],N=S[T],C=(0===T?0:m[T-1])+N;S[T]++;for(var E=0;E<f;++E)j[C*f+E]=e[I*f+E];w[C]=n[I],p[I]=C}for(var F=0;F<u;++F)if(0===S[F]){var A=0===F?0:m[F-1];j[A*f+0]=F;for(var P=1;P<f;++P)j[A*f+P]=0;w[A]=i}return[j,[k,f],w,l,p]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5Wb0v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshapeImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a){for(var s=o.util.sizeFromShape(n),i=t[0],c=a.length,u=[],l=1,p=-1,f=0;f<c;++f){var d=a[f];if(-1===d){if(-1!==p)throw Error(o.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(p,f));p=f,u.push(1)}else{if(d<0)throw Error(o.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(f,d));l*=d,u.push(d)}}if(-1!==p){if(l<=0)throw Error(o.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(s/l);if(l*h!==s)throw Error(o.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(n,u));u[p]=h}if(o.util.sizeFromShape(u)!==s)throw Error(o.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(n,u));var m=n.length,g=[];if(m>0){g[m-1]=1;for(var v=m-2;v>=0;--v)g[v]=g[v+1]*n[v+1]}var _=[];if(c>0){_[c-1]=1;for(var x=c-2;x>=0;--x)_[x]=_[x+1]*u[x+1]}for(var y=o.util.getArrayFromDType(r,i*c),b=0;b<i;++b){for(var k=0,j=0;j<m;++j)k+=e[b*m+j]*g[j];for(var w=0;w<c;++w)y[b*c+w]=Math.trunc(k/_[w]),k%=_[w]}return[y,[i,c],u]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b035V:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentReductionImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=n.length,u=[t[0],e.length/t[0]],l=u[1],p=c>0?a[c-1]+1:0;if(p<0)throw Error(o.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var f=t.slice();f[0]=p;var d=f.reduce(function(e,t){return e*t},1),h=o.util.getArrayFromDType(r,d);if(0===c)return p>0&&h.fill(i),[h,f];if(p<=0)throw Error(o.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,g=1,v=0,_=a[0];;){var x=0;if(g<c){if(_===(x=a[g])){++g;continue}if(_>=x)throw Error(o.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(_<0||_>=p)throw Error(o.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(_,p));_>v&&h.fill(i,v*l,_*l);for(var y=m;y<g;++y){var b=n[y];if(b<0||b>=u[0])throw Error(o.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(y,n[y],u[0]));for(var k=0;k<l;k++)h[_*l+k]+=e[b*l+k]}if(s)for(var j=0;j<l;j++)h[_*l+j]/=g-m;if(m=g,++g,v=_+1,_=x,g>c)break}return v<p&&h.fill(i,v*l,p*l),[h,f]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lDU8i:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrtImpl",function(){return c}),a.export(r,"sqrt",function(){return u}),a.export(r,"sqrtConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e){return Math.sqrt(e)}),u=(0,i.unaryKernelFunc)(o.Sqrt,function(e){return Math.sqrt(e)}),l={kernelName:o.Sqrt,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],apPRv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifferenceImpl",function(){return c}),a.export(r,"squaredDifference",function(){return u}),a.export(r,"squaredDifferenceConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){var r=e-t;return r*r}),u=(0,i.binaryKernelFunc)(o.SquaredDifference,c),l={kernelName:o.SquaredDifference,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2gqBP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplaceImpl",function(){return c}),a.export(r,"staticRegexReplaceConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_impl"),i=e("../utils/unary_utils"),c=(0,s.createSimpleUnaryImpl)(function(e,t){var r=t.pattern,n=t.replaceGlobal,a=t.rewrite;return e.replace(new RegExp(r,n?"g":""),a)}),u=(0,i.unaryKernelFuncFromImpl)(o.StaticRegexReplace,c),l={kernelName:o.StaticRegexReplace,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_impl":"iMrdh","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jnM1U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSliceImpl",function(){return i});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e,t,r,n){for(var a=(0,s.buffer)(e,t.dtype),i=0;i<a.size;i++){for(var c=a.indexToLoc(i),u=Array(c.length),l=0;l<u.length;l++)u[l]=c[l]*r[l]+n[l];a.set.apply(a,[t.get.apply(t,(0,o._)(u))].concat((0,o._)(c)))}return a}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8EtHw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGramsImpl",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@tensorflow/tfjs-core"),c=function(){"use strict";function e(t,r,n,a,s,c){(0,o._)(this,e),this.separator=i.util.encodeString(t),this.nGramWidths=r,this.leftPad=i.util.encodeString(n),this.rightPad=i.util.encodeString(a),this.padWidth=s,this.preserveShort=c}return(0,s._)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){return Math.max(0,e+2*this.getPadWidth(t)-t+1)}},{key:"createNGrams",value:function(e,t,r,n,a,o){for(var s,i=0;i<a;++i)s=this,function(i){var c,u=s.getPadWidth(o),l=Math.max(0,u-i),p=Math.max(0,u-(a-(i+1))),f=o-(l+p),d=t+(l>0?0:i-u);c=0+l*s.leftPad.length;for(var h=0;h<f;++h)c+=e[d+h].length;c+=p*s.rightPad.length,c+=(l+p+f-1)*s.separator.length,r[n+i]=new Uint8Array(c);for(var m=r[n+i],g=0,v=function(e){return e.forEach(function(e){return m[g++]=e})},_=0;_<l;++_)v(s.leftPad),v(s.separator);for(var x=0;x<f-1;++x)v(e[d+x]),v(s.separator);if(f>0){v(e[d+f-1]);for(var y=0;y<p;++y)v(s.separator),v(s.rightPad)}else{for(var b=0;b<p-1;++b)v(s.rightPad),v(s.separator);v(s.rightPad)}}(i)}},{key:"compute",value:function(e,t){var r,n,a=function(r){var a=t[r],s=d[r];if(n.nGramWidths.forEach(function(n){var i=t[r+1]-t[r],c=o.getNumNGrams(i,n);o.createNGrams(e,a,v,s,c,n),s+=c}),n.preserveShort&&s===d[r]){var i=t[r+1]-t[r];if(0===i)return"continue";var c=i+2*n.padWidth;n.createNGrams(e,a,v,s,1,c)}},o=this,s=e.length,c=t.length;if(c>0){var u=t[0];if(0!==u)throw Error("First split value must be 0, got ".concat(u));for(var l=1;l<c;++l){var p=t[l]>=u;if(!(p=p&&t[l]<=s))throw Error("Invalid split value ".concat(t[l],", must be in [").concat(u,", ").concat(s,"]"));u=t[l]}if(u!==s)throw Error("Last split value must be data size. Expected ".concat(s,", got ").concat(u))}var f=c-1,d=i.util.getArrayFromDType("int32",c);if(0===s||0===c){for(var h=Array(s),m=0;m<=f;++m)d[m]=0;return[h,d]}d[0]=0;for(var g=1;g<=f;++g)r=this,function(e){var n=t[e]-t[e-1],a=0;r.nGramWidths.forEach(function(e){a+=o.getNumNGrams(n,e)}),r.preserveShort&&n>0&&0===a&&(a=1),d[e]=d[e-1]+a}(g);for(var v=Array(d[f]),_=0;_<f;++_)n=this,a(_);return[v,d]}}]),e}();function u(e,t,r,n,a,o,s,i){return new c(r,n,a,o,s,i).compute(e,t)}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jn5zy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplitImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r){for(var n=e.length,a=[],s=0,i=0,c=Array(n),u=0;u<n;++u){var l=a.length;!function(e,t,r,n){if(e.length){if(0===t.length){for(var a=0;a<e.length;++a)n.push(e.subarray(a,a+1));return}if(1===t.length){for(var o=t[0],s=e.indexOf(o);-1!==s;){var i=e.subarray(0,s);r&&0===i.length||n.push(i),s=(e=e.subarray(s+1)).indexOf(o)}r&&0===e.length||n.push(e);return}for(var c=0,u=0;u<e.length+1;u++)if(u===e.length||-1!==t.indexOf(e[u])){var l=e.subarray(c,u);r&&0===l.length||n.push(l),c=u+1}}}(e[u],t,r,a);var p=a.length-l;c[u]=p,s+=p,i=Math.max(i,p)}for(var f=o.util.getArrayFromDType("int32",2*s),d=Array(s),h=[n,i],m=0,g=0;g<n;++g)for(var v=0;v<c[g];++v)f[2*m]=g,f[2*m+1]=v,d[m]=a[m],++m;return[f,d,h]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f0pOh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFastImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t){for(var r=o.util.getArrayFromDType("int32",e.length),n=0;n<e.length;++n)r[n]=o.util.fingerPrint64(e[n]).modulo(t).getLowBitsUnsigned();return r}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jG0ti:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"subImpl",function(){return c}),a.export(r,"subComplexImpl",function(){return u}),a.export(r,"sub",function(){return l}),a.export(r,"subConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e-t}),u=(0,i.createComplexBinaryKernelImpl)(function(e,t,r,n){return{real:e-r,imag:t-n}}),l=(0,i.binaryKernelFunc)(o.Sub,c,u),p={kernelName:o.Sub,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bK8zP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tileImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t){for(var r=Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[n]*t[n];for(var a=(0,o.buffer)(r,e.dtype),s=0;s<a.values.length;++s){for(var i=a.indexToLoc(s),c=Array(e.rank),u=0;u<c.length;u++)c[u]=i[u]%e.shape[u];var l=e.locToIndex(c);a.values[s]=e.values[l]}return a}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bBgHE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topKImpl",function(){return i});var o=e("@tensorflow/tfjs-core"),s=function(e,t){var r=t.value-e.value;return 0===r?e.index-t.index:r};function i(e,t,r,n,a){for(var i=t[t.length-1],c=[e.length/i,i],u=c[0],l=c[1],p=o.util.getTypedArrayFromDType(r,u*n),f=o.util.getTypedArrayFromDType("int32",u*n),d=0;d<u;d++)!function(t){var r=t*l,i=e.subarray(r,r+l),c=Array(i.length);i.forEach(function(e,t){return c[t]={value:e,index:t}}),n<c.length&&(!function e(t,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1;a>n;){if(a-n>600){var i=a-n+1,c=r-n+1,u=Math.log(i),l=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*l*(i-l)/i)*Math.sign(c-i/2),f=Math.max(n,Math.floor(r-c*l/i+p)),d=Math.min(a,Math.floor(r+(i-c)*l/i+p));e(t,r,f,d)}var h=t[r],m=n,g=a;for(o.util.swap(t,n,r),s(t[a],h)>0&&o.util.swap(t,n,a);m<g;){for(o.util.swap(t,m,g),m++,g--;0>s(t[m],h);)m+=1;for(;s(t[g],h)>0;)g-=1}0===s(t[n],h)?o.util.swap(t,n,g):(g+=1,o.util.swap(t,g,a)),g<=r&&(n=g+1),r<=g&&(a=g-1)}}(c,n),c=c.slice(0,n)),a&&c.sort(s);for(var u=t*n,d=p.subarray(u,u+n),h=f.subarray(u,u+n),m=0;m<n;m++)d[m]=c[m].value,h[m]=c[m].index}(d);var h=t.slice();return h[h.length-1]=n,[(0,o.buffer)(h,r,p),(0,o.buffer)(h,"int32",f)]}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8lLtN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"uniqueImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n){for(var a=o.util.parseAxisParam(t,r)[0],s=[1,r[0],1],i=0;i<a;i++)s[0]*=r[i];s[1]=r[a];for(var c=a+1;c<r.length;c++)s[2]*=r[c];for(var u=new Map,l=new Int32Array(r[a]),p=new(0,o.TensorBuffer)(s,n,e),f=[],d=1===s[0]&&1===s[2],h=0;h<r[a];h++){var m=void 0;if(d)m=e[h].toString();else{for(var g=[],v=0;v<s[0];v++)for(var _=0;_<s[2];_++)g.push(p.get(v,h,_));m=g.join(",")}var x=u.get(m);if(null!=x)l[h]=x;else{var y=u.size;u.set(m,y),l[h]=y,f.push(h)}}var b=s.slice();b[1]=u.size;var k=new(0,o.TensorBuffer)(b,n);f.forEach(function(e,t){for(var r=0;r<s[0];r++)for(var n=0;n<s[2];n++)k.set(p.get(r,e,n),r,t,n)});var j=r.slice();return j[a]=b[1],{outputValues:k.values,outputShape:j,indices:l}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jOzcV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PackProgram",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("./gpgpu_math"),c=e("./packing_util"),u=e("./shader_compiler"),l=function(){"use strict";function e(t){if((0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),0===this.rank)this.userCode="\n void main() {\n setOutput(vec4(getA(), 0., 0., 0.));\n }\n ";else{var r=(0,c.getChannels)("rc",this.rank),n=(0,u.getCoordsDataType)(this.rank),a=this.getOutOfBoundsCondition(r),s=this.getSetup(r),l=this.getOutput(r);this.userCode="\n void main() {\n ".concat(n," rc = getOutputCoords();\n\n if(").concat(a,") {\n setOutput(vec4(0));\n } else {\n ").concat(s,"\n\n setOutput(vec4(").concat(l,"));\n }\n }\n ")}}return(0,s._)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],r=0;r<=1;r++)for(var n=0;n<=1;n++){for(var a="".concat(0===r?"r":"rp1",", ").concat(0===n?"c":"cp1"),o=2;o<this.rank;o++)a="".concat(e[e.length-1-o],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc >".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",r=this.rank-2;r<this.rank;r++)t+="".concat(e[r]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(r,"]"):this.outputShape[r]),r<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n int r = ".concat(t[0],";\n int c = ").concat(t[1],";\n int rp1 = r + 1;\n int cp1 = c + 1;\n\n bool cEdge = cp1 >= ").concat(r,";\n bool rEdge = rp1 >= ").concat(n,";\n ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var r=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(r," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n cEdge ? 0. : getA(").concat(t[1],"),\n rEdge ? 0. : getA(").concat(t[2],"),\n rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","./gpgpu_math":"crqTl","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bMPYa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return"".concat(e,".").concat(t)})}function s(e,t){return 1===t?[e]:o(e,t)}function i(e,t){if(1===e)return"rc";for(var r="",n=0;n<e;n++)r+=t[n],n<e-1&&(r+=",");return r}a.defineInteropFlag(r),a.export(r,"getVecChannels",function(){return o}),a.export(r,"getChannels",function(){return s}),a.export(r,"getSourceCoords",function(){return i})},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kzvqz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReshapePackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=e("./shader_compiler_util"),c=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length);for(var n,a,c="",u=0;u<4;u++){var l="thisRC = rc;";u%2==1&&(l+="thisRC.z += 1;"),u>1&&(l+="thisRC.y += 1;"),c+="\n ".concat(l,"\n ").concat(u>0?"if(thisRC.y< rows && thisRC.z < cols){":"","\n int flatIndex = getFlatIndex(thisRC);\n\n ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n result[").concat(u,"] =\n getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n ").concat(u>0?"}":"","\n ")}this.userCode="\n ".concat((n=r,a=this.enableShapeUniforms?i.getLogicalCoordinatesFromFlatIndexByUniform(["r","c","d"],"inputShape"):i.getLogicalCoordinatesFromFlatIndex(["r","c","d"],n),"\n ivec3 inputCoordsFromReshapedOutCoords(int index) {\n ".concat(a,"\n return ivec3(r, c, d);\n }\n ")),"\n ").concat(this.enableShapeUniforms?i.getFlatIndexFrom3DOutput():i.getFlatIndexFrom3D(t),"\n\n void main() {\n ivec3 rc = getOutputCoords();\n\n vec4 result = vec4(0.);\n\n ivec3 thisRC;\n int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n ").concat(c,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","./shader_compiler_util":"j7Ycy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],a3s72:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TextureManager",function(){return p}),a.export(r,"computeBytes",function(){return f});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./gpgpu_util"),l=e("./tex_util"),p=function(){"use strict";function e(t){(0,o._)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}return(0,s._)(e,[{key:"acquireTexture",value:function(e,t,r){var n,a=d(t,r),o=h(e,a,r);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);var s=f(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();var i=this.freeTextures[o].pop();return this.usedTextures[o].push(i),i}return a===l.PhysicalTextureType.PACKED_2X2_FLOAT32?n=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.PACKED_2X2_FLOAT16?n=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.UNPACKED_FLOAT32?n=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.UNPACKED_FLOAT16?n=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE&&(n=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(n),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),n}},{key:"releaseTexture",value:function(e,t,r,n){if(null!=this.freeTextures){var a=d(r,n),o=h(t,a,n);o in this.freeTextures||(this.freeTextures[o]=[]);var s=f(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,n),i=(0,c.env)().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==i&&this._numBytesAllocated>i?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;var u=this.usedTextures[o],l=u&&u.indexOf(e);if(null==l||l<0)throw Error("Cannot release a texture that was never provided by this texture manager");u[l]=u[u.length-1],u.pop(),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});for(var r in this.usedTextures)this.usedTextures[r].forEach(function(t){e.gpgpu.deleteMatrixTexture(t.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function f(e,t,r,n,a){var o,s=function(e,t){switch(e){case l.PhysicalTextureType.PACKED_2X2_FLOAT32:return(0,u.getInternalFormatForPackedMatrixTexture)(t);case l.PhysicalTextureType.PACKED_2X2_FLOAT16:return(0,u.getInternalFormatForFloat16PackedMatrixTexture)(t);case l.PhysicalTextureType.UNPACKED_FLOAT32:return(0,u.getInternalFormatForFloat32MatrixTexture)(t);case l.PhysicalTextureType.UNPACKED_FLOAT16:return(0,u.getInternalFormatForFloat16MatrixTexture)(t);case l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE:return(0,u.getInternalFormatForUnsignedBytesMatrixTexture)(t);default:throw Error("Unknown physical texture type ".concat(e))}}(t,n);if(a){var c=(0,i._)((0,l.getPackedMatrixTextureShapeWidthHeight)(e[0],e[1]),2);o=c[0]*c[1]}else{var p=(0,i._)((0,l.getUnpackedMatrixTextureShapeWidthHeight)(e[0],e[1]),2);o=p[0]*p[1]}return o*function(e,t){if(t===e.R32F)return 4;if(t===e.R16F)return 2;if(t===e.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===e.RGBA16F)return 8;else if(t===e.RGBA8)return 4;throw Error("Unknown internal format ".concat(t))}(r,s)}function d(e,t){if(e===l.TextureUsage.UPLOAD)return l.PhysicalTextureType.PACKED_2X2_FLOAT32;if(e===l.TextureUsage.RENDER||null==e)return(0,c.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?l.PhysicalTextureType.PACKED_2X2_FLOAT32:l.PhysicalTextureType.UNPACKED_FLOAT32:t?l.PhysicalTextureType.PACKED_2X2_FLOAT16:l.PhysicalTextureType.UNPACKED_FLOAT16;if(e===l.TextureUsage.DOWNLOAD||e===l.TextureUsage.PIXELS)return l.PhysicalTextureType.PACKED_4X1_UNSIGNED_BYTE;throw Error("Unknown logical texture type ".concat(e))}function h(e,t,r){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(r)}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./gpgpu_util":"lkK14","./tex_util":"jagEL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hFgLO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"UnaryOpProgram",function(){return i}),a.export(r,"CHECK_NAN_SNIPPET",function(){return c}),a.export(r,"LINEAR",function(){return u}),a.export(r,"ABS",function(){return l}),a.export(r,"STEP",function(){return p}),a.export(r,"ELU",function(){return f}),a.export(r,"RELU",function(){return d}),a.export(r,"RELU6",function(){return h}),a.export(r,"CLONE",function(){return m}),a.export(r,"SIGMOID",function(){return g});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length),this.userCode="\n float unaryOperation(float x) {\n ".concat(r,"\n }\n\n void main() {\n float x = getAAtOutCoords();\n float y = unaryOperation(x);\n\n setOutput(y);\n }\n ")},c="if (isnan(x)) return x;",u="return x;",l="return abs(x);";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return c+"\n return x > 0.0 ? 1.0 : float(".concat(e,");\n ")}var f="return (x >= 0.0) ? x : (exp(x) - 1.0);",d=c+"\n return (x< 0.0) ? 0.0 : x;\n",h=c+"\n return (x < 0.0) ? 0.0 : min(6.0, x);\n",m="return x;",g="return 1.0 / (1.0 + exp(-1.0 * x));"},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cy6tx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LINEAR",function(){return i}),a.export(r,"ELU",function(){return c}),a.export(r,"RELU",function(){return u}),a.export(r,"RELU6",function(){return l}),a.export(r,"SIGMOID",function(){return p}),a.export(r,"UnaryOpPackedProgram",function(){return f});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i="return x;",c="\n vec4 result;\n\n result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n return result;\n",u="\n vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",l="\n vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",p="return 1.0 / (1.0 + exp(-1.0 * x));",f=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length),this.userCode="\n vec4 unaryOperation(vec4 x) {\n ".concat(r,"\n }\n\n void main() {\n vec4 x = getAAtOutCoords();\n vec4 y = unaryOperation(x);\n\n setOutput(y);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ejgtW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"UnpackProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length);var r=t.length,n=(0,i.getChannels)("rc",r),a=(0,c.getCoordsDataType)(r),u=(0,i.getSourceCoords)(r,n),l=n.slice(-2),p=r<=1?"rc":"vec2(".concat(l.join(","),")");this.userCode="\n void main() {\n ".concat(a," rc = getOutputCoords();\n vec4 packedInput = getA(").concat(u,");\n\n setOutput(getChannel(packedInput, ").concat(p,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jICga:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return o});var o="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6S16t":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendWebGL",function(){return c.MathBackendWebGL}),a.export(r,"setWebGLContext",function(){return u.setWebGLContext}),a.export(r,"GPGPUContext",function(){return l.GPGPUContext}),a.export(r,"gpgpu_util",function(){return s}),a.export(r,"webgl_util",function(){return i}),a.export(r,"forceHalfFloat",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("./gpgpu_util"),i=e("./webgl_util"),c=e("./backend_webgl"),u=e("./canvas_util"),l=e("./gpgpu_context");function p(){(0,o.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}},{"@tensorflow/tfjs-core":"1q0U8","./gpgpu_util":"lkK14","./webgl_util":"foNeO","./backend_webgl":"hGhxe","./canvas_util":"jqci3","./gpgpu_context":"dkpjQ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d2WQu:[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),o=e("./kernels/_FusedMatMul"),s=e("./kernels/Abs"),i=e("./kernels/Acos"),c=e("./kernels/Acosh"),u=e("./kernels/Add"),l=e("./kernels/AddN"),p=e("./kernels/All"),f=e("./kernels/Any"),d=e("./kernels/ArgMax"),h=e("./kernels/ArgMin"),m=e("./kernels/Asin"),g=e("./kernels/Asinh"),v=e("./kernels/Atan"),_=e("./kernels/Atan2"),x=e("./kernels/Atanh"),y=e("./kernels/AvgPool"),b=e("./kernels/AvgPool3D"),k=e("./kernels/AvgPool3DGrad"),j=e("./kernels/AvgPoolGrad"),w=e("./kernels/BatchMatMul"),S=e("./kernels/BatchNorm"),I=e("./kernels/BatchToSpaceND"),T=e("./kernels/Bincount"),N=e("./kernels/BitwiseAnd"),C=e("./kernels/BroadcastArgs"),E=e("./kernels/Cast"),F=e("./kernels/Ceil"),A=e("./kernels/ClipByValue"),P=e("./kernels/Complex"),R=e("./kernels/ComplexAbs"),D=e("./kernels/Concat"),M=e("./kernels/Conv2D"),O=e("./kernels/Conv2DBackpropFilter"),L=e("./kernels/Conv2DBackpropInput"),V=e("./kernels/Conv3D"),U=e("./kernels/Conv3DBackpropFilterV2"),B=e("./kernels/Conv3DBackpropInputV2"),z=e("./kernels/Cos"),G=e("./kernels/Cosh"),W=e("./kernels/CropAndResize"),q=e("./kernels/Cumprod"),H=e("./kernels/Cumsum"),Z=e("./kernels/DenseBincount"),K=e("./kernels/DepthToSpace"),X=e("./kernels/DepthwiseConv2dNative"),Y=e("./kernels/DepthwiseConv2dNativeBackpropFilter"),J=e("./kernels/DepthwiseConv2dNativeBackpropInput"),Q=e("./kernels/Diag"),$=e("./kernels/Dilation2D"),ee=e("./kernels/Einsum"),et=e("./kernels/Elu"),er=e("./kernels/EluGrad"),en=e("./kernels/Equal"),ea=e("./kernels/Erf"),eo=e("./kernels/Exp"),es=e("./kernels/ExpandDims"),ei=e("./kernels/Expm1"),ec=e("./kernels/FFT"),eu=e("./kernels/Fill"),el=e("./kernels/FlipLeftRight"),ep=e("./kernels/Floor"),ef=e("./kernels/FloorDiv"),ed=e("./kernels/FromPixels"),eh=e("./kernels/FusedConv2D"),em=e("./kernels/FusedDepthwiseConv2D"),eg=e("./kernels/GatherNd"),ev=e("./kernels/GatherV2"),e_=e("./kernels/Greater"),ex=e("./kernels/GreaterEqual"),ey=e("./kernels/Identity"),eb=e("./kernels/IFFT"),ek=e("./kernels/Imag"),ej=e("./kernels/IsFinite"),ew=e("./kernels/IsInf"),eS=e("./kernels/IsNaN"),eI=e("./kernels/LeakyRelu"),eT=e("./kernels/Less"),eN=e("./kernels/LessEqual"),eC=e("./kernels/LinSpace"),eE=e("./kernels/Log"),eF=e("./kernels/Log1p"),eA=e("./kernels/LogicalAnd"),eP=e("./kernels/LogicalNot"),eR=e("./kernels/LogicalOr"),eD=e("./kernels/LRN"),eM=e("./kernels/LRNGrad"),eO=e("./kernels/Max"),eL=e("./kernels/Maximum"),eV=e("./kernels/MaxPool"),eU=e("./kernels/MaxPool3D"),eB=e("./kernels/MaxPool3DGrad"),ez=e("./kernels/MaxPoolGrad"),eG=e("./kernels/MaxPoolWithArgmax"),eW=e("./kernels/Mean"),eq=e("./kernels/Min"),eH=e("./kernels/Minimum"),eZ=e("./kernels/MirrorPad"),eK=e("./kernels/Mod"),eX=e("./kernels/Multinomial"),eY=e("./kernels/Multiply"),eJ=e("./kernels/Neg"),eQ=e("./kernels/NonMaxSuppressionV3"),e$=e("./kernels/NonMaxSuppressionV4"),e0=e("./kernels/NonMaxSuppressionV5"),e1=e("./kernels/NotEqual"),e2=e("./kernels/OneHot"),e3=e("./kernels/OnesLike"),e4=e("./kernels/Pack"),e8=e("./kernels/PadV2"),e6=e("./kernels/Pow"),e5=e("./kernels/Prelu"),e7=e("./kernels/Prod"),e9=e("./kernels/RaggedGather"),te=e("./kernels/RaggedRange"),tt=e("./kernels/RaggedTensorToTensor"),tr=e("./kernels/Range"),tn=e("./kernels/Real"),ta=e("./kernels/RealDiv"),to=e("./kernels/Reciprocal"),ts=e("./kernels/Relu"),ti=e("./kernels/Relu6"),tc=e("./kernels/Reshape"),tu=e("./kernels/ResizeBilinear"),tl=e("./kernels/ResizeBilinearGrad"),tp=e("./kernels/ResizeNearestNeighbor"),tf=e("./kernels/ResizeNearestNeighborGrad"),td=e("./kernels/Reverse"),th=e("./kernels/RotateWithOffset"),tm=e("./kernels/Round"),tg=e("./kernels/Rsqrt"),tv=e("./kernels/ScatterNd"),t_=e("./kernels/SearchSorted"),tx=e("./kernels/Select"),ty=e("./kernels/Selu"),tb=e("./kernels/Sigmoid"),tk=e("./kernels/Sign"),tj=e("./kernels/Sin"),tw=e("./kernels/Sinh"),tS=e("./kernels/Slice"),tI=e("./kernels/Softmax"),tT=e("./kernels/Softplus"),tN=e("./kernels/SpaceToBatchND"),tC=e("./kernels/SparseFillEmptyRows"),tE=e("./kernels/SparseReshape"),tF=e("./kernels/SparseSegmentMean"),tA=e("./kernels/SparseSegmentSum"),tP=e("./kernels/SparseToDense"),tR=e("./kernels/SplitV"),tD=e("./kernels/Sqrt"),tM=e("./kernels/Square"),tO=e("./kernels/SquaredDifference"),tL=e("./kernels/StaticRegexReplace"),tV=e("./kernels/Step"),tU=e("./kernels/StridedSlice"),tB=e("./kernels/StringNGrams"),tz=e("./kernels/StringSplit"),tG=e("./kernels/StringToHashBucketFast"),tW=e("./kernels/Sub"),tq=e("./kernels/Sum"),tH=e("./kernels/Tan"),tZ=e("./kernels/Tanh"),tK=e("./kernels/TensorScatterUpdate"),tX=e("./kernels/Tile"),tY=e("./kernels/TopK"),tJ=e("./kernels/Transform"),tQ=e("./kernels/Transpose"),t$=e("./kernels/Unique"),t0=e("./kernels/Unpack"),t1=e("./kernels/UnsortedSegmentSum"),t2=e("./kernels/ZerosLike"),t3=[o._fusedMatMulConfig,s.absConfig,i.acosConfig,c.acoshConfig,u.addConfig,l.addNConfig,p.allConfig,f.anyConfig,d.argMaxConfig,h.argMinConfig,m.asinConfig,g.asinhConfig,v.atanConfig,_.atan2Config,x.atanhConfig,y.avgPoolConfig,b.avgPool3DConfig,k.avgPool3DGradConfig,j.avgPoolGradConfig,w.batchMatMulConfig,S.batchNormConfig,I.batchToSpaceNDConfig,T.bincountConfig,N.bitwiseAndConfig,C.broadcastArgsConfig,E.castConfig,F.ceilConfig,A.clipByValueConfig,P.complexConfig,R.complexAbsConfig,D.concatConfig,M.conv2DConfig,O.conv2DBackpropFilterConfig,L.conv2DBackpropInputConfig,V.conv3DConfig,U.conv3DBackpropFilterV2Config,B.conv3DBackpropInputConfig,z.cosConfig,G.coshConfig,W.cropAndResizeConfig,q.cumprodConfig,H.cumsumConfig,Z.denseBincountConfig,K.depthToSpaceConfig,X.depthwiseConv2dNativeConfig,Y.depthwiseConv2dNativeBackpropFilterConfig,J.depthwiseConv2dNativeBackpropInputConfig,Q.diagConfig,$.dilation2DConfig,ee.einsumConfig,et.eluConfig,er.eluGradConfig,en.equalConfig,ea.erfConfig,eo.expConfig,es.expandDimsConfig,ei.expm1Config,ec.fftConfig,eu.fillConfig,el.flipLeftRightConfig,ep.floorConfig,ef.floorDivConfig,ed.fromPixelsConfig,eh.fusedConv2DConfig,em.fusedDepthwiseConv2DConfig,eg.gatherNdConfig,ev.gatherV2Config,e_.greaterConfig,ex.greaterEqualConfig,ey.identityConfig,eb.ifftConfig,ek.imagConfig,ej.isFiniteConfig,ew.isInfConfig,eS.isNaNConfig,eI.leakyReluConfig,eT.lessConfig,eN.lessEqualConfig,eC.linSpaceConfig,eE.logConfig,eF.log1pConfig,eA.logicalAndConfig,eP.logicalNotConfig,eR.logicalOrConfig,eD.LRNConfig,eM.LRNGradConfig,eO.maxConfig,eL.maximumConfig,eV.maxPoolConfig,eU.maxPool3DConfig,eB.maxPool3DGradConfig,ez.maxPoolGradConfig,eG.maxPoolWithArgmaxConfig,eW.meanConfig,eq.minConfig,eH.minimumConfig,eZ.mirrorPadConfig,eK.modConfig,eX.multinomialConfig,eY.multiplyConfig,eJ.negConfig,eQ.nonMaxSuppressionV3Config,e$.nonMaxSuppressionV4Config,e0.nonMaxSuppressionV5Config,e1.notEqualConfig,e2.oneHotConfig,e3.onesLikeConfig,e4.packConfig,e8.padV2Config,e6.powConfig,e5.preluConfig,e7.prodConfig,e9.raggedGatherConfig,te.raggedRangeConfig,tt.raggedTensorToTensorConfig,tr.rangeConfig,tn.realConfig,ta.realDivConfig,to.reciprocalConfig,ts.reluConfig,ti.relu6Config,tc.reshapeConfig,tu.resizeBilinearConfig,tl.resizeBilinearGradConfig,tp.resizeNearestNeighborConfig,tf.resizeNearestNeighborGradConfig,td.reverseConfig,th.rotateWithOffsetConfig,tm.roundConfig,tg.rsqrtConfig,tv.scatterNdConfig,t_.searchSortedConfig,tx.selectConfig,ty.seluConfig,tb.sigmoidConfig,tk.signConfig,tj.sinConfig,tw.sinhConfig,tS.sliceConfig,tI.softmaxConfig,tT.softplusConfig,tN.spaceToBatchNDConfig,tC.sparseFillEmptyRowsConfig,tE.sparseReshapeConfig,tF.sparseSegmentMeanConfig,tA.sparseSegmentSumConfig,tP.sparseToDenseConfig,tR.splitVConfig,tD.sqrtConfig,tM.squareConfig,tO.squaredDifferenceConfig,tL.staticRegexReplaceConfig,tV.stepConfig,tU.stridedSliceConfig,tB.stringNGramsConfig,tz.stringSplitConfig,tG.stringToHashBucketFastConfig,tW.subConfig,tq.sumConfig,tH.tanConfig,tZ.tanhConfig,tK.tensorScatterUpdateConfig,tX.tileConfig,tY.topKConfig,tJ.transformConfig,tQ.transposeConfig,t$.uniqueConfig,t0.unpackConfig,t1.unsortedSegmentSumConfig,t2.zerosLikeConfig],t4=!0,t8=!1,t6=void 0;try{for(var t5,t7=t3[Symbol.iterator]();!(t4=(t5=t7.next()).done);t4=!0){var t9=t5.value;(0,a.registerKernel)(t9)}}catch(e){t8=!0,t6=e}finally{try{t4||null==t7.return||t7.return()}finally{if(t8)throw t6}}},{"@tensorflow/tfjs-core":"1q0U8","./kernels/_FusedMatMul":"569l7","./kernels/Abs":"fJilr","./kernels/Acos":"1lYVT","./kernels/Acosh":"d9Wle","./kernels/Add":"1nm8s","./kernels/AddN":"5zYNC","./kernels/All":"h3WdF","./kernels/Any":"2KPW4","./kernels/ArgMax":"ZZiRG","./kernels/ArgMin":"Z0oH9","./kernels/Asin":"aO9hi","./kernels/Asinh":"kPUKA","./kernels/Atan":"6IyT2","./kernels/Atan2":"jhE5c","./kernels/Atanh":"buffR","./kernels/AvgPool":"332V5","./kernels/AvgPool3D":"g9tKL","./kernels/AvgPool3DGrad":"aOhSi","./kernels/AvgPoolGrad":"hfgmQ","./kernels/BatchMatMul":"fBU4J","./kernels/BatchNorm":"i8QtN","./kernels/BatchToSpaceND":"2JoZ3","./kernels/Bincount":"46sCj","./kernels/BitwiseAnd":"3Wg7X","./kernels/BroadcastArgs":"h1aTY","./kernels/Cast":"jrIpN","./kernels/Ceil":"gDbNZ","./kernels/ClipByValue":"kJZuv","./kernels/Complex":"6pb3b","./kernels/ComplexAbs":"8fj1T","./kernels/Concat":"2LbZ9","./kernels/Conv2D":"7fW34","./kernels/Conv2DBackpropFilter":"hfsxH","./kernels/Conv2DBackpropInput":"7OBlw","./kernels/Conv3D":"cvG9h","./kernels/Conv3DBackpropFilterV2":"htAKc","./kernels/Conv3DBackpropInputV2":"83MwA","./kernels/Cos":"jrvJg","./kernels/Cosh":"2j1cq","./kernels/CropAndResize":"fFim9","./kernels/Cumprod":"ioKk0","./kernels/Cumsum":"5PZFu","./kernels/DenseBincount":"2uG2s","./kernels/DepthToSpace":"3uzb9","./kernels/DepthwiseConv2dNative":"qF3SO","./kernels/DepthwiseConv2dNativeBackpropFilter":"biUHP","./kernels/DepthwiseConv2dNativeBackpropInput":"lbeE9","./kernels/Diag":"i49BL","./kernels/Dilation2D":"efUBa","./kernels/Einsum":"cYGUX","./kernels/Elu":"4Y5O1","./kernels/EluGrad":"eytUt","./kernels/Equal":"bXDPx","./kernels/Erf":"9nmu2","./kernels/Exp":"80uRM","./kernels/ExpandDims":"hmw67","./kernels/Expm1":"5OrTE","./kernels/FFT":"aDLvF","./kernels/Fill":"800YS","./kernels/FlipLeftRight":"hefjY","./kernels/Floor":"ktt0S","./kernels/FloorDiv":"G09v3","./kernels/FromPixels":"19feK","./kernels/FusedConv2D":"gdhWY","./kernels/FusedDepthwiseConv2D":"g1522","./kernels/GatherNd":"h5UDe","./kernels/GatherV2":"37laX","./kernels/Greater":"eToAs","./kernels/GreaterEqual":"8Lbkh","./kernels/Identity":"80zaJ","./kernels/IFFT":"iFE7w","./kernels/Imag":"k9FbU","./kernels/IsFinite":"dPdFW","./kernels/IsInf":"isBYS","./kernels/IsNaN":"i343C","./kernels/LeakyRelu":"5TsMC","./kernels/Less":"1IXO2","./kernels/LessEqual":"3EWjs","./kernels/LinSpace":"km5Rv","./kernels/Log":"5KP3I","./kernels/Log1p":"hbjdc","./kernels/LogicalAnd":"98RzX","./kernels/LogicalNot":"9jCQH","./kernels/LogicalOr":"lA7PP","./kernels/LRN":"1dO3P","./kernels/LRNGrad":"hRZjW","./kernels/Max":"593f8","./kernels/Maximum":"eJ0SO","./kernels/MaxPool":"esGCt","./kernels/MaxPool3D":"7N7Zp","./kernels/MaxPool3DGrad":"enkPj","./kernels/MaxPoolGrad":"5BhtC","./kernels/MaxPoolWithArgmax":"dCRMP","./kernels/Mean":"3WAdi","./kernels/Min":"koCqN","./kernels/Minimum":"6e69v","./kernels/MirrorPad":"8NEOG","./kernels/Mod":"d1mS4","./kernels/Multinomial":"ghewg","./kernels/Multiply":"4IPq8","./kernels/Neg":"21GsJ","./kernels/NonMaxSuppressionV3":"hRMmf","./kernels/NonMaxSuppressionV4":"kdms8","./kernels/NonMaxSuppressionV5":"hHp6i","./kernels/NotEqual":"1sefw","./kernels/OneHot":"b67XM","./kernels/OnesLike":"eLfQb","./kernels/Pack":"ls8eX","./kernels/PadV2":"7Vv1o","./kernels/Pow":"fB8t4","./kernels/Prelu":"4VrYo","./kernels/Prod":"9b4zg","./kernels/RaggedGather":"eQnM6","./kernels/RaggedRange":"lRkUG","./kernels/RaggedTensorToTensor":"5C8Gy","./kernels/Range":"8iOZv","./kernels/Real":"irEai","./kernels/RealDiv":"irRL7","./kernels/Reciprocal":"7iRim","./kernels/Relu":"3WemZ","./kernels/Relu6":"1SRtb","./kernels/Reshape":"cAHWq","./kernels/ResizeBilinear":"jZl2z","./kernels/ResizeBilinearGrad":"6u747","./kernels/ResizeNearestNeighbor":"9CFfX","./kernels/ResizeNearestNeighborGrad":"jq7IT","./kernels/Reverse":"a00pD","./kernels/RotateWithOffset":"hIHvA","./kernels/Round":"8gNq4","./kernels/Rsqrt":"iUqlP","./kernels/ScatterNd":"f17nG","./kernels/SearchSorted":"cmRaU","./kernels/Select":"fUsXY","./kernels/Selu":"1DY2a","./kernels/Sigmoid":"bCpQq","./kernels/Sign":"743Ax","./kernels/Sin":"e3ym5","./kernels/Sinh":"l3ZzA","./kernels/Slice":"l7vkL","./kernels/Softmax":"eFxHZ","./kernels/Softplus":"63Xkm","./kernels/SpaceToBatchND":"hIayL","./kernels/SparseFillEmptyRows":"dSKth","./kernels/SparseReshape":"3DWX1","./kernels/SparseSegmentMean":"7TFSI","./kernels/SparseSegmentSum":"bKLWg","./kernels/SparseToDense":"28ZDH","./kernels/SplitV":"5tbaj","./kernels/Sqrt":"l8mtN","./kernels/Square":"he6PF","./kernels/SquaredDifference":"8O4ZC","./kernels/StaticRegexReplace":"gbAv8","./kernels/Step":"bEpei","./kernels/StridedSlice":"hypoJ","./kernels/StringNGrams":"ft95U","./kernels/StringSplit":"6taxb","./kernels/StringToHashBucketFast":"39NsO","./kernels/Sub":"02oce","./kernels/Sum":"kF9Yv","./kernels/Tan":"lyEjs","./kernels/Tanh":"lSn6I","./kernels/TensorScatterUpdate":"dF87I","./kernels/Tile":"lPxzL","./kernels/TopK":"01aCF","./kernels/Transform":"5E2kv","./kernels/Transpose":"lfQF5","./kernels/Unique":"4351P","./kernels/Unpack":"7O6aJ","./kernels/UnsortedSegmentSum":"fxocc","./kernels/ZerosLike":"70I5M"}],"569l7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"_fusedMatMul",function(){return i}),a.export(r,"_fusedMatMulConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./BatchMatMul_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,o=t.b,i=t.bias,c=t.preluActivationWeights,u=n.transposeA,l=n.transposeB,p=n.activation,f=n.leakyreluAlpha;return(0,s.batchMatMulImpl)({a:a,b:o,transposeA:u,transposeB:l,backend:r,bias:i,preluActivationWeights:c,leakyreluAlpha:f,activation:p})}var c={kernelName:o._FusedMatMul,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./BatchMatMul_impl":"iQPyh","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iQPyh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MATMUL_SHARED_DIM_THRESHOLD",function(){return f}),a.export(r,"batchMatMulImpl",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../mulmat_packed_gpu"),c=e("./Multiply"),u=e("./Reshape"),l=e("./Sum"),p=e("./Transpose"),f=1e3;function d(e){var t=e.a,r=e.b,n=e.transposeA,a=e.transposeB,d=e.backend,h=e.bias,m=void 0===h?null:h,g=e.preluActivationWeights,v=void 0===g?null:g,_=e.leakyreluAlpha,x=e.activation,y=void 0===x?null:x,b=t.shape.length,k=r.shape.length,j=n?t.shape[b-2]:t.shape[b-1],w=a?r.shape[k-1]:r.shape[k-2],S=n?t.shape[b-1]:t.shape[b-2],I=a?r.shape[k-2]:r.shape[k-1],T=t.shape.slice(0,-2),N=r.shape.slice(0,-2),C=o.util.sizeFromShape(T),E=o.util.sizeFromShape(N),F=o.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),r.shape.slice(0,-2)).concat([S,I]);o.util.assert(j===w,function(){return"Error in matMul: inner shapes (".concat(j,") and (")+"".concat(w,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(r.shape," and transposeA=").concat(n)+" and transposeB=".concat(a," must match.")});var A=n?[C,j,S]:[C,S,j],P=a?[E,I,w]:[E,w,I],R=(0,u.reshape)({inputs:{x:t},backend:d,attrs:{shape:A}}),D=(0,u.reshape)({inputs:{x:r},backend:d,attrs:{shape:P}}),M=[R,D],O=Math.max(C,E),L=n?R.shape[1]:R.shape[2],V=null!=m,U=null!=v,B="leakyrelu"===y,z=null!=y?(0,s.mapActivationToShaderProgram)(y,!0):null,G=V||U||B||null!=z;if((1===S||1===I)&&L>f&&!1===G){var W=R,q=D;n&&(W=(0,p.transpose)({inputs:{x:R},backend:d,attrs:{perm:[0,2,1]}}),M.push(W)),a&&(q=(0,p.transpose)({inputs:{x:D},backend:d,attrs:{perm:[0,2,1]}}),M.push(q));var H=1!==I,Z=1===I,K=W;H&&(K=(0,u.reshape)({inputs:{x:W},backend:d,attrs:{shape:[O,L,1]}}),M.push(K));var X=q;Z&&(X=(0,u.reshape)({inputs:{x:q},backend:d,attrs:{shape:[O,1,L]}}),M.push(X));var Y=(0,c.multiply)({inputs:{a:K,b:X},backend:d});eo=(0,l.sum)({inputs:{x:Y},backend:d,attrs:{axis:1===I?2:1,keepDims:!0}}),M.push(Y)}else{var J=(0,o.upcastType)(t.dtype,r.dtype),Q=new(0,i.MatMulPackedProgram)(A,P,[O,S,I],n,a,V,z,U,B),$=[R,D];if(null!=m&&$.push(m),U&&$.push(v),B){var ee=d.makeTensorInfo([],"float32",o.util.createScalarValue(void 0===_?0:_,"float32"));$.push(ee),M.push(ee)}eo=d.runWebGLProgram(Q,$,J)}var et=(0,u.reshape)({inputs:{x:eo},backend:d,attrs:{shape:F}});M.push(eo);var er=!0,en=!1,ea=void 0;try{for(var eo,es,ei=M[Symbol.iterator]();!(er=(es=ei.next()).done);er=!0){var ec=es.value;d.disposeIntermediateTensorInfo(ec)}}catch(e){en=!0,ea=e}finally{try{er||null==ei.return||ei.return()}finally{if(en)throw ea}}return et}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../mulmat_packed_gpu":"hNgVJ","./Multiply":"4IPq8","./Reshape":"cAHWq","./Sum":"kF9Yv","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"81uKn":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET_UNARY",function(){return h}),a.export(r,"unaryKernelFunc",function(){return m}),a.export(r,"binaryKernelFunc",function(){return g}),a.export(r,"mapActivationToShaderProgram",function(){return v});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../binaryop_gpu"),c=e("../binaryop_packed_gpu"),u=e("../kernels/Complex"),l=e("../kernels/LeakyRelu"),p=e("../kernels/Prelu"),f=e("../unaryop_gpu"),d=e("../unaryop_packed_gpu"),h="if (isnan(x)) return x;";function m(e){var t=e.opSnippet,r=e.packedOpSnippet,n=e.cpuKernelImpl,a=e.dtype;return function(e){var o,i=e.inputs,c=e.backend,u=i.x,l=a||u.dtype;if(c.shouldExecuteOnCPU([u])&&null!=n){var p=n(c.texData.get(u.dataId).values,l);return c.makeTensorInfo(u.shape,l,p)}return o=(0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=r?new(0,d.UnaryOpPackedProgram)(u.shape,r):new(0,f.UnaryOpProgram)(u.shape,t),c.runWebGLProgram(o,[u],l)}}function g(e){var t=e.opSnippet,r=e.packedOpSnippet,n=e.checkOutOfBounds,a=void 0!==n&&n,l=e.supportsComplex,p=void 0!==l&&l,f=e.cpuKernelImpl,d=e.dtype;return function(e){var n,l=e.inputs,h=e.backend,m=l.a,g=l.b;if(p&&"complex64"===m.dtype){var v=h.texData.get(m.dataId),_=h.texData.get(g.dataId),x=(0,o._)([[v.complexTensorInfos.real,_.complexTensorInfos.real],[v.complexTensorInfos.imag,_.complexTensorInfos.imag]].map(function(e){var r=(0,o._)(e,2),n=r[0],a=r[1],c={dataId:n.dataId,dtype:n.dtype,shape:m.shape},u={dataId:a.dataId,dtype:a.dtype,shape:g.shape},l=new(0,i.BinaryOpProgram)(t,m.shape,g.shape);return h.runWebGLProgram(l,[c,u],(0,s.upcastType)(n.dtype,a.dtype))}),2),y=x[0],b=x[1],k=(0,u.complex)({inputs:{real:y,imag:b},backend:h});return h.disposeIntermediateTensorInfo(y),h.disposeIntermediateTensorInfo(b),k}var j=d||(0,s.upcastType)(m.dtype,g.dtype);if(("string"===m.dtype||"string"===g.dtype||h.shouldExecuteOnCPU([m,g]))&&null!=f){var w=h.texData.get(m.dataId).values,S=h.texData.get(g.dataId).values,I="string"===m.dtype?s.backend_util.fromUint8ToStringArray(w):w,T="string"===m.dtype?s.backend_util.fromUint8ToStringArray(S):S,N=(0,o._)(f(m.shape,g.shape,I,T,j),2),C=N[0],E=N[1],F=h.makeTensorInfo(E,j);return h.texData.get(F.dataId).values=C,F}return n=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=r?new(0,c.BinaryOpPackedProgram)(r,m.shape,g.shape,a):new(0,i.BinaryOpProgram)(t,m.shape,g.shape),h.runWebGLProgram(n,[m,g],j)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?d.LINEAR:f.LINEAR;if("relu"===e)return t?d.RELU:f.RELU;if("elu"===e)return t?d.ELU:f.ELU;if("relu6"===e)return t?d.RELU6:f.RELU6;if("prelu"===e)return t?p.PRELU_PACKED:p.PRELU;else if("leakyrelu"===e)return t?l.LEAKYRELU_PACKED:l.LEAKYRELU;else if("sigmoid"===e)return t?d.SIGMOID:f.SIGMOID;throw Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernels/Complex":"6pb3b","../kernels/LeakyRelu":"5TsMC","../kernels/Prelu":"4VrYo","../unaryop_gpu":"hFgLO","../unaryop_packed_gpu":"cy6tx","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fKWLB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET",function(){return c}),a.export(r,"SQUARED_DIFFERENCE",function(){return u}),a.export(r,"BinaryOpProgram",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c="\n if (isnan(a)) return a;\n if (isnan(b)) return b;\n",u="return (a - b) * (a - b);",l=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["A","B"],this.outputShape=s.backend_util.assertAndGetBroadcastShape(r,n),this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length),this.userCode="\n float binaryOperation(float a, float b) {\n ".concat(t,"\n }\n\n void main() {\n float a = getAAtOutCoords();\n float b = getBAtOutCoords();\n setOutput(binaryOperation(a, b));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jiUqE:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CHECK_NAN_SNIPPET_PACKED",function(){return l}),a.export(r,"ELU_DER",function(){return p}),a.export(r,"NOT_EQUAL",function(){return f}),a.export(r,"BinaryOpPackedProgram",function(){return d});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=e("./packing_util"),u=e("./shader_compiler"),l="\n result.r = isNaN.r ? NAN : result.r;\n result.g = isNaN.g ? NAN : result.g;\n result.b = isNaN.b ? NAN : result.b;\n result.a = isNaN.a ? NAN : result.a;\n",p="\n vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",f="\n return vec4(notEqual(a, b));\n",d=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,o._)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s.backend_util.assertAndGetBroadcastShape(r,n);var l=this.outputShape.length;this.enableShapeUniforms=(0,i.useShapeUniforms)(l);var p="";if(a)if(0===l||1===s.util.sizeFromShape(this.outputShape))p="\n result.y = 0.;\n result.z = 0.;\n result.w = 0.;\n ";else{var f=(0,u.getCoordsDataType)(l);if(p="\n ".concat(f," coords = getOutputCoords();\n "),1===l)this.enableShapeUniforms?p+="\n result.y = (coords + 1) >= outShape ? 0. : result.y;\n result.z = 0.;\n result.w = 0.;\n ":p+="\n result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n result.z = 0.;\n result.w = 0.;\n ");else{var d=(0,c.getChannels)("coords",l);this.enableShapeUniforms?p+="\n bool nextRowOutOfBounds =\n (".concat(d[l-2]," + 1) >= outShape[").concat(l," - 2];\n bool nextColOutOfBounds =\n (").concat(d[l-1]," + 1) >= outShape[").concat(l," - 1];\n result.y = nextColOutOfBounds ? 0. : result.y;\n result.z = nextRowOutOfBounds ? 0. : result.z;\n result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n "):p+="\n bool nextRowOutOfBounds =\n (".concat(d[l-2]," + 1) >= ").concat(this.outputShape[l-2],";\n bool nextColOutOfBounds =\n (").concat(d[l-1]," + 1) >= ").concat(this.outputShape[l-1],";\n result.y = nextColOutOfBounds ? 0. : result.y;\n result.z = nextRowOutOfBounds ? 0. : result.z;\n result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n ")}}this.userCode="\n vec4 binaryOperation(vec4 a, vec4 b) {\n ".concat(t,"\n }\n\n void main() {\n vec4 a = getAAtOutCoords();\n vec4 b = getBAtOutCoords();\n\n vec4 result = binaryOperation(a, b);\n ").concat(p,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./gpgpu_math":"crqTl","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6pb3b":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complex",function(){return i}),a.export(r,"complexConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.real,a=t.imag,o=r.makeTensorInfo(n.shape,"complex64");return r.texData.get(o.dataId).complexTensorInfos={real:(0,s.identity)({inputs:{x:n},backend:r}),imag:(0,s.identity)({inputs:{x:a},backend:r})},o}var c={kernelName:o.Complex,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"80zaJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=e.inputs,r=e.backend,n=t.x;return r.incRef(n.dataId),{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}a.defineInteropFlag(r),a.export(r,"identity",function(){return o}),a.export(r,"identityConfig",function(){return s});var s={kernelName:e("@tensorflow/tfjs-core").Identity,backendName:"webgl",kernelFunc:o}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5TsMC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LEAKYRELU",function(){return c}),a.export(r,"LEAKYRELU_PACKED",function(){return u}),a.export(r,"leakyRelu",function(){return l}),a.export(r,"leakyReluConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c="return (a< 0.) ? b * a : a;",u="\n vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.alpha,p=r.makeTensorInfo([],"float32",o.util.createScalarValue(l,"float32")),f=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)(u,a.shape,p.shape):new(0,s.BinaryOpProgram)(c,a.shape,p.shape),d=r.runWebGLProgram(f,[a,p],"float32");return r.disposeIntermediateTensorInfo(p),d}var p={kernelName:o.LeakyRelu,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4VrYo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PRELU",function(){return c}),a.export(r,"PRELU_PACKED",function(){return u}),a.export(r,"prelu",function(){return l}),a.export(r,"preluConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c="return (a < 0.) ? b * a : a;",u="\n vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";function l(e){var t=e.inputs,r=e.backend,n=t.x,a=t.alpha,l=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)(u,n.shape,a.shape):new(0,s.BinaryOpProgram)(c,n.shape,a.shape);return r.runWebGLProgram(l,[n,a],"float32")}var p={kernelName:o.Prelu,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hNgVJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MatMulPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,o._)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length);var f=Math.ceil((a?t[1]:t[2])/2),d=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";u&&(m=l?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(u,"\n }"):p?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(u,"\n }"):"vec4 activation(vec4 x) {\n ".concat(u,"\n }"),g="result = activation(result);"),c&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),p&&this.variableNames.push("leakyreluAlpha");var v="rc.x",_="rc.x";t[0]<r[0]?v="imod(rc.x, ".concat(t[0],")"):r[0]<t[0]&&(_="imod(rc.x, ".concat(r[0],")")),this.userCode="\n ".concat(m,"\n // Don't use uniform for sharedDimensionPacked for performance.\n const float sharedDimension = ").concat(f,".0;\n\n vec4 dot2x2ARowBCol(ivec3 rc) {\n vec4 result = vec4(0);\n int batchA = ").concat(v,";\n int batchB = ").concat(_,";\n for (int i = 0; i < ").concat(f,"; i++) {\n vec4 a = getMatrixA(batchA, ").concat(a?"i * 2, rc.y":"rc.y, i * 2",");\n vec4 b = getMatrixB(batchB, ").concat(i?"rc.z, i * 2":"i * 2, rc.z",");\n\n // These swizzled products need to be separately added.\n // See: https://github.com/tensorflow/tfjs/issues/1735\n result += (").concat(d[0]," * ").concat(h[0],");\n result += (").concat(d[1]," * ").concat(h[1],");\n }\n return result;\n }\n\n void main() {\n ivec3 rc = getOutputCoords();\n vec4 result = dot2x2ARowBCol(rc);\n\n ").concat(c?"result += getBiasAtOutCoords();":"","\n\n ").concat(g,"\n\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4IPq8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multiply",function(){return d}),a.export(r,"multiplyConfig",function(){return h});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../binaryop_complex_gpu"),c=e("../binaryop_gpu"),u=e("../binaryop_packed_gpu"),l=e("../kernel_utils/shared"),p=e("./Complex"),f="return a * b;";function d(e){var t,r=e.inputs,n=e.backend,a=r.a,d=r.b,h=s.backend_util.upcastType(a.dtype,d.dtype);if("complex64"===a.dtype){var m=n.texData.get(a.dataId),g=n.texData.get(d.dataId),v=new(0,i.BinaryOpComplexProgram)(i.COMPLEX_MULTIPLY.REAL,a.shape,d.shape),_=new(0,i.BinaryOpComplexProgram)(i.COMPLEX_MULTIPLY.IMAG,a.shape,d.shape),x=[{dataId:m.complexTensorInfos.real.dataId,dtype:m.complexTensorInfos.real.dtype,shape:a.shape},{dataId:m.complexTensorInfos.imag.dataId,dtype:m.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:g.complexTensorInfos.real.dataId,dtype:g.complexTensorInfos.real.dtype,shape:d.shape},{dataId:g.complexTensorInfos.imag.dataId,dtype:g.complexTensorInfos.imag.dtype,shape:d.shape}],y=n.runWebGLProgram(v,x,"float32"),b=n.runWebGLProgram(_,x,"float32"),k=(0,p.complex)({inputs:{real:y,imag:b},backend:n});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),k}if(n.shouldExecuteOnCPU([a,d])){var j=n.texData.get(a.dataId),w=n.texData.get(d.dataId),S=(0,o._)((0,l.multiplyImplCPU)(a.shape,d.shape,j.values,w.values,h),2),I=S[0],T=S[1],N=n.makeTensorInfo(T,h);return n.texData.get(N.dataId).values=I,N}return t=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,u.BinaryOpPackedProgram)(f,a.shape,d.shape):new(0,c.BinaryOpProgram)(f,a.shape,d.shape),n.runWebGLProgram(t,[a,d],h)}var h={kernelName:s.Multiply,backendName:"webgl",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../binaryop_complex_gpu":"3Ih7x","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernel_utils/shared":"5N8x3","./Complex":"6pb3b","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3Ih7x":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"COMPLEX_MULTIPLY",function(){return i}),a.export(r,"BinaryOpComplexProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},c=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=s.backend_util.assertAndGetBroadcastShape(r,n),this.userCode="\n float binaryOpComplex(\n float areal, float aimag, float breal, float bimag) {\n ".concat(t,"\n }\n\n void main() {\n float areal = getARealAtOutCoords();\n float aimag = getAImagAtOutCoords();\n float breal = getBRealAtOutCoords();\n float bimag = getBImagAtOutCoords();\n setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cAHWq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return c}),a.export(r,"reshapeConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/reshape"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.shape,u=o.util.sizeFromShape(a.shape),l=o.util.inferFromImplicitShape(c,u),p=o.util.sizeFromShape(l);o.util.assert(u===p,function(){return"The new shape (".concat(l,") has ").concat(p," elements and the old ")+"shape (".concat(a.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."});var f=r.texData.get(a.dataId);return!f.isPacked||(0,i.isReshapeFree)(a.shape,l)||null!==f.texture&&(0,i.isReshapeFree)(f.shape,l)?(r.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):(0,s.packedReshape)(a,l,r)}var u={kernelName:o.Reshape,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reshape":"iMbZ6","../webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iMbZ6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"packedReshape",function(){return c});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("../reshape_packed_gpu"),i=e("../webgl_util");function c(e,t,r){var n=[(0,i.getBatchDim)(e.shape)].concat((0,o._)((0,i.getRowsCols)(e.shape))),a={dtype:e.dtype,shape:n,dataId:e.dataId},c=[(0,i.getBatchDim)(t)].concat((0,o._)((0,i.getRowsCols)(t))),u=new(0,s.ReshapePackedProgram)(c,n),l=r.runWebGLProgram(u,[a],e.dtype,[n],!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","../reshape_packed_gpu":"kzvqz","../webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kF9Yv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return i}),a.export(r,"sumConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Sum_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.axis,i=n.keepDims;return(0,s.sumImpl)(a,o,i,r)}var c={kernelName:o.Sum,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Sum_impl":"8XhK8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8XhK8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sumImpl",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose_impl");function l(e,t,r,n){var a=e.shape.length,l=s.util.parseAxisParam(t,e.shape),p=l,f=s.backend_util.getAxesPermutation(p,a),d=null!=f,h=e;d&&(h=(0,u.transposeImpl)(e,f,n),p=s.backend_util.getInnerMostAxes(p.length,a)),s.backend_util.assertAxesAreInnerMostDims("sum",p,a);var m=(0,o._)(s.backend_util.computeOutAndReduceShapes(h.shape,p),2),g=m[0],v=m[1],_=g;r&&(_=s.backend_util.expandShapeToKeepDim(g,l));var x=s.util.sizeFromShape(v),y=s.util.sizeFromShape(e.shape),b=(0,c.reshape)({inputs:{x:h},attrs:{shape:[y/x,x]},backend:n}),k=(0,s.sumOutType)(e.dtype),j=(0,i.reduce)(b,k,"sum",n),w=(0,c.reshape)({inputs:{x:j},attrs:{shape:_},backend:n});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(j),d&&n.disposeIntermediateTensorInfo(h),w}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","./Reshape":"cAHWq","./Transpose_impl":"aGWrZ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4d4Ng":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reduce",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../mean_gpu"),i=e("../reduce_gpu");function c(e,t,r,n){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var r=t.length?t[t.length-1].outSize:e[1],n=o.backend_util.computeOptimalWindowSize(r);t.push({inSize:r,windowSize:n,outSize:Math.ceil(r/n)})}return t}(e.shape),c=e,u=0;u<a.length;u++){var l=a[u],p=l.inSize,f=l.windowSize,d=l.outSize,h=void 0,m=void 0;h="mean"===r?0===u?new(0,s.MeanProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d},p):new(0,s.MeanProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d}):new(0,i.ReduceProgram)({windowSize:f,inSize:p,batchSize:e.shape[0],outSize:d},r),m=c,c=n.runWebGLProgram(h,[c],t),m.dataId!==e.dataId&&n.disposeIntermediateTensorInfo(m)}return c}},{"@tensorflow/tfjs-core":"1q0U8","../mean_gpu":"gXG8h","../reduce_gpu":"gA6XS","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gXG8h:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MeanProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["x"];var n=t.windowSize,a=t.batchSize,i=t.inSize,c=t.outSize;this.outputShape=[a,c];var u=4*Math.floor(n/4),l=n%4,p="sumValue += dot(values, ones);";if(null!=r){var f=1/r;p="sumValue += dot(values * ".concat(s.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";i%n>0&&(d="\n if (inIdx< 0 || inIdx >= ".concat(i,") {\n return 0.0;\n }\n ")),this.userCode="\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float getValue(int batch, int inIdx) {\n ".concat(d,"\n return getX(batch, inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ").concat(n,";\n\n float sumValue = 0.0;\n\n for (int i = 0; i< ").concat(u,"; i += 4) {\n int inIdx = inOffset + i;\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n ").concat(p,"\n }\n\n int inIdx = inOffset + ").concat(u,";\n if (").concat(1===l,") {\n vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n ").concat(p,"\n } else if (").concat(2===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1), 0.0, 0.0);\n\n ").concat(p,"\n } else if (").concat(3===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2), 0.0);\n\n ").concat(p,"\n }\n setOutput(sumValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gA6XS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReduceProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["x"];var n=t.windowSize,a=t.batchSize,s=t.inSize,i=t.outSize;this.outputShape=[a,i];var c="0.0",u="";"prod"===r?c="1.0":"min"===r?(c="1.0 / 1e-20",u="min"):"max"===r&&(c="-1.0 / 1e-20",u="max");var l="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===r?l="sumValue":"prod"===r?l="prodValue":"all"===r?l="allValue":"any"===r&&(l="anyValue");var p=4*Math.floor(n/4),f=n%4,d="\n if (".concat("sum"===r,") {\n sumValue += dot(values, ones);\n } else if (").concat("prod"===r,") {\n vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n prodValue *= tmp[0] * tmp[1];\n } else {\n minMaxValue = ").concat(u,"(values, minMaxValue);\n if (").concat("min"===r," || ").concat("max"===r,") {\n minMaxValue = ").concat(u,"(values, minMaxValue);\n bvec4 isNaN = isnan(values);\n if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n minMaxValue = vec4(NAN);\n }\n }\n }\n "),h="vec4";"all"===r?(c="1.0",d="\n bool reducedAllValue = all(values);\n float floatedReducedAllValue = float(reducedAllValue);\n allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n ",h="bvec4"):"any"===r&&(c="0.0",d="\n bool reducedAnyValue = any(values);\n float floatedReducedAnyValue = float(reducedAnyValue);\n anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n ",h="bvec4");var m="";s%n>0&&(m="\n if (inIdx< 0 || inIdx >= ".concat(s,") {\n return initializationValue;\n }\n ")),this.userCode="\n const float initializationValue = ".concat(c,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float getValue(int batch, int inIdx) {\n ").concat(m,"\n return getX(batch, inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ").concat(n,";\n\n vec4 minMaxValue = vec4(").concat(c,");\n float prodValue = 1.0;\n float sumValue = 0.0;\n float allValue = 1.0;\n float anyValue = 0.0;\n\n for (int i = 0; i< ").concat(p,"; i += 4) {\n int inIdx = inOffset + i;\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n ").concat(d,"\n }\n\n int inIdx = inOffset + ").concat(p,";\n if (").concat(1===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(d,"\n } else if (").concat(2===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n initializationValue,\n initializationValue\n );\n\n ").concat(d,"\n } else if (").concat(3===f,") {\n ").concat(h," values = ").concat(h,"(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n initializationValue\n );\n\n ").concat(d,"\n }\n setOutput(").concat(l,");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aGWrZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transposeImpl",function(){return u}),a.export(r,"transposeImplCPU",function(){return s.transposeImplCPU});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../transpose_gpu"),c=e("../transpose_packed_gpu");function u(e,t,r){var n=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,c.TransposePackedProgram)(e.shape,t):new(0,i.TransposeProgram)(e.shape,t);return r.runWebGLProgram(n,[e],e.dtype)}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../transpose_gpu":"aUXE1","../transpose_packed_gpu":"9UKlP","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aUXE1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransposeProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"];for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[r[a]];this.outputShape=n,this.rank=n.length;var i=(0,s.getCoordsDataType)(this.rank),c=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],n=Array(t),a=0;a<e.length;a++)n[e[a]]=r[a];return n.join()}(r);this.userCode="\n void main() {\n ".concat(i," resRC = getOutputCoords();\n setOutput(getA(").concat(c,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9UKlP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransposePackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[r[a]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var c=(0,i.getCoordsDataType)(this.rank),u=(0,s.getVecChannels)("rc",this.rank),l=Array(this.rank),p=0;p<r.length;p++)l[r[p]]=u[p];var f="vec2(".concat(l.slice(-2).join(),")"),d="++".concat(u[this.rank-1]," < ").concat(n[this.rank-1]),h="getChannel(getA(".concat(l.join(),"), ").concat(f,")");this.userCode="\n void main() {\n ".concat(c," rc = getOutputCoords();\n vec4 result = vec4(0.);\n result[0] = ").concat(h,";\n if(").concat(d,") {\n result[1] = ").concat(h,";\n }\n --").concat(u[this.rank-1],";\n if(++").concat(u[this.rank-2]," < ").concat(n[this.rank-2],") {\n result[2] = ").concat(h,";\n if(").concat(d,") {\n result[3] = ").concat(h,";\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lfQF5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transpose",function(){return i}),a.export(r,"transposeConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Transpose_impl");function i(e){for(var t,r=e.inputs,n=e.backend,a=e.attrs,o=r.x,i=a.perm,c=Array(o.shape.length),u=0;u<c.length;u++)c[u]=o.shape[i[u]];if(n.shouldExecuteOnCPU([o])){var l=n.texData.get(o.dataId).values,p=(0,s.transposeImplCPU)(l,o.shape,o.dtype,i,c);t=n.makeTensorInfo(c,o.dtype),n.texData.get(t.dataId).values=p}else t=(0,s.transposeImpl)(o,i,n);return t}var c={kernelName:o.Transpose,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Transpose_impl":"aGWrZ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fJilr:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"abs",function(){return l}),a.export(r,"absConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../unaryop_gpu"),c=e("../unaryop_packed_gpu"),u="return abs(x);";function l(e){var t,r=e.inputs,n=e.backend,a=r.x;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var l=n.texData.get(a.dataId),p=(0,s.simpleAbsImplCPU)(l.values);return n.makeTensorInfo(a.shape,a.dtype,p)}return t=(0,o.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new(0,c.UnaryOpPackedProgram)(a.shape,u):new(0,i.UnaryOpProgram)(a.shape,u),n.runWebGLProgram(t,[a],a.dtype)}var p={kernelName:o.Abs,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../unaryop_gpu":"hFgLO","../unaryop_packed_gpu":"cy6tx","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1lYVT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return c}),a.export(r,"acosConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (abs(x) >1.) {\n return NAN;\n }\n return acos(x);\n",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Acos,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d9Wle:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return c}),a.export(r,"acoshConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (x< 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Acosh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1nm8s":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addKernelFunc",function(){return u}),a.export(r,"addConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return a + b;",u=(0,s.binaryKernelFunc)({opSnippet:c,packedOpSnippet:c,supportsComplex:!0,cpuKernelImpl:i.addImplCPU}),l={kernelName:o.Add,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5zYNC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return u}),a.export(r,"addNConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../addn_gpu"),i=e("../addn_packed_gpu"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend;if(1===t.length)return(0,c.identity)({inputs:{x:t[0]},backend:r});if(t.length>(0,o.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(t.length/2),a=u({inputs:t.slice(0,n),backend:r}),l=u({inputs:t.slice(n),backend:r});return u({inputs:[a,l],backend:r})}var p=t.map(function(e){return e.dtype}).reduce(function(e,t){return(0,o.upcastType)(e,t)}),f=t.map(function(e){return e.shape}),d=(0,o.env)().getBool("WEBGL_PACK")?new(0,i.AddNPackedProgram)(t[0].shape,f):new(0,s.AddNProgram)(t[0].shape,f);return r.runWebGLProgram(d,t,p)}var l={kernelName:o.AddN,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../addn_gpu":"8ctMp","../addn_packed_gpu":"a6JKZ","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8ctMp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AddNProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=r.map(function(e,t){return"T".concat(t)});var n=[];this.variableNames.forEach(function(e){n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n void main() {\n ".concat(n.join("\n "),"\n\n float result = ").concat(a,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],a6JKZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AddNPackedProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=r.map(function(e,t){return"T".concat(t)});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))});var a=this.variableNames.map(function(e){return"v".concat(e)}).join(" + ");this.userCode="\n void main() {\n ".concat(n.join("\n "),"\n\n vec4 result = ").concat(a,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h3WdF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return l}),a.export(r,"allConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=s.util.parseAxisParam(p,l.shape),m=h,g=s.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=s.backend_util.getInnerMostAxes(m.length,d)),s.backend_util.assertAxesAreInnerMostDims("all",m,d);var _=(0,o._)(s.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=s.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"all",n);if(f){var w=s.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:s.All,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","./Reshape":"cAHWq","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2KPW4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return l}),a.export(r,"anyConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=s.util.parseAxisParam(p,l.shape),m=h,g=s.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=s.backend_util.getInnerMostAxes(m.length,d)),s.backend_util.assertAxesAreInnerMostDims("any",m,d);var _=(0,o._)(s.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=s.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"any",n);if(f){var w=s.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:s.Any,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","./Reshape":"cAHWq","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ZZiRG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return c}),a.export(r,"argMaxConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/arg_min_max"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=o.util.parseAxisParam(c,a.shape),l=o.backend_util.getAxesPermutation(u,a.shape.length),p=a,f=[];null!=l&&(f.push(p=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:l}})),u=o.backend_util.getInnerMostAxes(u.length,p.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMax",[u[0]],p.shape.length);var d=(0,s.argMinMaxReduce)(r,p,u[0],"max");return f.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),d}var u={kernelName:o.ArgMax,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/arg_min_max":"lldjm","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lldjm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMinMaxReduce",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../argminmax_gpu"),c=e("../argminmax_packed_gpu"),u=e("../kernels/Reshape");function l(e,t,r,n){var a=[r];if(s.backend_util.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),a,t.shape.length),!(0,s.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var l=[],p=e.texData.get(t.dataId),f=null!==p&&p.isPacked,d=t;f&&l.push(d=e.unpackTensor(t));var h=(0,o._)(s.backend_util.computeOutAndReduceShapes(d.shape,a),2),m=h[0],g=h[1],v=s.util.sizeFromShape(g),_=(0,u.reshape)({inputs:{x:d},backend:e,attrs:{shape:[-1,v]}});l.push(_);var x=function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r.shape[0],c=r.shape[1];null!=a&&(o=a.shape[0],c=a.shape[1]);var u=s.backend_util.computeOptimalWindowSize(c),l={windowSize:u,inSize:c,batchSize:o,outSize:Math.ceil(c/u)},p=new(0,i.ArgMinMaxProgram)(l,n,null==a),f=[r];null!=a&&f.push(a);var d=t.runWebGLProgram(p,f,"int32");if(1===d.shape[1])return d;var h=e(t,r,n,d);return t.disposeIntermediateTensorInfo(d),h}(e,_,n);l.push(x);var y=(0,u.reshape)({inputs:{x:x},backend:e,attrs:{shape:m}});return l.forEach(function(t){return e.disposeIntermediateTensorInfo(t)}),y}return function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=null!=a?a.shape:r.shape,i=o[o.length-1],u=s.backend_util.computeOptimalWindowSize(i),l=new(0,c.ArgMinMaxPackedProgram)(o,u,n,null==a),p=null==a?[r]:[r,a],f=t.runWebGLProgram(l,p,"int32");if(f.shape.length===r.shape.length){var d=e(t,r,n,f);return t.disposeIntermediateTensorInfo(f),d}return f}(e,t,n)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../argminmax_gpu":"1rE4R","../argminmax_packed_gpu":"izx2d","../kernels/Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1rE4R":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ArgMinMaxProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["A"];var a=t.windowSize,s=t.batchSize,i=t.outSize;n||this.variableNames.push("bestIndicesA"),this.outputShape=[s,i],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = outIdx * ".concat(a,";\n\n int bestIndex = inOffset;\n float bestValue = getA(batch, bestIndex);\n\n for (int i = 0; i< ").concat(a,"; i++) {\n int inIdx = ").concat(n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));",";\n float candidate = getA(batch, inIdx);\n if (candidate ").concat("max"===r?">":"<"," bestValue) {\n bestValue = candidate;\n bestIndex = inIdx;\n }\n }\n setOutput(float(bestIndex));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],izx2d:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ArgMinMaxPackedProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t,r,n,a){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,s.util.assert(t.length>2,function(){return"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")});var u,l,p=Math.ceil(t[t.length-1]/r);this.outputShape=t.slice(0,-1),p>1&&this.outputShape.push(p),a||this.variableNames.push("bestIndicesA");var f=this.outputShape,d=f.length,h=(0,c.getCoordsDataType)(d),m=(0,i.getChannels)("coords",d);if(1===p){l=d+1;var g=(0,c.getCoordsDataType)(l);u="\n ".concat(g," sourceLocR = ").concat(g,"(").concat(m.join(),", 0);\n ++").concat(m[d-1],";\n ").concat(g," sourceLocG = ").concat(g,"(").concat(m.join(),", 0);\n ++").concat(m[d-2],";\n ").concat(g," sourceLocA = ").concat(g,"(").concat(m.join(),", 0);\n --").concat(m[d-1],";\n ").concat(g," sourceLocB = ").concat(g,"(").concat(m.join(),", 0);\n --").concat(m[d-2],";")}else l=d,u="\n ".concat(h," sourceLocR = coords;\n ++").concat(m[d-1],";\n ").concat(h," sourceLocG = coords;\n ++").concat(m[d-2],";\n ").concat(h," sourceLocA = coords;\n --").concat(m[d-1],";\n ").concat(h," sourceLocB = coords;\n --").concat(m[d-2],";");var v=["x","y","z","w","u","v"].slice(0,l),_="."+v[l-1],x=v.map(function(e){return"int "+e}),y=(0,i.getChannels)("sourceLocR",l-1).concat("inIdx.r"),b=(0,i.getChannels)("sourceLocG",l-1).concat("inIdx.g"),k=(0,i.getChannels)("sourceLocB",l-1).concat("inIdx.b"),j=(0,i.getChannels)("sourceLocA",l-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",S=a?"":"\n inIdx = round(vec4(getBestIndicesAChannel(".concat(y.join(),"),\n getBestIndicesAChannel(").concat(b.join(),"),\n getBestIndicesAChannel(").concat(k.join(),"),\n getBestIndicesAChannel(").concat(j.join(),")));"),I="vec4(\n getAChannel(".concat(y.join(),"),\n hasNextCol ? getAChannel(").concat(b.join(),") : 0.,\n hasNextRow ? getAChannel(").concat(k.join(),") : 0.,\n hasNextRow && hasNextCol ? getAChannel(").concat(j.join(),") : 0.)"),T=a?"":"\n float getBestIndicesAChannel(".concat(x.join(),") {\n return getChannel(getBestIndicesA(").concat(v.join(),"),\n vec2(").concat(v.slice(-2).join(),"));\n }");this.userCode="\n float getAChannel(".concat(x.join(),") {\n return getChannel(getA(").concat(v.join(),"),\n vec2(").concat(v.slice(-2).join(),"));\n }\n ").concat(T,"\n void main() {\n ").concat(h," coords = getOutputCoords();\n bool hasNextCol = ").concat(m[d-1],"< ").concat(f[d-1]-1,";\n bool hasNextRow = ").concat(m[d-2]," < ").concat(f[d-2]-1,";\n ").concat(u,"\n ivec4 srcIdx = ivec4(sourceLocR").concat(_,", sourceLocG").concat(_,",\n sourceLocB").concat(_,", sourceLocA").concat(_,") * ").concat(r,";\n ivec4 inIdx = srcIdx;\n vec4 bestIndex = vec4(inIdx);\n vec4 bestValue = ").concat(I,";\n\n for (int i = 0; i < ").concat(r,"; i++) {\n inIdx = srcIdx;\n ").concat(S,"\n vec4 candidate = ").concat(I,";\n bvec4 nan = isnan(candidate);\n bvec4 replace = bvec4(\n vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n bestValue = vec4(replace.x ? candidate.x : bestValue.x,\n replace.y ? candidate.y : bestValue.y,\n replace.z ? candidate.z : bestValue.z,\n replace.w ? candidate.w : bestValue.w);\n bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n srcIdx++;\n }\n setOutput(bestIndex);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],Z0oH9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return c}),a.export(r,"argMinConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/arg_min_max"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=o.util.parseAxisParam(c,a.shape),l=o.backend_util.getAxesPermutation(u,a.shape.length),p=a,f=[];null!=l&&(f.push(p=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:l}})),u=o.backend_util.getInnerMostAxes(u.length,p.shape.length)),o.backend_util.assertAxesAreInnerMostDims("argMin",[u[0]],p.shape.length);var d=(0,s.argMinMaxReduce)(r,p,u[0],"min");return f.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),d}var u={kernelName:o.ArgMin,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/arg_min_max":"lldjm","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aO9hi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return c}),a.export(r,"asinConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if (abs(x) >1.) {\n return NAN;\n }\n return asin(x);\n",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Asin,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kPUKA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return c}),a.export(r,"asinhConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"return log(x + sqrt(x * x + 1.0));",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Asinh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6IyT2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return c}),a.export(r,"atanConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return atan(x);\n",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Atan,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jhE5c:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2",function(){return p}),a.export(r,"atan2Config",function(){return f});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=s.CHECK_NAN_SNIPPET+"\n return atan(a, b);\n",l="\n vec4 result = atan(a, b);\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",p=(0,c.binaryKernelFunc)({opSnippet:u,packedOpSnippet:l}),f={kernelName:o.Atan2,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],buffR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return c}),a.export(r,"atanhConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n if ((x< -1.0) || (x >1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Atanh,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"332V5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return u}),a.export(r,"avgPoolConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../pool_gpu"),i=e("../webgl_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;(0,i.assertNotComplex)(a,"avgPool");var u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(l,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(l," and dilations '").concat(1,"'")});var d=o.backend_util.computePool2DInfo(a.shape,u,l,1,p,f);if(1===d.filterWidth&&1===d.filterHeight&&o.util.arraysEqual(d.inShape,d.outShape))return(0,c.identity)({inputs:{x:a},backend:r});var h=new(0,s.Pool2DProgram)(d,"avg",!1);return r.runWebGLProgram(h,[a],"float32")}var l={kernelName:o.AvgPool,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../pool_gpu":"e0m7U","../webgl_util":"foNeO","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e0m7U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Pool2DProgram",function(){return s}),a.export(r,"Pool3DProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,o._)(this,e),this.variableNames=["x"],"avg"===r&&n)throw Error("Cannot compute positions for average pool.");var i=t.filterWidth,c=t.strideHeight,u=t.strideWidth,l=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var g="avg"===r,v="((batch * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),_="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),x="0.0";if(g||(x="-1.0 / 1e-20"),n){this.userCode="\n const ivec2 strides = ivec2(".concat(c,", ").concat(u,");\n const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d = coords[3];\n\n ivec2 xRCCorner = coords.yz * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // max/min x(?, ?, d) to get y(yR, yC, d).\n // ? = to be determined\n float minMaxValue = 0.0;\n float minMaxValueFound = 0.0;\n int minMaxPosition = 0;\n float avgValue = 0.0;\n\n for (int wR = 0; wR< ").concat(f,";\n wR += ").concat(l,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(d,";\n wC += ").concat(p,") {\n int xC = xCCorner + wC;\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float value = getX(batch, xR, xC, d);\n\n // If a min / max value has already been found, use it. If not,\n // use the current value.\n float currMinMaxValue = mix(\n value, minMaxValue, minMaxValueFound);\n if (value ").concat(">="," currMinMaxValue) {\n minMaxValue = value;\n minMaxValueFound = 1.0;\n minMaxPosition = ").concat(a?s?v:_:"wR * ".concat(d," + wC"),";\n }\n }\n }\n setOutput(float(minMaxPosition));\n }\n ");return}var y="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===r&&(y="avgValue / max(count, 1.0)");var b=4*Math.floor(i/4),k=i%4,j="\n if (".concat(g,") {\n avgValue += dot(values, ones);\n } else {\n minMaxValue = ").concat("max","(values, minMaxValue);\n }\n ");this.userCode="\n const ivec2 strides = ivec2(".concat(c,", ").concat(u,");\n const ivec2 pads = ivec2(").concat(h,", ").concat(m,");\n const float initializationValue = ").concat(x,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float count = 0.0;\n\n float getValue(int batch, int xR, int xC, int d) {\n if (xC< 0 || xC >= ").concat(t.inWidth,") {\n return initializationValue;\n }\n count += 1.0;\n return getX(batch, xR, xC, d);\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d = coords[3];\n\n ivec2 xRCCorner = coords.yz * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // max/min x(?, ?, d) to get y(yR, yC, d).\n // ? = to be determined\n vec4 minMaxValue = vec4(").concat(x,");\n float avgValue = 0.0;\n count = 0.0;\n\n for (int wR = 0; wR< ").concat(f,";\n wR += ").concat(l,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(b,"; wC += 4) {\n int xC = xCCorner + wC * ").concat(p,";\n\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n getValue(batch, xR, xC + 2 * ").concat(p,", d),\n getValue(batch, xR, xC + 3 * ").concat(p,", d)\n );\n\n ").concat(j,"\n }\n\n int xC = xCCorner + ").concat(b,";\n if (").concat(1===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(j,"\n } else if (").concat(2===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n initializationValue,\n initializationValue\n );\n\n ").concat(j,"\n } else if (").concat(3===k,") {\n vec4 values = vec4(\n getValue(batch, xR, xC, d),\n getValue(batch, xR, xC + ").concat(p,", d),\n getValue(batch, xR, xC + 2 * ").concat(p,", d),\n initializationValue\n );\n\n ").concat(j,"\n }\n }\n setOutput(").concat(y,");\n }\n ")},i=function e(t,r,n){"use strict";var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,o._)(this,e),this.variableNames=["x"],"avg"===r&&n)throw Error("Cannot compute positions for average pool.");var i=t.filterWidth,c=t.strideDepth,u=t.strideHeight,l=t.strideWidth,p=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,m=t.effectiveFilterHeight,g=t.effectiveFilterWidth,v=t.padInfo.front,_=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===r,b="0.0";if(y||(b="-1.0 / 1e-20"),n){this.userCode="\n const ivec3 strides =\n ivec3(".concat(c,", ").concat(u,", ").concat(l,");\n const ivec3 pads = ivec3(").concat(v,", ").concat(_,", ").concat(x,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xDCorner = xCorner.x;\n int xRCorner = xCorner.y;\n int xCCorner = xCorner.z;\n\n // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n // ? = to be determined\n float minMaxValue = 0.0;\n float minMaxValueFound = 0.0;\n int minMaxPosition = 0;\n\n for (int wD = 0; wD< ").concat(h,";\n wD += ").concat(p,") {\n int xD = xDCorner + wD;\n\n if (xD < 0 || xD >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(m,";\n wR += ").concat(f,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(g,";\n wC += ").concat(d,") {\n int xC = xCCorner + wC;\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float value = getX(batch, xD, xR, xC, ch);\n\n // If a min / max value has already been found, use it. If not,\n // use the current value.\n float currMinMaxValue = mix(\n value, minMaxValue, minMaxValueFound);\n if (value ").concat(">="," currMinMaxValue) {\n minMaxValue = value;\n minMaxValueFound = 1.0;\n minMaxPosition = ").concat(a?s?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(m," * ").concat(g," +\n wR * ").concat(g," + wC"),";\n }\n }\n }\n }\n setOutput(float(minMaxPosition));\n }\n ");return}var k="".concat(r,"(").concat(r,"(").concat(r,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===r&&(k="avgValue / max(count, 1.0)");var j=4*Math.floor(i/4),w=i%4,S="\n if (".concat(y,") {\n avgValue += dot(values, ones);\n } else {\n minMaxValue = ").concat("max","(values, minMaxValue);\n }\n ");this.userCode="\n const ivec3 strides =\n ivec3(".concat(c,", ").concat(u,", ").concat(l,");\n const ivec3 pads = ivec3(").concat(v,", ").concat(_,", ").concat(x,");\n const float initializationValue = ").concat(b,";\n const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n float count = 0.0;\n\n float getValue(int batch, int xD, int xR, int xC, int ch) {\n if (xC< 0 || xC >= ").concat(t.inWidth,") {\n return initializationValue;\n }\n count += 1.0;\n return getX(batch, xD, xR, xC, ch);\n }\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xDCorner = xCorner.x;\n int xRCorner = xCorner.y;\n int xCCorner = xCorner.z;\n\n // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n // ? = to be determined\n vec4 minMaxValue = vec4(").concat(b,");\n float avgValue = 0.0;\n count = 0.0;\n\n for (int wD = 0; wD< ").concat(h,";\n wD += ").concat(p,") {\n int xD = xDCorner + wD;\n\n if (xD < 0 || xD >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(m,";\n wR += ").concat(f,") {\n int xR = xRCorner + wR;\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(j,"; wC += 4) {\n int xC = xCCorner + wC * ").concat(d,";\n\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n );\n\n ").concat(S,"\n }\n\n int xC = xCCorner + ").concat(j,";\n if (").concat(1===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n ").concat(S,"\n } else if (").concat(2===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n initializationValue,\n initializationValue\n );\n\n ").concat(S,"\n } else if (").concat(3===w,") {\n vec4 values = vec4(\n getValue(batch, xD, xR, xC, ch),\n getValue(batch, xD, xR, xC + ").concat(d,", ch),\n getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n initializationValue\n );\n\n ").concat(S,"\n }\n }\n }\n setOutput(").concat(k,");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],g9tKL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3D",function(){return i}),a.export(r,"avgPool3DConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../pool_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.filterSize,c=n.strides,u=n.pad,l=n.dimRoundingMode,p=n.dataFormat,f=o.backend_util.computePool3DInfo(a.shape,i,c,[1,1,1],u,l,p),d=new(0,s.Pool3DProgram)(f,"avg",!1);return r.runWebGLProgram(d,[a],"float32")}var c={kernelName:o.AvgPool3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../pool_gpu":"e0m7U","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aOhSi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3DGrad",function(){return i}),a.export(r,"avgPool3DGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../avg_pool_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=o.backend_util.computePool3DInfo(i.shape,c,u,[1,1,1],l,p),d=new(0,s.AvgPool3DBackpropProgram)(f);return r.runWebGLProgram(d,[a],i.dtype)}var c={kernelName:o.AvgPool3DGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../avg_pool_backprop_gpu":"5qXRw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5qXRw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"AvgPool2DBackpropProgram",function(){return s}),a.export(r,"AvgPool3DBackpropProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,s=t.strideWidth,i=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,p=u-1-t.padInfo.top,f=l-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(p,", ").concat(f,");\n const float avgMultiplier = float(").concat(1/(r*n),");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n\n ivec2 dyRCCorner = coords.yz - pads;\n int dyRCorner = dyRCCorner.x;\n int dyCCorner = dyRCCorner.y;\n\n // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR < ").concat(u,";\n wR += ").concat(i,") {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(l,";\n wC+= ").concat(c,") {\n float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(b, idyR, idyC, d);\n\n dotProd += dyValue * avgMultiplier;\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var r=t.filterDepth,n=t.filterHeight,a=t.filterWidth,s=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,m=f-1-t.padInfo.front,g=d-1-t.padInfo.top,v=h-1-t.padInfo.left;this.userCode="\n const ivec3 pads = ivec3(".concat(m,", ").concat(g,", ").concat(v,");\n const float avgMultiplier = float(").concat(1/(r*n*a),");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyDCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n // dx(xD, xR, xC, ch).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int wD = 0; wD< ").concat(f,";\n wD += ").concat(u,") {\n float dyD = float(dyDCorner + wD) / ").concat(s,".0;\n\n if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n continue;\n }\n int idyD = int(dyD);\n\n for (int wR = 0; wR< ").concat(d,";\n wR += ").concat(l,") {\n float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(h,";\n wC += ").concat(p,") {\n float dyC = float(dyCCorner + wC) / ").concat(c,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n dotProd += dyValue * avgMultiplier;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hfgmQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPoolGrad",function(){return c}),a.export(r,"avgPoolGradConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../avg_pool_backprop_gpu"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input;(0,i.assertNotComplex)([a,c],"avgPoolGrad");var u=n.filterSize,l=n.strides,p=n.pad,f=o.backend_util.computePool2DInfo(c.shape,u,l,1,p),d=new(0,s.AvgPool2DBackpropProgram)(f);return r.runWebGLProgram(d,[a],c.dtype)}var u={kernelName:o.AvgPoolGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../avg_pool_backprop_gpu":"5qXRw","../webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fBU4J:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchMatMul",function(){return i}),a.export(r,"batchMatMulConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./BatchMatMul_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,o=t.b,i=n.transposeA,c=n.transposeB;return(0,s.batchMatMulImpl)({a:a,b:o,transposeA:i,transposeB:c,backend:r})}var c={kernelName:o.BatchMatMul,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./BatchMatMul_impl":"iQPyh","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i8QtN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return c}),a.export(r,"batchNormConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../batchnorm_gpu"),i=e("../batchnorm_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=t.mean,u=t.variance,l=t.offset,p=t.scale;o.util.assert(c.shape.length===u.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),o.util.assert(null==l||c.shape.length===l.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),o.util.assert(null==p||c.shape.length===p.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."});var f=n.varianceEpsilon;null==f&&(f=.001);var d=[a,c,u],h=null;null!=l&&(h=l.shape,d.push(l));var m=null;null!=p&&(m=p.shape,d.push(p));var g=(0,o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new(0,i.BatchNormPackedProgram)(a.shape,c.shape,u.shape,h,m,f):new(0,s.BatchNormProgram)(a.shape,c.shape,u.shape,h,m,f);return r.runWebGLProgram(g,d,d[0].dtype)},u={kernelName:o.FusedBatchNorm,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../batchnorm_gpu":"e9F9N","../batchnorm_packed_gpu":"7cCHV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e9F9N:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BatchNormProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a,i,c){"use strict";(0,o._)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],s.backend_util.assertAndGetBroadcastShape(t,r),s.backend_util.assertAndGetBroadcastShape(t,n);var u="0.0";null!=a&&(s.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="1.0";null!=i&&(s.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n void main() {\n float x = getXAtOutCoords();\n float mean = getMeanAtOutCoords();\n float variance = getVarianceAtOutCoords();\n float offset = ".concat(u,";\n float scale = ").concat(l,";\n float inv = scale * inversesqrt(variance + float(").concat(c,"));\n setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7cCHV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BatchNormPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a,i,c){"use strict";(0,o._)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],s.backend_util.assertAndGetBroadcastShape(t,r),s.backend_util.assertAndGetBroadcastShape(t,n);var u="vec4(0.0)";null!=a&&(s.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=i&&(s.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n void main() {\n vec4 offset = ".concat(u,";\n vec4 scale = ").concat(l,";\n\n vec4 x = getXAtOutCoords();\n vec4 mean = getMeanAtOutCoords();\n vec4 variance = getVarianceAtOutCoords();\n\n vec4 inv = scale * inversesqrt(variance + vec4(").concat(c,"));\n\n setOutput((x - mean) * inv + offset);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2JoZ3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return u}),a.export(r,"batchToSpaceNDConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("./Reshape"),i=e("./Slice"),c=e("./Transpose"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.blockShape,l=n.crops;o.util.assert(a.shape.length<=4,function(){return"batchToSpaceND for rank >4 with a WebGL backend not implemented yet"});var p=u.reduce(function(e,t){return e*t}),f=o.backend_util.getReshaped(a.shape,u,p),d=o.backend_util.getPermuted(f.length,u.length),h=o.backend_util.getReshapedPermuted(a.shape,u,p),m=o.backend_util.getSliceBeginCoords(l,u.length),g=o.backend_util.getSliceSize(h,l,u.length),v=[],_=(0,s.reshape)({inputs:{x:a},backend:r,attrs:{shape:f}}),x=(0,c.transpose)({inputs:{x:_},backend:r,attrs:{perm:d}}),y=(0,s.reshape)({inputs:{x:x},backend:r,attrs:{shape:h}}),b=(0,i.slice)({inputs:{x:y},backend:r,attrs:{begin:m,size:g}});return v.push(_),v.push(x),v.push(y),v.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),b},l={kernelName:o.BatchToSpaceND,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","./Reshape":"cAHWq","./Slice":"l7vkL","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l7vkL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"slice",function(){return l}),a.export(r,"sliceConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../slice_gpu"),u=e("../slice_packed_gpu");function l(e){var t,r,n,a,l,p=e.inputs,f=e.backend,d=e.attrs,h=p.x,m=d.begin,g=d.size,v=(0,o._)(s.slice_util.parseSliceParams(h,m,g),2),_=v[0],x=v[1];if(s.slice_util.assertParamsValid(h,_,x),0===s.util.sizeFromShape(x))return f.makeTensorInfo(x,h.dtype,[]);if(f.shouldExecuteOnCPU([h])||"string"===h.dtype){var y=f.texData.get(h.dataId),b=(0,i.sliceImplCPU)(y.values,_,x,h.shape,h.dtype);return f.makeTensorInfo(x,h.dtype,b)}var k=f.texData.get(h.dataId).isPacked,j=s.slice_util.isSliceContinous(h.shape,_,x);if(k||!j){var w=(0,s.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,u.SlicePackedProgram)(x):new(0,c.SliceProgram)(x),S=[_];return f.runWebGLProgram(w,[h],h.dtype,S)}return f.uploadToGPU(h.dataId),t=f.texData.get(h.dataId),r=f.makeTensorInfo(x,h.dtype),Object.assign(n=f.texData.get(r.dataId),t),n.refCount=1,n.shape=x,n.dtype=h.dtype,a=s.slice_util.computeFlatOffset(_,s.util.computeStrides(h.shape)),t.slice&&(a+=t.slice.flatOffset),n.slice={flatOffset:a,origDataId:t.slice&&t.slice.origDataId||h.dataId},l=f.dataRefCount.get(n.slice.origDataId)||1,f.dataRefCount.set(n.slice.origDataId,l+1),r}var p={kernelName:s.Slice,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../slice_gpu":"g4L2w","../slice_packed_gpu":"h3qdm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],g4L2w:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SliceProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var r,n=(0,s.getCoordsDataType)(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var a=function(e){if(1===e)return"sourceLoc";if(e<=6)return c.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map(function(e,t){return"sourceLoc.".concat(c[t]," = start[").concat(t,"] + coords.").concat(c[t],";")});r="\n ".concat(n," sourceLoc;\n ").concat(n," coords = getOutputCoords();\n ").concat(i.join("\n"),"\n "),this.userCode="\n void main() {\n ".concat(r,"\n setOutput(getSource(").concat(a,"));\n }\n ")},c=["x","y","z","w","u","v"]},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h3qdm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SlicePackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./packing_util"),i=e("./shader_compiler"),c=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r=(0,i.getCoordsDataType)(this.rank),n=(0,s.getChannels)("coords",this.rank),a=(0,s.getChannels)("sourceLoc",this.rank),c=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),u="getChannel(getSource(".concat(a.join(),"), ").concat(c,")"),l="\n result.x = ".concat(u,";\n if (++").concat(n[this.rank-1]," < ").concat(t[this.rank-1],") {\n ++").concat(a[this.rank-1],";\n result.y = ").concat(u,";\n --").concat(a[this.rank-1],";\n }\n "),p=1===this.rank?"":"\n --".concat(n[this.rank-1],";\n if (++").concat(n[this.rank-2]," < ").concat(t[this.rank-2],") {\n ++").concat(a[this.rank-2],";\n result.z = ").concat(u,";\n if (++").concat(n[this.rank-1]," < ").concat(t[this.rank-1],") {\n ++").concat(a[this.rank-1],";\n result.w = ").concat(u,";\n }\n }\n "),f=this.rank<=4?"sourceLoc = coords +\n ".concat(r,"(").concat(t.map(function(e,t){return"start[".concat(t,"]")}).join(),");"):t.map(function(e,t){return"".concat(a[t]," = ").concat(n[t]," + start[").concat(t,"];")}).join("\n");this.userCode="\n void main() {\n ".concat(r," coords = getOutputCoords();\n ").concat(r," sourceLoc;\n ").concat(f,"\n vec4 result = vec4(0.);\n ").concat(l,"\n ").concat(p,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"46sCj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return i}),a.export(r,"bincountConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.weights,i=n.size,c=r.readSync(a.dataId),u=r.readSync(o.dataId),l=(0,s.bincountImplCPU)(c,u,o.dtype,o.shape,i);return r.makeTensorInfo([i],o.dtype,l)}var c={kernelName:o.Bincount,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3Wg7X":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"BITWISEAND",function(){return l}),a.export(r,"BITWISEAND_UNPACKED",function(){return p}),a.export(r,"bitwiseAnd",function(){return f}),a.export(r,"bitwiseAndConfig",function(){return d});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../binaryop_gpu"),c=e("../binaryop_packed_gpu"),u=e("../kernel_utils/shared"),l="\n int r = int(a.r) & int(b.r);\n int g = int(a.g) & int(b.g);\n int rb = int(a.b) & int(b.b);\n int ra = int(a.a) & int(b.a);\n return vec4(r, g, rb, ra);\n",p="\n return float(int(a.r) & int(b.r));\n";function f(e){var t,r=e.inputs,n=e.backend,a=r.a,f=r.b,d=(0,s.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS"),h=(0,s.env)().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([a,f])||1===h){var m=n.texData.get(a.dataId).values,g=n.texData.get(f.dataId).values,v=(0,o._)((0,u.bitwiseAndImplCPU)(a.shape,f.shape,m,g,a.dtype),2),_=v[0],x=v[1],y=n.makeTensorInfo(x,a.dtype);return n.texData.get(y.dataId).values=_,y}return t=d?new(0,c.BinaryOpPackedProgram)(l,a.shape,f.shape,!1):new(0,i.BinaryOpProgram)(p,a.shape,f.shape),n.runWebGLProgram(t,[a,f],a.dtype)}var d={kernelName:s.BitwiseAnd,backendName:"webgl",kernelFunc:f}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h1aTY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return s}),a.export(r,"broadcastArgsConfig",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e){var t=e.inputs,r=e.backend,n=t.s0,a=t.s1,s=r.readSync(n.dataId),i=r.readSync(a.dataId),c=o.backend_util.assertAndGetBroadcastShape(Array.from(s),Array.from(i));return r.makeTensorInfo([c.length],"int32",Int32Array.from(c))}var i={kernelName:o.BroadcastArgs,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jrIpN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cast",function(){return d}),a.export(r,"castConfig",function(){return h});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("./Complex"),u=e("./Identity"),l=e("./NotEqual"),p=e("./Real"),f=e("../kernel_utils/int");function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,h=n.dtype;if("complex64"===h){if("complex64"===a.dtype)return(0,u.identity)({inputs:{x:a},backend:r});var m=s.zeros(a.shape),g=d({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),v=(0,c.complex)({inputs:{real:g,imag:m},backend:r});return m.dispose(),r.disposeIntermediateTensorInfo(g),v}if("complex64"===a.dtype){var _=(0,p.real)({inputs:{input:a},backend:r}),x=d({inputs:{x:_},backend:r,attrs:{dtype:h}});return r.disposeIntermediateTensorInfo(_),x}if(!s.util.hasEncodingLoss(a.dtype,h)){var y=(0,u.identity)({inputs:{x:a},backend:r});return{dataId:y.dataId,shape:y.shape,dtype:h}}if(r.shouldExecuteOnCPU([a])){var b=r.texData.get(a.dataId).values,k=(0,o._)((0,i.castImplCPU)(b,a.shape,a.dtype,h),3),j=k[0],w=k[1],S=k[2];return r.makeTensorInfo(j,w,S)}if("int32"===h)return(0,f.int)(a,r);if("bool"===h){var I=r.makeTensorInfo([],"bool",s.util.getTypedArrayFromDType("bool",1)),T=(0,l.notEqual)({inputs:{a:a,b:I},backend:r});return r.disposeIntermediateTensorInfo(I),T}throw Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(h))}var h={kernelName:s.Cast,backendName:"webgl",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","./Complex":"6pb3b","./Identity":"80zaJ","./NotEqual":"1sefw","./Real":"irEai","../kernel_utils/int":"8TTC8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1sefw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"notEqual",function(){return c}),a.export(r,"notEqualConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.binaryKernelFunc)({opSnippet:"return float(a != b);",cpuKernelImpl:i.notEqualImplCPU,dtype:"bool"}),u={kernelName:o.NotEqual,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],irEai:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"real",function(){return i}),a.export(r,"realConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.input,a=r.texData.get(n.dataId);return(0,s.identity)({inputs:{x:a.complexTensorInfos.real},backend:r})}var c={kernelName:o.Real,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8TTC8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"int",function(){return s});var o=e("../unaryop_gpu");function s(e,t){var r=new(0,o.UnaryOpProgram)(e.shape,"return float(int(x));"),n=t.runWebGLProgram(r,[e],"int32");return{dataId:n.dataId,shape:n.shape,dtype:n.dtype}}},{"../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gDbNZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ceil",function(){return u}),a.export(r,"ceilConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return ceil(x);",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.ceilImplCPU}),l={kernelName:o.Ceil,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kJZuv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return c}),a.export(r,"clipByValueConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../clip_gpu"),i=e("../clip_packed_gpu");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=a.clipValueMin,l=a.clipValueMax;return t=(0,o.env)().getBool("WEBGL_PACK_CLIP")?new(0,i.ClipPackedProgram)(c.shape):new(0,s.ClipProgram)(c.shape),n.runWebGLProgram(t,[c],c.dtype,[[u],[l]])}var u={kernelName:o.ClipByValue,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../clip_gpu":"b9GDS","../clip_packed_gpu":"fjtPf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b9GDS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ClipProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n void main() {\n float value = getAAtOutCoords();\n if (isnan(value)) {\n setOutput(value);\n return;\n }\n\n setOutput(clamp(value, minVal, maxVal));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fjtPf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ClipPackedProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n void main() {\n vec4 value = getAAtOutCoords();\n\n if (any(isnan(value))) {\n setOutput(value);\n return;\n }\n\n setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8fj1T":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complexAbs",function(){return c}),a.export(r,"complexAbsConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../complex_abs_gpu");function i(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}function c(e){var t=e.inputs,r=e.backend,n=t.x,a=r.texData.get(n.dataId),o=new(0,s.ComplexAbsProgram)(n.shape),c=[i(n,a.complexTensorInfos.real),i(n,a.complexTensorInfos.imag)];return r.runWebGLProgram(o,c,c[0].dtype)}var u={kernelName:o.ComplexAbs,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../complex_abs_gpu":"38BR7","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"38BR7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ComplexAbsProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n void main() {\n float re = abs(getRealAtOutCoords());\n float im = abs(getImagAtOutCoords());\n float mx = max(re, im);\n\n // sadly the length function in glsl is not underflow-safe\n // (at least not on Intel GPUs). So the safe solution is\n // to ensure underflow-safety in all cases.\n setOutput(\n mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n );\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2LbZ9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return c}),a.export(r,"concatConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./Concat_impl"),i=e("./Identity");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis,a=o.util.parseAxisParam(n,t[0].shape)[0],c=t.map(function(e){return e.shape});o.backend_util.assertParamsConsistent(c,a);var u=o.backend_util.computeOutShape(t.map(function(e){return e.shape}),a);if(0===o.util.sizeFromShape(u))return r.makeTensorInfo(u,t[0].dtype,[]);var l=t.filter(function(e){return o.util.sizeFromShape(e.shape)>0});return 1===l.length?(0,i.identity)({inputs:{x:l[0]},backend:r}):(0,s.concatImpl)(l,a,r)}var u={kernelName:o.Concat,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","./Concat_impl":"5HXXb","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5HXXb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concatImpl",function(){return function e(t,r,n){var a,m,g,v,_=t[0].dtype;if("complex64"===_){var x=t.map(function(e){return(0,d.real)({inputs:{input:e},backend:n})}),y=t.map(function(e){return(0,f.imag)({inputs:{input:e},backend:n})}),b=e(x,r,n),k=e(y,r,n),j=(0,p.complex)({inputs:{real:b,imag:k},backend:n});return x.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),y.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),j}var w=n.shouldExecuteOnCPU(t);if("string"===_&&(w=!0),w){var S=t.map(function(e){var t=o.util.sizeFromShape(e.shape.slice(r));return(0,h.reshape)({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})}),I=S.map(function(e){return{vals:n.readSync(e.dataId),shape:e.shape}}),T=o.backend_util.computeOutShape(S.map(function(e){return e.shape}),1),N=1===S[0].shape[0],C=(0,c.concatImplCPU)(I,T,_,N),E=o.backend_util.computeOutShape(t.map(function(e){return e.shape}),r),F=n.makeTensorInfo(E,_,C);return S.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),F}var A=t.filter(function(e){return o.util.sizeFromShape(e.shape)>0}),P=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&A[0].shape.length>1;if(1===A.length){var R=P?new(0,u.UnaryOpProgram)(t[0].shape,u.CLONE):new(0,l.UnaryOpPackedProgram)(t[0].shape,u.CLONE);return n.runWebGLProgram(R,t,_)}var D=(0,o.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(A.length>D){for(var M=[],O=0;O<A.length;O+=D){var L=A.slice(O,O+D);M.push(e(L,r,n))}var V=e(M,r,n),U=!0,B=!1,z=void 0;try{for(var G,W=M[Symbol.iterator]();!(U=(G=W.next()).done);U=!0){var q=G.value;n.disposeIntermediateTensorInfo(q)}}catch(e){B=!0,z=e}finally{try{U||null==W.return||W.return()}finally{if(B)throw z}}return V}if(P){var H=new(0,i.ConcatPackedProgram)(A.map(function(e){return e.shape}),r);return n.runWebGLProgram(H,A,_)}var Z=(a=A,m=r,g=n,v=o.backend_util.computeOutShape(a.map(function(e){return e.shape}),m),{tensors2D:a.map(function(e){return(0,h.reshape)({inputs:{x:e},attrs:{shape:[-1,o.util.sizeFromShape(e.shape.slice(m))]},backend:g})}),outShape:v}),K=Z.tensors2D,X=Z.outShape,Y=new(0,s.ConcatProgram)(K.map(function(e){return e.shape})),J=n.runWebGLProgram(Y,K,_);K.forEach(function(e){return n.disposeIntermediateTensorInfo(e)});var Q=(0,h.reshape)({inputs:{x:J},attrs:{shape:X},backend:n});return n.disposeIntermediateTensorInfo(J),Q}});var o=e("@tensorflow/tfjs-core"),s=e("../concat_gpu"),i=e("../concat_packed_gpu"),c=e("../kernel_utils/shared"),u=e("../unaryop_gpu"),l=e("../unaryop_packed_gpu"),p=e("./Complex"),f=e("./Imag"),d=e("./Real"),h=e("./Reshape")},{"@tensorflow/tfjs-core":"1q0U8","../concat_gpu":"80Xnv","../concat_packed_gpu":"3nWlE","../kernel_utils/shared":"5N8x3","../unaryop_gpu":"hFgLO","../unaryop_packed_gpu":"cy6tx","./Complex":"6pb3b","./Imag":"k9FbU","./Real":"irEai","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"80Xnv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConcatProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=function e(t){"use strict";(0,o._)(this,e),this.outputShape=[],this.outputShape=s.backend_util.computeOutShape(t,1),this.variableNames=t.map(function(e,t){return"T".concat(t)});var r=Array(t.length-1);r[0]=t[0][1];for(var n=1;n<r.length;n++)r[n]=r[n-1]+t[n][1];for(var a=["if (yC < ".concat(r[0],") setOutput(getT0(yR, yC));")],i=1;i<r.length;i++){var c=r[i-1];a.push("else if (yC < ".concat(r[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(c,"));"))}var u=r.length,l=r[r.length-1];a.push("else setOutput(getT".concat(u,"(yR, yC-").concat(l,"));")),this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int yR = coords.x;\n int yC = coords.y;\n\n ".concat(a.join("\n "),"\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3nWlE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ConcatPackedProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./packing_util"),c=e("./shader_compiler"),u=function e(t,r){"use strict";(0,o._)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=s.backend_util.computeOutShape(t,r);var n=this.outputShape,a=n.length,u=(0,c.getCoordsDataType)(a),p=(0,i.getChannels)("coords",a),f=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map(function(e,t){return"T".concat(t)});var d=Array(t.length-1);d[0]=t[0][r];for(var h=1;h<d.length;h++)d[h]=d[h-1]+t[h][r];for(var m=f[r],g=f.slice(-2),v=f.join(),_="if (".concat(m," < ").concat(d[0],") {\n return getChannel(\n getT0(").concat(v,"), vec2(").concat(g.join(),"));\n }"),x=1;x<d.length;x++){var y=d[x-1];_+="\n if (".concat(m," < ").concat(d[x]," && ").concat(m," >= ").concat(d[x-1],") {\n return getChannel(\n getT").concat(x,"(").concat(l(f,m,y),"),\n vec2(").concat(l(g,m,y),"));\n }")}var b=d.length,k=d[d.length-1];_+="\n return getChannel(\n getT".concat(b,"(").concat(l(f,m,k),"),\n vec2(").concat(l(g,m,k),"));"),this.userCode="\n float getValue(".concat(f.map(function(e){return"int "+e}),") {\n ").concat(_,"\n }\n\n void main() {\n ").concat(u," coords = getOutputCoords();\n vec4 result = vec4(getValue(").concat(p,"), 0., 0., 0.);\n\n ").concat(p[a-1]," = ").concat(p[a-1]," + 1;\n if (").concat(p[a-1],"< ").concat(n[a-1],") {\n result.g = getValue(").concat(p,");\n }\n\n ").concat(p[a-2]," = ").concat(p[a-2]," + 1;\n if (").concat(p[a-2]," < ").concat(n[a-2],") {\n result.a = getValue(").concat(p,");\n }\n\n ").concat(p[a-1]," = ").concat(p[a-1]," - 1;\n if (").concat(p[a-2]," < ").concat(n[a-2]," &&\n ").concat(p[a-1]," < ").concat(n[a-1],") {\n result.b = getValue(").concat(p,");\n }\n setOutput(result);\n }\n ")};function l(e,t,r){var n=e.indexOf(t);return e.map(function(e,t){return t===n?"".concat(e," - ").concat(r):e}).join()}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k9FbU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"imag",function(){return i}),a.export(r,"imagConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Identity");function i(e){var t=e.inputs,r=e.backend,n=t.input,a=r.texData.get(n.dataId);return(0,s.identity)({inputs:{x:a.complexTensorInfos.imag},backend:r})}var c={kernelName:o.Imag,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7fW34":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2d",function(){return l}),a.export(r,"conv2DConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../conv_gpu"),i=e("../conv_packed_gpu"),c=e("./Conv2D_impl"),u=e("./Reshape");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=r.filter,f=a.strides,d=a.pad,h=a.dataFormat,m=a.dilations,g=a.dimRoundingMode,v=o.backend_util.convertConv2DDataFormat(h),_=o.backend_util.computeConv2DInfo(l.shape,p.shape,f,m,d,g,!1,v);if(1===_.filterHeight&&1===_.filterWidth&&1===_.dilationHeight&&1===_.dilationWidth&&1===_.strideHeight&&1===_.strideWidth&&("SAME"===_.padInfo.type||"VALID"===_.padInfo.type))t=(0,c.conv2dByMatMul)({x:l,filter:p,convInfo:_,backend:n});else if(_.strideWidth<=2&&"channelsLast"===v&&(0,o.env)().getBool("WEBGL_EXP_CONV")){var x=new(0,i.Conv2DPackedProgram)(_),y=[[_.padInfo.top,_.padInfo.left],[_.strideHeight,_.strideWidth],[_.dilationHeight,_.dilationWidth],[_.inHeight,_.inWidth]];t=n.runWebGLProgram(x,[l,p],"float32",y)}else if((0,o.env)().getBool("WEBGL_CONV_IM2COL"))t=(0,c.conv2dWithIm2Row)({x:l,filter:p,convInfo:_,backend:n});else{var b=new(0,s.Conv2DProgram)(_);t=n.runWebGLProgram(b,[l,p],"float32")}var k=(0,u.reshape)({inputs:{x:t},backend:n,attrs:{shape:_.outShape}});return n.disposeIntermediateTensorInfo(t),k}var p={kernelName:o.Conv2D,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../conv_gpu":"3U1lN","../conv_packed_gpu":"6HY9u","./Conv2D_impl":"k8VXq","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3U1lN":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DProgram",function(){return s}),a.export(r,"Conv3DProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,o._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,c=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,p=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4,v="channelsLast"===t.dataFormat,_=v?1:2,x=v?2:3,y=v?3:1,b="",k="";n&&(b=a?"float activation(float a) {\n float b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):s?"float activation(float a) {\n float b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"\n float activation(float x) {\n ".concat(n,"\n }\n "),k="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),s&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(b,"\n\n const ivec2 strides = ivec2(").concat(u,", ").concat(l,");\n const ivec2 pads = ivec2(").concat(i,", ").concat(c,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d2 = coords[").concat(y,"];\n\n ivec2 xRCCorner =\n ivec2(coords[").concat(_,"], coords[").concat(x,"]) * strides - pads;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR< ").concat(d,"; wR++) {\n int xR = xRCorner + wR * ").concat(p,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(h,"; wC++) {\n int xC = xCCorner + wC * ").concat(f,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n for (int d1 = 0; d1< ").concat(m,"; d1 += 4) {\n vec4 wValues = vec4(\n getW(wR, wC, d1, d2),\n getW(wR, wC, d1 + 1, d2),\n getW(wR, wC, d1 + 2, d2),\n getW(wR, wC, d1 + 3, d2)\n );\n\n if (").concat(v,") {\n vec4 xValues = vec4(\n getX(batch, xR, xC, d1),\n getX(batch, xR, xC, d1 + 1),\n getX(batch, xR, xC, d1 + 2),\n getX(batch, xR, xC, d1 + 3)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec4 xValues = vec4(\n getX(batch, d1, xR, xC),\n getX(batch, d1 + 1, xR, xC),\n getX(batch, d1 + 2, xR, xC),\n getX(batch, d1 + 3, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n }\n\n if (").concat(1===g,") {\n\n if (").concat(v,") {\n dotProd +=\n getX(batch, xR, xC, ").concat(m,") *\n getW(wR, wC, ").concat(m,", d2);\n } else {\n dotProd +=\n getX(batch, ").concat(m,", xR, xC) *\n getW(wR, wC, ").concat(m,", d2);\n }\n\n } else if (").concat(2===g,") {\n vec2 wValues = vec2(\n getW(wR, wC, ").concat(m,", d2),\n getW(wR, wC, ").concat(m," + 1, d2)\n );\n\n if (").concat(v,") {\n vec2 xValues = vec2(\n getX(batch, xR, xC, ").concat(m,"),\n getX(batch, xR, xC, ").concat(m," + 1)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec2 xValues = vec2(\n getX(batch, ").concat(m,", xR, xC),\n getX(batch, ").concat(m," + 1, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n\n } else if (").concat(3===g,") {\n vec3 wValues = vec3(\n getW(wR, wC, ").concat(m,", d2),\n getW(wR, wC, ").concat(m," + 1, d2),\n getW(wR, wC, ").concat(m," + 2, d2)\n );\n\n if (").concat(v,") {\n vec3 xValues = vec3(\n getX(batch, xR, xC, ").concat(m,"),\n getX(batch, xR, xC, ").concat(m," + 1),\n getX(batch, xR, xC, ").concat(m," + 2)\n );\n dotProd += dot(xValues, wValues);\n } else {\n vec3 xValues = vec3(\n getX(batch, ").concat(m,", xR, xC),\n getX(batch, ").concat(m," + 1, xR, xC),\n getX(batch, ").concat(m," + 2, xR, xC)\n );\n dotProd += dot(xValues, wValues);\n }\n\n }\n }\n }\n\n float result = dotProd;\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(k,"\n setOutput(result);\n }\n ")},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var r=t.padInfo.front,n=t.padInfo.top,a=t.padInfo.left,s=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,p=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),g=t.inChannels%4;this.userCode="\n const ivec3 strides = ivec3(".concat(s,", ").concat(i,", ").concat(c,");\n const ivec3 pads = ivec3(").concat(r,", ").concat(n,", ").concat(a,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int d2 = coords.u;\n\n ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n int xFCorner = xFRCCorner.x;\n int xRCorner = xFRCCorner.y;\n int xCCorner = xFRCCorner.z;\n\n // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n // y(yF, yR, yC, d2). ? = to be determined. : = across all\n // values in that axis.\n float dotProd = 0.0;\n for (int wF = 0; wF < ").concat(f,"; wF++) {\n int xF = xFCorner + wF * ").concat(u,";\n\n if (xF < 0 || xF >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int wR = 0; wR< ").concat(d,"; wR++) {\n int xR = xRCorner + wR * ").concat(l,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(h,"; wC++) {\n int xC = xCCorner + wC * ").concat(p,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n for (int d1 = 0; d1< ").concat(m,"; d1 += 4) {\n vec4 xValues = vec4(\n getX(batch, xF, xR, xC, d1),\n getX(batch, xF, xR, xC, d1 + 1),\n getX(batch, xF, xR, xC, d1 + 2),\n getX(batch, xF, xR, xC, d1 + 3)\n );\n vec4 wValues = vec4(\n getW(wF, wR, wC, d1, d2),\n getW(wF, wR, wC, d1 + 1, d2),\n getW(wF, wR, wC, d1 + 2, d2),\n getW(wF, wR, wC, d1 + 3, d2)\n );\n\n dotProd += dot(xValues, wValues);\n }\n\n if (").concat(1===g,") {\n dotProd +=\n getX(batch, xF, xR, xC, ").concat(m,") *\n getW(wF, wR, wC, ").concat(m,", d2);\n } else if (").concat(2===g,") {\n vec2 xValues = vec2(\n getX(batch, xF, xR, xC, ").concat(m,"),\n getX(batch, xF, xR, xC, ").concat(m," + 1)\n );\n vec2 wValues = vec2(\n getW(wF, wR, wC, ").concat(m,", d2),\n getW(wF, wR, wC, ").concat(m," + 1, d2)\n );\n dotProd += dot(xValues, wValues);\n } else if (").concat(3===g,") {\n vec3 xValues = vec3(\n getX(batch, xF, xR, xC, ").concat(m,"),\n getX(batch, xF, xR, xC, ").concat(m," + 1),\n getX(batch, xF, xR, xC, ").concat(m," + 2)\n );\n vec3 wValues = vec3(\n getW(wF, wR, wC, ").concat(m,", d2),\n getW(wF, wR, wC, ").concat(m," + 1, d2),\n getW(wF, wR, wC, ").concat(m," + 2, d2)\n );\n dotProd += dot(xValues, wValues);\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6HY9u":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DPackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,o._)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var u=t.padInfo.left,l=t.strideWidth,p=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,h="\n int xR; int xC; int xCOffset;\n vec4 wTexel; vec4 previous; vec4 final;",m=0;m<d;m++)h+="\n vec4 xTexelC".concat(2*m,";\n int xTexelC").concat(2*m,"Ready;\n vec4 xTexelC").concat(2*m+1,";\n int xTexelC").concat(2*m+1,"Ready;\n vec4 xC").concat(m,";");h+="\n for (int r = 0; r < ".concat(f,"; r++) {\n for (int d1 = 0; d1 < ").concat(t.inChannels,"; d1 += 2) {\n ");for(var g=0;g<d;g++)h+="\n xTexelC".concat(2*g," = vec4(0.0);\n xTexelC").concat(2*g,"Ready = 0;\n xTexelC").concat(2*g+1," = vec4(0.0);\n xTexelC").concat(2*g+1,"Ready = 0;\n xC").concat(g," = vec4(0.0);");h+="\n xR = xRCorner + r * dilations[0];\n if (xR >=0 && xR< inDims[0]) {\n ";for(var v=0;v<(d+1)/2;v++){var _=2*v;if(h+="\n xC = xCCorner + ".concat(_*p,";\n "),1===l){if(_<d&&(u%2==1?(h+="\n xCOffset = xC + 1;\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n "),1===p&&_>0?h+="\n xC".concat(_," = vec4(xTexelC").concat(_-2,".zw, xTexelC").concat(_,".xy);\n "):h+="\n xCOffset = xC + 1 - 2;\n\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n previous.zw = vec2(0.0);\n }\n\n xC".concat(_," = vec4(previous.zw, xTexelC").concat(_,".xy);\n } else {\n xC").concat(_," = vec4(0.0, 0.0, xTexelC").concat(_,".xy);\n }\n ")):h+="\n if (xC >= 0 && xC< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n xC").concat(_," = xTexelC").concat(_,";\n "),_+1<d)){var x=u%2==0?s.util.nearestLargerEven(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(h+="\n xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n "),p>1?h+="\n xCOffset -= 2;\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n xC".concat(_+1," = vec4(previous.zw, xTexelC").concat(_+1,".xy);\n } else {\n xC").concat(_+1," = vec4(0.0, 0.0, xTexelC").concat(_+1,".xy);\n }\n "):h+="\n xC".concat(_+1," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".xy);\n ")):1===x?h+="\n xC".concat(_+1," = xTexelC").concat(_,";\n "):h+="\n xCOffset = xC + ".concat(x,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_+1," = xTexelC").concat(_+1,";\n ")}}else _<d&&(u%2==1?(h+="\n xCOffset = xC + 1 - strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xCOffset, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n if(xC + 1 >= 0 && xC + 1< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xC + 1, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xC + 2 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.0);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".zw);\n "),_+1<d&&(h+="\n final = vec4(0.0);\n xCOffset = xC + 1 + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1]) {\n final = getX(batch, xR, xCOffset, d1);\n }\n xC".concat(_+1," = vec4(xTexelC").concat(_+1,".xy, final.xy);\n "))):(h+="\n if(xC >= 0 && xC< inDims[1] && xTexelC".concat(_,"Ready == 0) {\n xTexelC").concat(_," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(_,".zw = vec2(0.0);\n }\n xTexelC").concat(_,"Ready = 1;\n }\n\n xCOffset = xC + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(_+1,"Ready == 0) {\n xTexelC").concat(_+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(_+1,".zw = vec2(0.);\n }\n xTexelC").concat(_+1,"Ready = 1;\n }\n\n xC").concat(_," = vec4(\n xTexelC").concat(_,".xy, xTexelC").concat(_+1,".xy);\n "),_+1<d&&(h+="\n xC".concat(_+1," = vec4(xTexelC").concat(_,".zw, xTexelC").concat(_+1,".zw);\n "))));_<d&&(h+="\n wTexel = getW(r, ".concat(_,", d1, d2);\n dotProd += xC").concat(_,".xxzz * vec4(wTexel.xy, wTexel.xy);\n if(d1 + 1 < ").concat(t.inChannels,") {\n dotProd += xC").concat(_,".yyww * vec4(wTexel.zw, wTexel.zw);\n }\n "),_+1<d&&(h+="\n wTexel = getW(r, ".concat(_+1,", d1, d2);\n dotProd += xC").concat(_+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n if(d1 + 1 < ").concat(t.inChannels,") {\n dotProd += xC").concat(_+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n }\n ")))}h+="\n }\n ",h+="\n }\n ",h+="\n }\n ";var y="",b="";n&&(y=a?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):c?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"vec4 activation(vec4 x) {\n ".concat(n,"\n }"),b="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(y,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n vec4 dotProd = vec4(0.000000000000001);\n\n ").concat(h,"\n\n vec4 result = dotProd - vec4(0.000000000000001);\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(b,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k8VXq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2dByMatMul",function(){return m}),a.export(r,"conv2dWithIm2Row",function(){return g});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../im2col_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../mulmat_packed_gpu"),l=e("../webgl_util"),p=e("./BatchMatMul_impl"),f=e("./Identity"),d=e("./Reshape");function h(e,t){var r=e.length;return r>=3?t?(0,o._)(e.slice(0,-3)).concat([e[r-3]*e[r-2],e[r-1]]):(0,o._)(e.slice(0,-3)).concat([e[r-3],e[r-2]*e[r-1]]):!t&&1===r&&e[0]>1?[e[0],1]:null}function m(e){var t=e.x,r=e.filter,n=e.convInfo,a=e.backend,o=e.bias,i=void 0===o?null:o,c=e.preluActivationWeights,u=void 0===c?null:c,m=e.leakyreluAlpha,g=void 0===m?0:m,v=e.activation,_=void 0===v?null:v,x=t.shape,y=a.texData.get(t.dataId),b=n.inChannels,k=x[0]*x[1]*x[2],j=n.outChannels,w="channelsLast"===n.dataFormat,S=[];if(null!=u){var I=h(u.shape,w);null!=I&&(u=(0,d.reshape)({inputs:{x:u},backend:a,attrs:{shape:I}}),S.push(u))}if(null!=i){var T=h(i.shape,w);null!=T&&(i=(0,d.reshape)({inputs:{x:i},backend:a,attrs:{shape:T}}),S.push(i))}if(!((1===k||1===j)&&b>p.MATMUL_SHARED_DIM_THRESHOLD)&&y.isPacked&&w&&null!=y.texture&&x[2]%2!=0&&s.util.arraysEqual(y.shape.slice(-3),x.slice(-3))){var N=x[0]*x[1]*(x[2]+1),C={dataId:t.dataId,shape:[1,N,n.inChannels],dtype:t.dtype},E=y.shape;y.shape=y.shape.slice(),y.shape[y.shape.length-2]++,s.util.assert(l.isReshapeFree(y.shape,C.shape),function(){return"packed reshape ".concat(y.shape," to ").concat(C.shape," isn't free")});var F=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}});S.push(F);var A=(0,p.batchMatMulImpl)({a:C,b:F,backend:a,transposeA:!1,transposeB:!1,bias:i,activation:_,preluActivationWeights:u,leakyreluAlpha:g}),P=a.texData.get(A.dataId);s.util.assert(P.isPacked,function(){return"batchMatMul result is expected to be packed"}),y.shape=E,P.shape=n.outShape,(B=(0,f.identity)({inputs:{x:A},backend:a})).shape=n.outShape,S.push(A)}else{var R=n.outHeight*n.outWidth,D=(0,d.reshape)({inputs:{x:t},backend:a,attrs:{shape:w?[n.batchSize,R,n.inChannels]:[n.batchSize,n.inChannels,R]}}),M=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}}),O=(0,p.batchMatMulImpl)({a:w?D:M,b:w?M:D,transposeA:!w,transposeB:!1,backend:a,bias:i,activation:_,preluActivationWeights:u,leakyreluAlpha:g});B=(0,d.reshape)({inputs:{x:O},backend:a,attrs:{shape:n.outShape}}),S.push(D),S.push(M),S.push(O)}var L=!0,V=!1,U=void 0;try{for(var B,z,G=S[Symbol.iterator]();!(L=(z=G.next()).done);L=!0){var W=z.value;a.disposeIntermediateTensorInfo(W)}}catch(e){V=!0,U=e}finally{try{L||null==G.return||G.return()}finally{if(V)throw U}}return B}function g(e){var t=e.x,r=e.filter,n=e.convInfo,a=e.backend,o=e.bias,l=void 0===o?null:o,p=e.preluActivationWeights,f=void 0===p?null:p,m=e.leakyreluAlpha,g=e.activation,v=void 0===g?null:g,_=n.filterWidth,x=n.filterHeight,y=n.inChannels,b=n.outWidth,k=n.outHeight,j="channelsLast"===n.dataFormat,w=_*x*y,S=k*b,I=[n.batchSize,w,S],T=[];if(null!=f){var N=h(f.shape,j);null!=N&&(f=(0,d.reshape)({inputs:{x:f},backend:a,attrs:{shape:N}}),T.push(f))}if(null!=l){var C=h(l.shape,j);null!=C&&(l=(0,d.reshape)({inputs:{x:l},backend:a,attrs:{shape:C}}),T.push(l))}var E=(0,d.reshape)({inputs:{x:r},backend:a,attrs:{shape:[1,w,s.util.sizeFromShape(r.shape)/w]}});T.push(E);var F=new(0,i.Im2ColPackedProgram)(I,n),A=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],P=a.runWebGLProgram(F,[t],"float32",A),R=(0,d.reshape)({inputs:{x:P},backend:a,attrs:{shape:I}});T.push(P),T.push(R);var D=null!=l,M=null!=f,O="leakyrelu"===v,L=v?(0,c.mapActivationToShaderProgram)(v,!0):null,V=new(0,u.MatMulPackedProgram)(j?R.shape:E.shape,j?E.shape:R.shape,j?[n.batchSize,S,n.outChannels]:[n.batchSize,n.outChannels,S],!0,!1,D,L,M,O),U=j?[R,E]:[E,R];if(l&&U.push(l),M&&U.push(f),O){var B=a.makeTensorInfo([],"float32",s.util.createScalarValue(void 0===m?0:m,"float32"));U.push(B),T.push(B)}var z=a.runWebGLProgram(V,U,"float32"),G=(0,d.reshape)({inputs:{x:z},backend:a,attrs:{shape:n.outShape}});T.push(z);var W=!0,q=!1,H=void 0;try{for(var Z,K=T[Symbol.iterator]();!(W=(Z=K.next()).done);W=!0){var X=Z.value;a.disposeIntermediateTensorInfo(X)}}catch(e){q=!0,H=e}finally{try{W||null==K.return||K.return()}finally{if(q)throw H}}return G}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../im2col_packed_gpu":"azolU","../kernel_utils/kernel_funcs_utils":"81uKn","../mulmat_packed_gpu":"hNgVJ","../webgl_util":"foNeO","./BatchMatMul_impl":"iQPyh","./Identity":"80zaJ","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],azolU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Im2ColPackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./glsl_version"),i=e("./gpgpu_math"),c=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var n=r.dataFormat,a=(0,s.getGlslDifferences)(),c="channelsLast"===n,u=c?1:2,l=c?2:3,p=this.enableShapeUniforms?"if(blockIndex< outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),f="",d=0;d<=1;d++)for(var h=0;h<=1;h++)f+="\n blockIndex = rc.z + ".concat(h,";\n pos = rc.y + ").concat(d,";\n\n ").concat(p,"\n offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n if(d0 < inputShape[").concat(u,"] && d0 >= 0) {\n // Use custom imod instead mod. On Intel GPU, mod may generate\n // unexpected value.\n // https://github.com/tensorflow/tfjs/issues/5447\n offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n inChannels);\n\n if(d1< inputShape[").concat(l,"] && d1 >= 0) {\n\n ch = imod(pos, inChannels);\n\n if (").concat(c,") {\n innerDims = vec2(d1, ch);\n result[").concat(2*d+h,"] = getChannel(\n getA(rc.x, d0, int(innerDims.x),\n int(innerDims.y)), innerDims);\n } else {\n innerDims = vec2(d0, d1);\n result[").concat(2*d+h,"] = getChannel(\n getA(rc.x, ch, int(innerDims.x),\n int(innerDims.y)), innerDims);\n }\n }\n }\n }\n ");this.userCode="\n void main() {\n ivec3 rc = getOutputCoords();\n\n vec4 result = vec4(0);\n\n int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n vec2 innerDims;\n\n ".concat(f,"\n\n ").concat(a.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./glsl_version":"qEJnc","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hfsxH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return i}),a.export(r,"conv2DBackpropFilterConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=n.filterShape,d=o.backend_util.convertConv2DDataFormat(l),h=o.backend_util.computeConv2DInfo(a.shape,f,c,1,u,p,!1,d),m=new(0,s.Conv2DDerFilterProgram)(h);return r.runWebGLProgram(m,[a,i],"float32")}var c={kernelName:o.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu":"aX30f","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aX30f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DDerFilterProgram",function(){return s}),a.export(r,"Conv2DDerInputProgram",function(){return i}),a.export(r,"Conv3DDerFilterProgram",function(){return c}),a.export(r,"Conv3DDerInputProgram",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideHeight,n=t.strideWidth,a=t.padInfo.top,s=t.padInfo.left,i="channelsLast"===t.dataFormat;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int wR = coords.x;\n int wC = coords.y;\n int d1 = coords.z;\n int d2 = coords.w;\n\n // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int b = 0; b< ".concat(t.batchSize,"; b++) {\n for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(r," - ").concat(a,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(n," - ").concat(s,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n ").concat(i?"float dyValue = getDy(b, yR, yC, d2);\n float xValue = getX(b, xR, xC, d1);\n dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n float xValue = getX(b, d1, xR, xC);\n dotProd += (xValue * dyValue);","\n }\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,s=t.strideWidth,i="channelsLast"===t.dataFormat,c=r-1-t.padInfo.top,u=n-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[").concat(i?3:1,"];\n\n ivec2 dyCorner = ivec2(coords[").concat(i?1:2,"], coords[").concat(i?2:3,"]) - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR< ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(n," - 1 - wC;\n\n for (int d2 = 0; d2< ").concat(t.outChannels,"; d2++) {\n\n if (").concat(i,") {\n float xValue = getDy(batch, idyR, idyC, d2);\n float wValue = getW(wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n } else {\n float xValue = getDy(batch, d2, idyR, idyC);\n float wValue = getW(wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n }\n\n }\n }\n }\n setOutput(dotProd);\n }\n ")},c=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideDepth,n=t.strideHeight,a=t.strideWidth,s=t.padInfo.front,i=t.padInfo.top,c=t.padInfo.left;this.userCode="\n void main() {\n ivec5 coords = getOutputCoords();\n int wF = coords.x;\n int wR = coords.y;\n int wC = coords.z;\n int d1 = coords.w;\n int d2 = coords.u;\n\n float dotProd = 0.0;\n\n for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n int xF = wF + yF * ").concat(r," - ").concat(s,";\n\n if (xF < 0 || xF >= ").concat(t.inDepth,") {\n continue;\n }\n\n for (int yR = 0; yR< ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(a," - ").concat(c,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float dyValue = getDy(b, yF, yR, yC, d2);\n float xValue = getX(b, xF, xR, xC, d1);\n dotProd += (xValue * dyValue);\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")},u=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterDepth,n=t.filterHeight,a=t.filterWidth,s=t.strideDepth,i=t.strideHeight,c=t.strideWidth,u=r-1-t.padInfo.front,l=n-1-t.padInfo.top,p=a-1-t.padInfo.left;this.userCode="\n const ivec3 pads = ivec3(".concat(u,", ").concat(l,", ").concat(p,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int d1 = coords.u;\n\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyFCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n float dotProd = 0.0;\n for (int wF = 0; wF< ").concat(r,"; wF++) {\n float dyF = float(dyFCorner + wF) / ").concat(s,".0;\n\n if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n continue;\n }\n int idyF = int(dyF);\n\n int wFPerm = ").concat(r," - 1 - wF;\n\n for (int wR = 0; wR< ").concat(n,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(n," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(a,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(c,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(a," - 1 - wC;\n\n for (int d2 = 0; d2< ").concat(t.outChannels,"; d2++) {\n float xValue = getDy(batch, idyF, idyR, idyC, d2);\n float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n dotProd += xValue * wValue;\n }\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7OBlw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return c}),a.export(r,"conv2DBackpropInputConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu"),i=e("../conv_backprop_packed_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.inputShape,l=n.strides,p=n.pad,f=n.dataFormat,d=n.dimRoundingMode,h=o.backend_util.convertConv2DDataFormat(f),m=o.backend_util.computeConv2DInfo(u,c.shape,l,1,p,d,!1,h);if((0,o.env)().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===h){var g=[[m.strideHeight,m.strideWidth]],v=new(0,i.Conv2DDerInputPackedProgram)(m);return r.runWebGLProgram(v,[a,c],"float32",g)}var _=new(0,s.Conv2DDerInputProgram)(m);return r.runWebGLProgram(_,[a,c],"float32")}var u={kernelName:o.Conv2DBackpropInput,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu":"aX30f","../conv_backprop_packed_gpu":"1QCP2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1QCP2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Conv2DDerInputPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length);var r=t.filterHeight,n=t.filterWidth,a=r-1-t.padInfo.top,i=n-1-t.padInfo.left;this.userCode="\n const ivec2 pads = ivec2(".concat(a,", ").concat(i,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[3];\n\n ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n vec4 result = vec4(0.);\n for (int wR = 0; wR < ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / strides[0];\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n int wCPerm = ").concat(n," - 1 - wC;\n\n float dyC = float(dyCCorner + wC) / strides[1];\n bool idyCVal = (dyC >= 0.0) && (dyC< ").concat(t.outWidth,".0)\n && (fract(dyC) == 0.0);\n int idyC = int(dyC);\n\n float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n bool idyCVal2 = (dyC2 >= 0.0) && (dyC2< ").concat(t.outWidth,".0)\n && (fract(dyC2) == 0.0);\n int idyC2 = int(dyC2);\n\n if (idyCVal && idyCVal2) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC, d2);\n vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n dySample : getDy(batch, idyR, idyC2, d2);\n\n vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.xy += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n\n dyValue = mod(float(idyC2), 2.) == 0. ?\n dySample2.xy : dySample2.zw;\n result.zw += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n } else if (idyCVal) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC, d2);\n vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.xy += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n } else if (idyCVal2) {\n for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n vec4 dySample = getDy(batch, idyR, idyC2, d2);\n vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n dySample.xy : dySample.zw;\n result.zw += vec2(dot(dyValue, wValue.xy),\n dot(dyValue, wValue.zw));\n }\n }\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cvG9h:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3D",function(){return i}),a.export(r,"conv3DConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations,p=o.backend_util.computeConv3DInfo(a.shape,i.shape,c,l,u),f=new(0,s.Conv3DProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:o.Conv3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_gpu":"3U1lN","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],htAKc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropFilterV2",function(){return i}),a.export(r,"conv3DBackpropFilterV2Config",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.filterShape,p=o.backend_util.computeConv3DInfo(a.shape,l,c,1,u),f=new(0,s.Conv3DDerFilterProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:o.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu":"aX30f","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"83MwA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInput",function(){return i}),a.export(r,"conv3DBackpropInputConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.filter,c=n.pad,u=n.strides,l=n.inputShape,p=o.backend_util.computeConv3DInfo(l,i.shape,u,1,c),f=new(0,s.Conv3DDerInputProgram)(p);return r.runWebGLProgram(f,[a,i],"float32")}var c={kernelName:o.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu":"aX30f","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jrvJg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return l}),a.export(r,"cosConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c=i.CHECK_NAN_SNIPPET_UNARY+"\n return cos(x);\n",u="\n vec4 result = cos(x);\n bvec4 isNaN = isnan(x);\n ".concat(s.CHECK_NAN_SNIPPET_PACKED,"\n return result;\n"),l=(0,i.unaryKernelFunc)({opSnippet:c,packedOpSnippet:u}),p={kernelName:o.Cos,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2j1cq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return s}),a.export(r,"coshConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(-x);\n return (e2x + 1.0 / e2x) / 2.0;\n"}),i={kernelName:o.Cosh,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fFim9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return i}),a.export(r,"cropAndResizeConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../crop_and_resize_gpu"),i=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,c=n.cropSize,u=n.method,l=n.extrapolationValue,p=new(0,s.CropAndResizeProgram)(a.shape,o.shape,c,u,l);return r.runWebGLProgram(p,[a,o,i],"float32")},c={kernelName:o.CropAndResize,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../crop_and_resize_gpu":"7c2DS","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7c2DS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"CropAndResizeProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,o._)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var c=(0,s._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3],d=(0,s._)(r,1)[0],h=(0,s._)(n,2),m=h[0],g=h[1];this.outputShape=[d,m,g,f];var v=["".concat(l-1,".0"),"".concat(p-1,".0")],_=v[0],x=v[1],y=(0,s._)(m>1?["".concat((l-1)/(m-1)),"(y2-y1) * height_ratio","y1*".concat(_," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(_)],3),b=y[0],k=y[1],j=y[2],w=(0,s._)(g>1?["".concat((p-1)/(g-1)),"(x2-x1) * width_ratio","x1*".concat(x," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(x)],3),S=w[0],I=w[1],T=w[2];this.userCode="\n const float height_ratio = float(".concat(b,");\n const float width_ratio = float(").concat(S,");\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int y = coords[1];\n int x = coords[2];\n int d = coords[3];\n\n // get box vals\n float y1 = getBoxes(b,0);\n float x1 = getBoxes(b,1);\n float y2 = getBoxes(b,2);\n float x2 = getBoxes(b,3);\n\n // get image in batch index\n int bInd = round(getBoxInd(b));\n if(bInd< 0 || bInd >= ").concat(u,") {\n return;\n }\n\n float height_scale = ").concat(k,";\n float width_scale = ").concat(I,";\n\n float in_y = ").concat(j,";\n if( in_y< 0.0 || in_y >").concat(_," ) {\n setOutput(float(").concat(i,"));\n return;\n }\n float in_x = ").concat(T,";\n if( in_x< 0.0 || in_x >").concat(x," ) {\n setOutput(float(").concat(i,"));\n return;\n }\n\n vec2 sourceFracIndexCR = vec2(in_x,in_y);\n if(").concat(+("bilinear"===a)," == 1) {\n // Compute the four integer indices.\n ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n float top = topLeft + (topRight - topLeft) * fracCR.x;\n float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n float newValue = top + (bottom - top) * fracCR.y;\n setOutput(newValue);\n } else {\n // Compute the coordinators of nearest neighbor point.\n ivec2 sourceNearestCR = ivec2(floor(\n sourceFracIndexCR + vec2(0.5,0.5)));\n float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n setOutput(newValue);\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ioKk0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c}),a.export(r,"cumprodConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cum_gpu"),i=e("./Cum_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.axis,c=n.exclusive,u=n.reverse;return(0,i.cumImpl)(s.CumOpType.Prod,a,r,o,c,u)}var u={kernelName:o.Cumprod,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cum_gpu":"l4lz5","./Cum_impl":"4N1s2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l4lz5:[function(e,t,r,n){var a,o,s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CumOpType",function(){return o}),s.export(r,"CumProgram",function(){return u});var i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("./shader_compiler");(a=o||(o={})).Prod="*",a.Sum="+";var u=function e(t,r,n,a){"use strict";(0,i._)(this,e),this.op=t,this.outputShape=r,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var s=this.outputShape.length,u=this.op===o.Prod?"1.0":"0.0",f=n?u:"getX(".concat(l(s,"coords",this.op),")"),d=this.outputShape[this.outputShape.length-1],h="",m="";n?(h=a?"end != ".concat(d-1):"end != 0",m=a?"end + 1":"end - 1"):(h=a?"end + pow2< ".concat(d):"end >= pow2",m=a?"end + pow2":"end - pow2"),this.userCode="\n void main() {\n ".concat((0,c.getCoordsDataType)(s)," coords = getOutputCoords();\n int end = ").concat(p(s,"coords",this.op),";\n float val = ").concat(f,";\n int pow2 = int(pow(2.0, index));\n if (").concat(h,") {\n int idx = ").concat(m,";\n ").concat(p(s,"coords",this.op)," = idx;\n val ").concat(this.op,"= getX(").concat(l(s,"coords",this.op),");\n }\n setOutput(val);\n }\n ")};function l(e,t,r){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative ".concat(r," for rank ").concat(e," is not yet supported"))}function p(e,t,r){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative ".concat(r," for rank ").concat(e," is not yet supported"))}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4N1s2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumImpl",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cum_gpu"),i=e("./Identity"),c=e("./Transpose");function u(e,t,r,n,a,u){var l=t.shape.length,p=o.backend_util.getAxesPermutation([n],l),f=t;null!=p&&(f=(0,c.transpose)({inputs:{x:t},backend:r,attrs:{perm:p}}));var d=o.backend_util.getInnerMostAxes(1,l)[0];if(d!==l-1)throw Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(n));for(var h=f.shape[d],m=(0,i.identity)({inputs:{x:f},backend:r}),g=0;g<=Math.ceil(Math.log2(h))-1;g++){var v=new(0,s.CumProgram)(e,f.shape,!1,u),_=[[g]],x=m;m=r.runWebGLProgram(v,[m],m.dtype,_),r.disposeIntermediateTensorInfo(x)}if(a){var y=new(0,s.CumProgram)(e,f.shape,a,u),b=m;m=r.runWebGLProgram(y,[m],m.dtype),r.disposeIntermediateTensorInfo(b)}if(null!=p){var k=o.backend_util.getUndoAxesPermutation(p),j=(0,c.transpose)({inputs:{x:m},backend:r,attrs:{perm:k}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(f),j}return m}},{"@tensorflow/tfjs-core":"1q0U8","../cum_gpu":"l4lz5","./Identity":"80zaJ","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5PZFu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c}),a.export(r,"cumsumConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cum_gpu"),i=e("./Cum_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.axis,c=n.exclusive,u=n.reverse;return(0,i.cumImpl)(s.CumOpType.Sum,a,r,o,c,u)}var u={kernelName:o.Cumsum,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cum_gpu":"l4lz5","./Cum_impl":"4N1s2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2uG2s":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return i}),a.export(r,"denseBincountConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.weights,i=n.size,c=n.binaryOutput;if(1===a.shape.length){var u=r.readSync(a.dataId),l=r.readSync(o.dataId),p=(0,s.bincountImplCPU)(u,l,o.dtype,o.shape,i);return r.makeTensorInfo([i],o.dtype,p)}if(2===a.shape.length){var f=r.bufferSync(a),d=r.bufferSync(o),h=(0,s.bincountReduceImplCPU)(f,d,i,c);return r.makeTensorInfo(h.shape,o.dtype,h.values)}throw Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}var c={kernelName:o.DenseBincount,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3uzb9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return i}),a.export(r,"depthToSpaceConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../depth_to_space_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.blockSize,i=n.dataFormat,c=a.shape[0],u="NHWC"===i?a.shape[1]:a.shape[2],l="NHWC"===i?a.shape[2]:a.shape[3],p="NHWC"===i?a.shape[3]:a.shape[1],f=u*o,d=l*o,h=p/(o*o),m=new(0,s.DepthToSpaceProgram)("NHWC"===i?[c,f,d,h]:[c,h,f,d],o,i);return r.runWebGLProgram(m,[a],a.dtype)}var c={kernelName:o.DepthToSpace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../depth_to_space_gpu":"5ha3e","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5ha3e":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthToSpaceProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(t,r,n){(0,o._)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=r,this.dataFormat=n,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int h = ".concat(this.getHeightCoordString(),";\n int w = ").concat(this.getWidthCoordString(),";\n int d = ").concat(this.getDepthCoordString(),";\n\n int in_h = h / ").concat(r,";\n int offset_h = imod(h, ").concat(r,");\n int in_w = w / ").concat(r,";\n int offset_w = imod(w, ").concat(r,");\n int offset_d = (offset_h * ").concat(r," + offset_w) *\n ").concat(this.getOutputDepthSize(),";\n int in_d = d + offset_d;\n\n float result = ").concat(this.getInputSamplingString(),";\n setOutput(result);\n }\n ")}return(0,s._)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],qF3SO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNative",function(){return c}),a.export(r,"depthwiseConv2dNativeConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../conv_gpu_depthwise"),i=e("../conv_packed_gpu_depthwise");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=r.filter,l=a.strides,p=a.pad,f=a.dilations,d=a.dimRoundingMode,h=f;null==h&&(h=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(l,h),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(h,"'")});var m=o.backend_util.computeConv2DInfo(c.shape,u.shape,l,h,p,d,!0);t=(0,o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels==1?new(0,i.DepthwiseConvPacked2DProgram)(m):new(0,s.DepthwiseConv2DProgram)(m);var g=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]];return n.runWebGLProgram(t,[c,u],"float32",g)}var u={kernelName:o.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../conv_gpu_depthwise":"gDULl","../conv_packed_gpu_depthwise":"24vAi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gDULl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConv2DProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./gpgpu_math"),i=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,o._)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,s.useShapeUniforms)(this.outputShape.length);var c=t.filterHeight,u=t.filterWidth,l=t.outChannels/t.inChannels,p="",f="";n&&(p=a?"float activation(float a) {\n float b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):i?"float activation(float a) {\n float b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"\n float activation(float x) {\n ".concat(n,"\n }\n "),f="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(p,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int d1 = d2 / ").concat(l,";\n int q = d2 - d1 * ").concat(l,";\n\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n for (int wR = 0; wR< ").concat(c,"; wR++) {\n int xR = xRCorner + wR * dilations[0];\n\n if (xR < 0 || xR >= inDims[0]) {\n continue;\n }\n\n for (int wC = 0; wC< ").concat(u,"; wC++) {\n int xC = xCCorner + wC * dilations[1];\n\n if (xC < 0 || xC >= inDims[1]) {\n continue;\n }\n\n float xVal = getX(batch, xR, xC, d1);\n float wVal = getW(wR, wC, d1, q);\n dotProd += xVal * wVal;\n }\n }\n\n float result = dotProd;\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(f,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"24vAi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConvPacked2DProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./gpgpu_math"),c=function e(t){"use strict";var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,o._)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=(0,i.useShapeUniforms)(this.outputShape.length);for(var u=t.outChannels/t.inChannels,l=t.padInfo.left,p=t.strideWidth,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,m="\n int xR; int xC; int xCOffset;\n vec4 wTexel; vec4 previous; vec4 final;",g=0;g<h;g++)m+="\n vec4 xTexelC".concat(2*g,";\n int xTexelC").concat(2*g,"Ready;\n vec4 xTexelC").concat(2*g+1,";\n int xTexelC").concat(2*g+1,"Ready;\n vec4 xC").concat(g,";");m+="\n for (int r = 0; r < ".concat(d,"; r++) {\n ");for(var v=0;v<h;v++)m+="\n xTexelC".concat(2*v," = vec4(0.0);\n xTexelC").concat(2*v,"Ready = 0;\n xTexelC").concat(2*v+1," = vec4(0.0);\n xTexelC").concat(2*v+1,"Ready = 0;\n xC").concat(v," = vec4(0.0);");m+="\n xR = xRCorner + r * dilations[0];\n if (xR >=0 && xR< inDims[0]) {\n ";for(var _=0;_<(h+1)/2;_++){var x=2*_;if(m+="\n xC = xCCorner + ".concat(x*f,";\n "),1===p){if(x<h&&(l%2==1?(m+="\n xCOffset = xC + 1;\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n "),1===f&&x>0?m+="\n xC".concat(x," = vec4(xTexelC").concat(x-2,".zw, xTexelC").concat(x,".xy);\n "):m+="\n xCOffset = xC + 1 - 2;\n\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n previous.zw = vec2(0.0);\n }\n\n xC".concat(x," = vec4(previous.zw, xTexelC").concat(x,".xy);\n } else {\n xC").concat(x," = vec4(0.0, 0.0, xTexelC").concat(x,".xy);\n }\n ")):m+="\n if (xC >= 0 && xC< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n xC").concat(x," = xTexelC").concat(x,";\n "),x+1<h)){var y=l%2==0?s.util.nearestLargerEven(f):f;f%2==0&&l%2==1||f%2!=0&&l%2!=1?(m+="\n xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n "),f>1?m+="\n xCOffset -= 2;\n if (xCOffset >= 0 && xCOffset< inDims[1]) {\n previous = getX(batch, xR, xCOffset, d1);\n xC".concat(x+1," = vec4(previous.zw, xTexelC").concat(x+1,".xy);\n } else {\n xC").concat(x+1," = vec4(0.0, 0.0, xTexelC").concat(x+1,".xy);\n }\n "):m+="\n xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".xy);\n ")):1===y?m+="\n xC".concat(x+1," = xTexelC").concat(x,";\n "):m+="\n xCOffset = xC + ".concat(y,";\n\n if (xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x+1," = xTexelC").concat(x+1,";\n ")}}else x<h&&(l%2==1?(m+="\n xCOffset = xC + 1 - strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xCOffset, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n if(xC + 1 >= 0 && xC + 1< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xC + 1, d1);\n // Need to manually clear unused channels in case\n // we're reading from recycled texture.\n if (xC + 2 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.0);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n "),x+1<h&&(m+="\n final = vec4(0.0);\n xCOffset = xC + 1 + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1]) {\n final = getX(batch, xR, xCOffset, d1);\n }\n xC".concat(x+1," = vec4(xTexelC").concat(x+1,".xy, final.xy);\n "))):(m+="\n if(xC >= 0 && xC< inDims[1] && xTexelC".concat(x,"Ready == 0) {\n xTexelC").concat(x," = getX(batch, xR, xC, d1);\n if (xC + 1 >= inDims[1]) {\n xTexelC").concat(x,".zw = vec2(0.0);\n }\n xTexelC").concat(x,"Ready = 1;\n }\n\n xCOffset = xC + strides[1];\n if(xCOffset >= 0 && xCOffset< inDims[1] && xTexelC").concat(x+1,"Ready == 0) {\n xTexelC").concat(x+1," = getX(batch, xR, xCOffset, d1);\n if (xCOffset + 1 >= inDims[1]) {\n xTexelC").concat(x+1,".zw = vec2(0.);\n }\n xTexelC").concat(x+1,"Ready = 1;\n }\n\n xC").concat(x," = vec4(\n xTexelC").concat(x,".xy, xTexelC").concat(x+1,".xy);\n "),x+1<h&&(m+="\n xC".concat(x+1," = vec4(xTexelC").concat(x,".zw, xTexelC").concat(x+1,".zw);\n "))));x<h&&(m+="\n wTexel = getW(r, ".concat(x,", d1, q);\n dotProd += xC").concat(x," * vec4(wTexel.xz, wTexel.xz);\n "),x+1<h&&(m+="\n wTexel = getW(r, ".concat(x+1,", d1, q);\n dotProd += xC").concat(x+1," * vec4(wTexel.xz, wTexel.xz);\n ")))}m+="\n }\n ",m+="\n }\n ";var b="",k="";n&&(b=a?"vec4 activation(vec4 a) {\n vec4 b = getPreluActivationWeightsAtOutCoords();\n ".concat(n,"\n }"):c?"vec4 activation(vec4 a) {\n vec4 b = getLeakyreluAlphaAtOutCoords();\n ".concat(n,"\n }"):"vec4 activation(vec4 x) {\n ".concat(n,"\n }"),k="result = activation(result);"),r&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n ".concat(b,"\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n ivec2 xRCCorner = coords.yz * strides - pads;\n int d2 = coords.w;\n int d1 = d2 / ").concat(u,";\n int q = d2 - d1 * ").concat(u,";\n int xRCorner = xRCCorner.x;\n int xCCorner = xRCCorner.y;\n\n //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n vec4 dotProd = vec4(0.000000000000001);\n\n ").concat(m,"\n\n vec4 result = dotProd - vec4(0.000000000000001);\n ").concat(r?"result += getBiasAtOutCoords();":"","\n ").concat(k,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","./gpgpu_math":"crqTl","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],biUHP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropFilterConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu_depthwise");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.filterShape,d=o.backend_util.computeConv2DInfo(a.shape,f,c,u,l,p,!0),h=new(0,s.DepthwiseConv2DDerFilterProgram)(d);return r.runWebGLProgram(h,[a,i],"float32")}var c={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu_depthwise":"jSqVt","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jSqVt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DepthwiseConv2DDerFilterProgram",function(){return s}),a.export(r,"DepthwiseConv2DDerInputProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var r=t.strideHeight,n=t.strideWidth,a=t.padInfo.top,s=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int wR = coords.x;\n int wC = coords.y;\n int d1 = coords.z;\n int dm = coords.w;\n int d2 = d1 * ".concat(i," + dm;\n\n float dotProd = 0.0;\n\n // TO DO: Vec4 over the batch size\n for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n int xR = wR + yR * ").concat(r," - ").concat(a,";\n\n if (xR < 0 || xR >= ").concat(t.inHeight,") {\n continue;\n }\n\n for (int yC = 0; yC< ").concat(t.outWidth,"; yC++) {\n int xC = wC + yC * ").concat(n," - ").concat(s,";\n\n if (xC < 0 || xC >= ").concat(t.inWidth,") {\n continue;\n }\n\n float dyValue = getDy(b, yR, yC, d2);\n float xValue = getX(b, xR, xC, d1);\n dotProd += (xValue * dyValue);\n }\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var r=t.filterHeight,n=t.filterWidth,a=t.strideHeight,s=t.strideWidth,i=r-1-t.padInfo.top,c=n-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n const ivec2 pads = ivec2(".concat(i,", ").concat(c,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords[0];\n int d1 = coords[3];\n ivec2 dyCorner = coords.yz - pads;\n int dyRCorner = dyCorner.x;\n int dyCCorner = dyCorner.y;\n\n float dotProd = 0.0;\n\n for (int wR = 0; wR< ").concat(r,"; wR++) {\n float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n int wRPerm = ").concat(r," - 1 - wR;\n\n for (int wC = 0; wC< ").concat(n,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n int wCPerm = ").concat(n," - 1 - wC;\n\n // TO DO: Vec4 over the channelMul\n for (int dm = 0; dm< ").concat(u,"; dm++) {\n int d2 = d1 * ").concat(u," + dm;\n float xValue = getDy(batch, idyR, idyC, d2);\n float wValue = getW(wRPerm, wCPerm, d1, dm);\n dotProd += xValue * wValue;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lbeE9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropInputConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../conv_backprop_gpu_depthwise");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.filter,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.inputShape,d=o.backend_util.computeConv2DInfo(f,i.shape,c,u,l,p,!0),h=new(0,s.DepthwiseConv2DDerInputProgram)(d);return r.runWebGLProgram(h,[a,i],"float32")}var c={kernelName:o.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../conv_backprop_gpu_depthwise":"jSqVt","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i49BL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return u}),a.export(r,"diagConfig",function(){return l});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../diag_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=t.x,a=(0,o._)(n.shape).concat((0,o._)(n.shape)),u=s.util.sizeFromShape(n.shape),l=(0,c.reshape)({inputs:{x:n},backend:r,attrs:{shape:[u]}}),p=new(0,i.DiagProgram)(u),f=r.runWebGLProgram(p,[l],l.dtype),d=(0,c.reshape)({inputs:{x:f},backend:r,attrs:{shape:a}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(f),d}var l={kernelName:s.Diag,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../diag_gpu":"i23M5","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i23M5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"DiagProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n setOutput(val);\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],efUBa:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2D",function(){return c}),a.export(r,"dilation2DConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../dilation_gpu"),i=e("./Reshape");function c(e){var t,r=e.inputs,n=e.backend,a=e.attrs,c=r.x,u=r.filter,l=a.strides,p=a.pad,f=a.dilations,d=o.backend_util.computeDilation2DInfo(c.shape,u.shape,l,p,"NHWC",f),h=new(0,s.Dilation2DProgram)(d);t=n.runWebGLProgram(h,[c,u],"float32");var m=(0,i.reshape)({inputs:{x:t},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(t),m}var u={kernelName:o.Dilation2D,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../dilation_gpu":"1g7u3","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1g7u3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"Dilation2DProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var r=t.inHeight,n=t.inWidth,a=t.padInfo,s=t.strideHeight,i=t.strideWidth,c=t.filterHeight,u=t.filterWidth,l=t.dilationHeight,p=t.dilationWidth,f=a.top,d=a.left;this.userCode="\n const ivec2 strides = ivec2(".concat(s,", ").concat(i,");\n const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n const float neg_infinity = -3.4e38;\n\n void main() {\n ivec4 coords = getOutputCoords();\n int batch = coords.x;\n int d1 = coords.w;\n ivec2 outTopLeftCorner =\n coords.yz * strides - pads;\n int hBeg = outTopLeftCorner.x;\n int wBeg = outTopLeftCorner.y;\n\n float curVal = neg_infinity;\n for (int h = 0; h < ").concat(c,"; h++) {\n int hIn = hBeg + h * ").concat(l,";\n\n if (hIn >= 0 && hIn< ").concat(r,") {\n for (int w = 0; w < ").concat(u,"; w++) {\n int wIn = wBeg + w * ").concat(p,";\n\n if (wIn >= 0 && wIn< ").concat(n,") {\n float xVal = getX(batch, hIn, wIn, d1);\n float wVal = getW(h, w, d1);\n\n float val = xVal + wVal;\n if (val >curVal) {\n curVal = val;\n }\n }\n }\n }\n }\n\n float result = curVal;\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cYGUX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum",function(){return l}),a.export(r,"einsumConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("./Multiply"),i=e("./Reshape"),c=e("./Sum"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs.equation,a=o.backend_util.decodeEinsumEquation(n,t.length),l=a.allDims,p=a.summedDims,f=a.idDims;o.backend_util.checkEinsumDimSizes(l.length,f,t);for(var d=o.backend_util.getEinsumComputePath(p,f),h=d.path,m=d.steps,g=m.length,v=null,_=l.length,x=[],y=0;y<g;++y){var b=!0,k=!1,j=void 0;try{for(var w,S=m[y][Symbol.iterator]();!(b=(w=S.next()).done);b=!0){var I=w.value,T=o.backend_util.getEinsumPermutation(_,f[I]),N=T.permutationIndices,C=T.expandDims,E=void 0;o.backend_util.isIdentityPermutation(N)?E=t[I]:(E=(0,u.transpose)({inputs:{x:t[I]},backend:r,attrs:{perm:N}}),x.push(E));for(var F=E.shape.slice(),A=0;A<C.length;++A)F.splice(C[A],0,1);o.util.arraysEqual(E.shape,F)||(E=(0,i.reshape)({inputs:{x:E},backend:r,attrs:{shape:F}}),x.push(E)),null===v?v=E:(v=(0,s.multiply)({inputs:{a:E,b:v},backend:r}),x.push(v))}}catch(e){k=!0,j=e}finally{try{b||null==S.return||S.return()}finally{if(k)throw j}}y<g-1&&(h[y]>=0&&(v=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:h[y]-(l.length-_),keepDims:!1}}),x.push(v)),_--)}var P=!0,R=!1,D=void 0;try{for(var M,O=x[Symbol.iterator]();!(P=(M=O.next()).done);P=!0){var L=M.value;L!==v&&r.disposeIntermediateTensorInfo(L)}}catch(e){R=!0,D=e}finally{try{P||null==O.return||O.return()}finally{if(R)throw D}}return v}var p={kernelName:o.Einsum,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","./Multiply":"4IPq8","./Reshape":"cAHWq","./Sum":"kF9Yv","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Y5O1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n vec4 result;\n\n result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n return result;\n"}),i={kernelName:o.Elu,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eytUt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluGrad",function(){return c}),a.export(r,"eluGradConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=t.dy,a=t.y,c=(0,o.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new(0,i.BinaryOpPackedProgram)("\n vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",n.shape,a.shape):new(0,s.BinaryOpProgram)("return (b >= 0.0) ? a : a * (b + 1.0);",n.shape,a.shape);return r.runWebGLProgram(c,[n,a],n.dtype)},u={kernelName:o.EluGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bXDPx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"equal",function(){return c}),a.export(r,"equalConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.binaryKernelFunc)({opSnippet:"return float(a == b);",packedOpSnippet:"\n return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:i.equalImplCPU}),u={kernelName:o.Equal,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9nmu2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return c}),a.export(r,"erfConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i='\n // Error function is calculated approximately with elementary function.\n // See "Handbook of Mathematical Functions with Formulas,\n // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n float p = '.concat(o.backend_util.ERF_P,";\n float a1 = ").concat(o.backend_util.ERF_A1,";\n float a2 = ").concat(o.backend_util.ERF_A2,";\n float a3 = ").concat(o.backend_util.ERF_A3,";\n float a4 = ").concat(o.backend_util.ERF_A4,";\n float a5 = ").concat(o.backend_util.ERF_A5,";\n\n float sign = sign(x);\n x = abs(x);\n float t = 1.0 / (1.0 + p * x);\n return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Erf,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"80uRM":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"EXP",function(){return c}),a.export(r,"exp",function(){return u}),a.export(r,"expConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=s.CHECK_NAN_SNIPPET_UNARY+"\n return exp(x);\n",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = exp(x);\n bvec4 isNaN = isnan(x);\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",cpuKernelImpl:i.expImplCPU,dtype:"float32"}),l={kernelName:o.Exp,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hmw67:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return i}),a.export(r,"expandDimsConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Reshape");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.dim,i=t.input,c=i.shape.length,u=i.shape.slice(),l=a;return a<0&&(o.util.assert(-(c+1)<=a,function(){return"Axis must be in the interval [".concat(-(c+1),", ").concat(c,"]")}),l=c+a+1),u.splice(l,0,1),(0,s.reshape)({inputs:{x:i},backend:n,attrs:{shape:u}})}var c={kernelName:o.ExpandDims,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5OrTE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expm1",function(){return u}),a.export(r,"expm1Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return exp(x) - 1.0;",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.expm1ImplCPU}),l={kernelName:o.Expm1,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aDLvF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return i}),a.export(r,"fftConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./FFT_impl");function i(e){var t=e.inputs,r=e.backend,n=t.input;return(0,s.fftImpl)(n,!1,r)}var c={kernelName:o.FFT,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./FFT_impl":"cDWrw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cDWrw:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fftImpl",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../fft_gpu"),i=e("./Complex"),c=e("./Reshape");function u(e,t,r){var n=r.texData.get(e.dataId),a=o.util.sizeFromShape(e.shape),u=e.shape[e.shape.length-1],l=(0,c.reshape)({inputs:{x:e},backend:r,attrs:{shape:[a/u,u]}}),p=l.shape,f=new(0,s.FFTProgram)("real",p,t),d=new(0,s.FFTProgram)("imag",p,t),h=[{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:p},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:p}],m=r.runWebGLProgram(f,h,"float32"),g=r.runWebGLProgram(d,h,"float32"),v=(0,i.complex)({inputs:{real:m,imag:g},backend:r});r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g);var _=(0,c.reshape)({inputs:{x:v},backend:r,attrs:{shape:e.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(v),_}},{"@tensorflow/tfjs-core":"1q0U8","../fft_gpu":"b7qlC","./Complex":"6pb3b","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b7qlC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FFTProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["real","imag"];var a,s=r[1];this.outputShape=r;var i=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),c=n?"".concat(s,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else if("imag"===t)a="return real * expI + imag * expR;";else throw Error('FFT component must be either "real" or "imag", got '.concat(t,"."));this.userCode="\n const float exponentMultiplier = ".concat(i,";\n\n float unaryOpComplex(float real, float expR, float imag, float expI) {\n ").concat(a,"\n }\n\n float mulMatDFT(int batch, int index) {\n float indexRatio = float(index) / float(").concat(s,");\n float exponentMultiplierTimesIndexRatio =\n exponentMultiplier * indexRatio;\n\n float result = 0.0;\n\n for (int i = 0; i < ").concat(s,"; i++) {\n // x = (-2|2 * PI / N) * index * i;\n float x = exponentMultiplierTimesIndexRatio * float(i);\n float expR = cos(x);\n float expI = sin(x);\n float real = getReal(batch, i);\n float imag = getImag(batch, i);\n\n result +=\n unaryOpComplex(real, expR, imag, expI) / ").concat(c,";\n }\n\n return result;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n setOutput(mulMatDFT(coords[0], coords[1]));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"800YS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return i}),a.export(r,"fillConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../fill_gpu");function i(e){var t=e.backend,r=e.attrs,n=r.shape,a=r.value,i=r.dtype;if("string"===(i=i||o.util.inferDtype(a))){var c=o.util.getArrayFromDType(i,o.util.sizeFromShape(n));return c.fill(a),t.makeTensorInfo(n,i,c)}var u=new(0,s.FillProgram)(n,a),l=[[a]];return t.runWebGLProgram(u,[],i,l)}var c={kernelName:o.Fill,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../fill_gpu":"1oQvq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1oQvq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FillProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n void main() {\n // Input can be obtained from uniform value.\n setOutput(value);\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hefjY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRightConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=e("../flip_left_right_gpu"),i={kernelName:o.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.image,a=new(0,s.FlipLeftRightProgram)(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}}},{"@tensorflow/tfjs-core":"1q0U8","../flip_left_right_gpu":"g8Dlq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],g8Dlq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FlipLeftRightProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["Image"],this.outputShape=[];var r=t[2];this.outputShape=t,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int x = coords[2];\n\n int coordX = ".concat(r," - x - 1;\n float outputValue;\n if(coordX >= 0 && coordX< ").concat(r,") {\n outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n } else {\n outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ktt0S:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floor",function(){return u}),a.export(r,"floorConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return floor(x);",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.floorImplCPU}),l={kernelName:o.Floor,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],G09v3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"floorDiv",function(){return s}),a.export(r,"floorDivConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"\n float s = sign(a) * sign(b);\n int ia = round(a);\n int ib = round(b);\n if (ib != 0) {\n // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n return float(idiv(ia, ib, s));\n } else {\n return NAN;\n }\n",packedOpSnippet:"\n ivec4 ia = round(a);\n ivec4 ib = round(b);\n bvec4 cond = notEqual(ib, ivec4(0));\n ivec4 result = ivec4(0);\n vec4 s = sign(a) * sign(b);\n\n // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n if (cond[0]) {\n result[0] = idiv(ia[0], ib[0], s[0]);\n }\n if (cond[1]) {\n result[1] = idiv(ia[1], ib[1], s[1]);\n }\n if (cond[2]) {\n result[2] = idiv(ia[2], ib[2], s[2]);\n }\n if (cond[3]) {\n result[3] = idiv(ia[3], ib[3], s[3]);\n }\n return vec4(result);\n",dtype:"int32"}),i={kernelName:o.FloorDiv,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"19feK":[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fromPixelsConfig",function(){return p});var s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("@tensorflow/tfjs-core"),c=e("../tex_util"),u=e("./FromPixels_utils/from_pixels_gpu"),l=e("./FromPixels_utils/from_pixels_packed_gpu"),p={kernelName:i.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,o=t.pixels,p=n.numChannels,d="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,h="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,m=(0,s._)(d?[o.videoWidth,o.videoHeight]:[o.width,o.height],2),g=m[0],v=m[1],_=[v,g],x=[v,g,p];if(h||d){var y=(0,i.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==a||y!==f)&&(f=y,a=document.createElement("canvas").getContext("2d",{willReadFrequently:f})),a.canvas.width=g,a.canvas.height=v,a.drawImage(o,0,0,g,v),o=a.canvas}var b=r.makeTensorInfo(_,"int32");r.texData.get(b.dataId).usage=c.TextureUsage.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(b.dataId),o);var k=(0,i.env)().getBool("WEBGL_PACK")?new(0,l.FromPixelsPackedProgram)(x):new(0,u.FromPixelsProgram)(x),j=r.runWebGLProgram(k,[b],"int32");return r.disposeData(b.dataId),j}},f=(0,i.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU")},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../tex_util":"jagEL","./FromPixels_utils/from_pixels_gpu":"6UFHY","./FromPixels_utils/from_pixels_packed_gpu":"d2LlN","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6UFHY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FromPixelsProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("../../glsl_version"),c=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"];var r=(0,i.getGlslDifferences)(),n=(0,s._)(t,2),a=n[0],c=n[1];this.outputShape=t,this.userCode="\n void main() {\n ivec3 coords = getOutputCoords();\n int texR = coords[0];\n int texC = coords[1];\n int depth = coords[2];\n vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(c,".0, ").concat(a,".0);\n\n vec4 values = ").concat(r.texture2D,"(A, uv);\n float value;\n if (depth == 0) {\n value = values.r;\n } else if (depth == 1) {\n value = values.g;\n } else if (depth == 2) {\n value = values.b;\n } else if (depth == 3) {\n value = values.a;\n }\n\n setOutput(floor(value * 255.0 + 0.5));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../glsl_version":"qEJnc","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d2LlN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"FromPixelsPackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=e("../../glsl_version"),c=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=(0,i.getGlslDifferences)(),n=(0,s._)(t,2),a=n[0],c=n[1];this.outputShape=t,this.userCode="\n void main() {\n ivec3 coords = getOutputCoords();\n int texR = coords[0];\n int texC = coords[1];\n int depth = coords[2];\n\n vec4 result = vec4(0.);\n\n for(int row=0; row<=1; row++) {\n for(int col=0; col<=1; col++) {\n texC = coords[1] + row;\n depth = coords[2] + col;\n\n vec2 uv = (vec2(texC, texR) + halfCR) /\n vec2(".concat(c,".0, ").concat(a,".0);\n vec4 values = ").concat(r.texture2D,"(A, uv);\n float value;\n if (depth == 0) {\n value = values.r;\n } else if (depth == 1) {\n value = values.g;\n } else if (depth == 2) {\n value = values.b;\n } else if (depth == 3) {\n value = values.a;\n }\n\n result[row * 2 + col] = floor(value * 255.0 + 0.5);\n }\n }\n\n ").concat(r.output," = result;\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","../../glsl_version":"qEJnc","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gdhWY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedConv2d",function(){return p}),a.export(r,"fusedConv2DConfig",function(){return f});var o=e("@tensorflow/tfjs-core"),s=e("../conv_gpu"),i=e("../conv_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("./Conv2D_impl"),l=e("./Reshape");function p(e){var t,r=e.inputs,n=e.backend,a=e.attrs,p=r.x,f=r.filter,d=r.bias,h=r.preluActivationWeights,m=a.strides,g=a.pad,v=a.dataFormat,_=a.dilations,x=a.dimRoundingMode,y=a.activation,b=a.leakyreluAlpha,k=o.backend_util.convertConv2DDataFormat(v),j=o.backend_util.computeConv2DInfo(p.shape,f.shape,m,_,g,x,!1,k),w=[],S=null!=d,I=null!=h,T="leakyrelu"===y,N=function(){var e=[p,f],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var r=(0,l.reshape)({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return w.push(r),r}return e};if(S&&e.push(t(d,v)),I&&e.push(t(h,v)),T){var r=n.makeTensorInfo([],"float32",o.util.createScalarValue(b,"float32"));e.push(r),w.push(r)}return e};if(1===j.filterHeight&&1===j.filterWidth&&1===j.dilationHeight&&1===j.dilationWidth&&1===j.strideHeight&&1===j.strideWidth&&("SAME"===j.padInfo.type||"VALID"===j.padInfo.type))t=(0,u.conv2dByMatMul)({x:p,filter:f,convInfo:j,backend:n,bias:d,activation:y,preluActivationWeights:h,leakyreluAlpha:b});else if(j.strideWidth<=2&&"channelsLast"===k&&(0,o.env)().getBool("WEBGL_EXP_CONV")){var C=y?(0,c.mapActivationToShaderProgram)(y,!0):null,E=new(0,i.Conv2DPackedProgram)(j,S,C,I,T),F=[[j.padInfo.top,j.padInfo.left],[j.strideHeight,j.strideWidth],[j.dilationHeight,j.dilationWidth],[j.inHeight,j.inWidth]],A=N();t=n.runWebGLProgram(E,A,"float32",F)}else if((0,o.env)().getBool("WEBGL_CONV_IM2COL"))t=(0,u.conv2dWithIm2Row)({x:p,filter:f,convInfo:j,backend:n,bias:d,activation:y,preluActivationWeights:h,leakyreluAlpha:b});else{var P=y?(0,c.mapActivationToShaderProgram)(y,!1):null,R=new(0,s.Conv2DProgram)(j,S,P,I,T),D=N();t=n.runWebGLProgram(R,D,"float32")}var M=(0,l.reshape)({inputs:{x:t},backend:n,attrs:{shape:j.outShape}});return w.push(t),w.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),M}var f={kernelName:o.FusedConv2D,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"1q0U8","../conv_gpu":"3U1lN","../conv_packed_gpu":"6HY9u","../kernel_utils/kernel_funcs_utils":"81uKn","./Conv2D_impl":"k8VXq","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],g1522:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedDepthwiseConv2D",function(){return u}),a.export(r,"fusedDepthwiseConv2DConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../conv_gpu_depthwise"),i=e("../conv_packed_gpu_depthwise"),c=e("../kernel_utils/kernel_funcs_utils");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x,l=r.filter,p=r.bias,f=r.preluActivationWeights,d=a.strides,h=a.pad,m=a.dilations,g=a.dimRoundingMode,v=a.activation,_=a.leakyreluAlpha,x=[],y=m;null==y&&(y=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(d,y),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(d," and dilations '").concat(y,"'")});var b=o.backend_util.computeConv2DInfo(u.shape,l.shape,d,y,h,g,!0),k=(0,o.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels==1,j=v?(0,c.mapActivationToShaderProgram)(v,k):null,w=[u,l],S=null!=p,I=null!=f,T="leakyrelu"===v;if(S&&w.push(p),I&&w.push(f),T){var N=n.makeTensorInfo([],"float32",o.util.createScalarValue(_,"float32"));w.push(N),x.push(N)}t=k?new(0,i.DepthwiseConvPacked2DProgram)(b,S,j,I,T):new(0,s.DepthwiseConv2DProgram)(b,S,j,I,T);var C=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],E=n.runWebGLProgram(t,w,"float32",C);return x.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),E}var l={kernelName:o.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../conv_gpu_depthwise":"gDULl","../conv_packed_gpu_depthwise":"24vAi","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h5UDe:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNd",function(){return l}),a.export(r,"gatherNdConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../gather_nd_gpu"),c=e("../kernel_utils/shared"),u=e("./Reshape");function l(e){var t=e.inputs,r=e.backend,n=t.params,a=t.indices,l=a.shape,p=l[l.length-1],f=s.util.sizeFromShape(n.shape),d=(0,o._)(s.backend_util.prepareAndValidate(n,a),4),h=d[0],m=d[1],g=d[2],v=d[3],_=(0,u.reshape)({inputs:{x:a},backend:r,attrs:{shape:[m,p]}}),x=(0,u.reshape)({inputs:{x:n},backend:r,attrs:{shape:[s.util.sizeFromShape(n.shape)/g,g]}});if(r.shouldExecuteOnCPU([n,a])||"string"===n.dtype){var y=r.readSync(a.dataId),b=r.bufferSync(n),k=(0,c.gatherNdImplCPU)(y,b,n.dtype,m,p,g,v,n.shape,f);return r.makeTensorInfo(h,n.dtype,k.values)}var j=new(0,i.GatherNDProgram)(p,v,[m,g],n.shape),w=r.runWebGLProgram(j,[x,_],x.dtype),S=(0,u.reshape)({inputs:{x:w},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(w),S}var p={kernelName:s.GatherNd,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../gather_nd_gpu":"36LDn","../kernel_utils/shared":"5N8x3","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"36LDn":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GatherNDProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n,a){"use strict";(0,o._)(this,e),this.sliceDim=t,this.strides=r,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=n;for(var i=(0,s.getCoordsDataType)(n.length),c="\n int index;",u=0;u<this.sliceDim;u++)c+="\n index = round(getIndices(coords[0], ".concat(u,"));\n out_of_bounds = out_of_bounds || index < 0;\n out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[u],";\n flattenIndex += index * ").concat(this.strides[u],";");this.userCode="\n void main() {\n ".concat(i," coords = getOutputCoords();\n int flattenIndex = 0;\n bool out_of_bounds = false;\n\n ").concat(c,"\n\n setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"37laX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2",function(){return u}),a.export(r,"gatherV2Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../gather_gpu"),i=e("../kernel_utils/shared"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=t.indices,l=n.axis,p=n.batchDims,f=o.util.parseAxisParam(l,a.shape)[0];if((0,o.env)().get("DEBUG"))for(var d=r.readSync(u.dataId),h=a.shape[f],m=0;m<d.length;++m)!function(e){var t=d[e];o.util.assert(t<=h-1&&t>=0,function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(h-1,"]")})}(m);var g=o.backend_util.segment_util.collectGatherOpShapeInfo(a,u,f,p),v=o.util.sizeFromShape(u.shape),_=[],x=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),y=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[g.batchSize,v/g.batchSize]}});_.push(x),_.push(y);var b=[g.batchSize,g.outerSize,v/g.batchSize,g.sliceSize];if(r.shouldExecuteOnCPU([a,u])||"string"===a.dtype){var k=r.bufferSync(y),j=r.bufferSync(x),w=(0,i.gatherV2ImplCPU)(j,k,b);return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(g.outputShape,w.dtype,w.values)}var S=new(0,s.GatherProgram)(x.shape,b),I=r.runWebGLProgram(S,[x,y],x.dtype);_.push(I);var T=(0,c.reshape)({inputs:{x:I},backend:r,attrs:{shape:g.outputShape}});return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),T}var l={kernelName:o.GatherV2,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../gather_gpu":"jmvdP","../kernel_utils/shared":"5N8x3","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jmvdP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GatherProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A","indices"],this.outputShape=r,this.rank=r.length;var n=(0,s.getCoordsDataType)(this.rank),a=function(e,t){for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[],a=0;a<e.length;a++)2===a?n.push("index"):n.push("".concat(r[a]));return n.join()}(t,0);this.userCode="\n void main() {\n ".concat(n," resRC = getOutputCoords();\n int index = int(getIndices(resRC.x, resRC.z));\n float inBounds = (index >= 0) && (index< ").concat(t[2],") ? 1.0 : 0.0;\n setOutput(inBounds * getA(").concat(a,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eToAs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greater",function(){return c}),a.export(r,"greaterConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.binaryKernelFunc)({opSnippet:"return float(a >b);",packedOpSnippet:"\n return vec4(greaterThan(a, b));\n",cpuKernelImpl:i.greaterImplCPU,dtype:"bool"}),u={kernelName:o.Greater,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8Lbkh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"greaterEqual",function(){return c}),a.export(r,"greaterEqualConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.binaryKernelFunc)({opSnippet:"return float(a >= b);",packedOpSnippet:"\n return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:i.greaterEqualImplCPU}),u={kernelName:o.GreaterEqual,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iFE7w:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return i}),a.export(r,"ifftConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./FFT_impl");function i(e){var t=e.inputs,r=e.backend,n=t.input;return(0,s.fftImpl)(n,!0,r)}var c={kernelName:o.IFFT,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./FFT_impl":"cDWrw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dPdFW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return s}),a.export(r,"isFiniteConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),i={kernelName:o.IsFinite,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],isBYS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return s}),a.export(r,"isInfConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(isinf(x));",dtype:"bool"}),i={kernelName:o.IsInf,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i343C:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return s}),a.export(r,"isNaNConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(isnan(x));",dtype:"bool"}),i={kernelName:o.IsNan,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1IXO2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"less",function(){return c}),a.export(r,"lessConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.binaryKernelFunc)({opSnippet:"return float(a< b);",packedOpSnippet:"\n return vec4(lessThan(a, b));\n",cpuKernelImpl:i.lessImplCPU,dtype:"bool"}),u={kernelName:o.Less,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3EWjs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LESS_EQUAL",function(){return c}),a.export(r,"LESS_EQUAL_PACKED",function(){return u}),a.export(r,"lessEqual",function(){return l}),a.export(r,"lessEqualConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return float(a <= b);",u="\n return vec4(lessThanEqual(a, b));\n",l=(0,s.binaryKernelFunc)({opSnippet:c,packedOpSnippet:u,cpuKernelImpl:i.lessEqualImplCPU,dtype:"bool"}),p={kernelName:o.LessEqual,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],km5Rv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpace",function(){return i}),a.export(r,"linSpaceConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,o=r.num,i=(0,s.linSpaceImplCPU)(n,a,o);return t.makeTensorInfo([i.length],"float32",i)}var c={kernelName:o.LinSpace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5KP3I":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log",function(){return u}),a.export(r,"logConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=s.CHECK_NAN_SNIPPET_UNARY+"\n return x < 0.0 ? 0./0. : log(x);\n",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = log(x);\n bvec4 isNaN = isnan(x);\n result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n return result;\n",cpuKernelImpl:i.logImplCPU}),l={kernelName:o.Log,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hbjdc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return c}),a.export(r,"log1pConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=s.CHECK_NAN_SNIPPET_UNARY+"\n return log(1.0 + x);\n",c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Log1p,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"98RzX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAnd",function(){return s}),a.export(r,"logicalAndConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n return vec4(\n vec4(greaterThanEqual(a, vec4(1.0))) *\n vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),i={kernelName:o.LogicalAnd,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9jCQH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return s}),a.export(r,"logicalNotConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return float(!(x >= 1.0));"}),i={kernelName:o.LogicalNot,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lA7PP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOr",function(){return s}),a.export(r,"logicalOrConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n return min(\n vec4(greaterThanEqual(a, vec4(1.0))) +\n vec4(greaterThanEqual(b, vec4(1.0))),\n vec4(1.0));\n",dtype:"bool"}),i={kernelName:o.LogicalOr,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1dO3P":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lrn",function(){return c}),a.export(r,"LRNConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../lrn_gpu"),i=e("../lrn_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.depthRadius,u=n.bias,l=n.alpha,p=n.beta,f=(0,o.env)().getBool("WEBGL_PACK_NORMALIZATION")?new(0,i.LRNPackedProgram)(a.shape,c,u,l,p):new(0,s.LRNProgram)(a.shape,c,u,l,p);return r.runWebGLProgram(f,[a],a.dtype)},u={kernelName:o.LRN,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../lrn_gpu":"1gHrT","../lrn_packed_gpu":"3jTlA","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1gHrT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n,a,s){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.outputShape=[];var i,c=t[3]-1;this.outputShape=t;var u="float(".concat(n,") + float(").concat(a,") * sum");i=.5===s?"inversesqrt(".concat(u,")"):1===s?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(s,"));"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int r = coords[1];\n int c = coords[2];\n int d = coords[3];\n float x = getX(b, r, c, d);\n float sum = 0.0;\n for (int j = -".concat(r,"; j<= ").concat(r,"; j++) {\n int idx = d + j;\n if (idx >= 0 && idx<= ").concat(c,") {\n float z = getX(b, r, c, idx);\n sum += z * z;\n }\n }\n float val = x * ").concat(i,";\n setOutput(val);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3jTlA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNPackedProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n,a,s){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,c=t[3]-1;this.outputShape=t;var u="float(".concat(n,") + float(").concat(a,") * sum");i=.5===s?"inversesqrt(".concat(u,")"):1===s?"1.0/(".concat(u,")"):"exp(log(".concat(u,") * float(-").concat(s,"));"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords.x;\n int r = coords.y;\n int c = coords.z;\n int d = coords.w;\n\n bool hasNextCol = d < ".concat(this.outputShape[3],";\n bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n vec4 sum = vec4(0.);\n vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n vec4 xAtOutputCoords = vec4(\n getChannel(xFragAtOutputCoords, vec2(c, d)),\n hasNextCol ?\n getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n hasNextRow ?\n getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n (hasNextRow && hasNextCol) ?\n getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n );\n\n int firstChannel = d - ").concat(r,";\n vec2 cache = vec2(0.);\n if(firstChannel >= 0){\n vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n if(hasNextRow){\n cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n }\n }\n\n ivec2 depth = ivec2(d, d + 1);\n for (int j = - ").concat(r,"; j<= ").concat(r,"; j++) {\n ivec2 idx = depth + j;\n bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(c,"));\n\n bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n if(depthInRange || depthPlusOneInRange){\n vec4 z = vec4(0.);\n vec4 xFragAtCurrentDepth;\n z.xz = cache.xy;\n if(depthPlusOneInRange && hasNextCol){\n xFragAtCurrentDepth = idx.y != d ?\n getX(b, r, c, idx.y) : xFragAtOutputCoords;\n z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n if(hasNextRow){\n z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n }\n }\n cache.xy = z.yw;\n sum += z * z;\n }\n }\n vec4 result = xAtOutputCoords * ").concat(i,";\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hRZjW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lrnGrad",function(){return i}),a.export(r,"LRNGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../lrn_grad_gpu"),i=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.y,i=t.dy,c=n.depthRadius,u=n.bias,l=n.alpha,p=n.beta,f=new(0,s.LRNGradProgram)(a.shape,c,u,l,p);return r.runWebGLProgram(f,[a,o,i],a.dtype)},c={kernelName:o.LRNGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../lrn_grad_gpu":"aRMH2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aRMH2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"LRNGradProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n,a,s){"use strict";(0,o._)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=r,this.bias=n,this.alpha=a,this.beta=s,this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int r = coords[1];\n int c = coords[2];\n\n float result = 0.0;\n for (int d = 0; d < ".concat(this.depth,"; ++d) {\n int depthBegin = int(max(0.0, float(d - ").concat(r,")));\n int depthEnd = int(min(float(").concat(this.depth,"),\n float(d + ").concat(r," + 1)));\n\n const int MIN_DEPTH_BEGIN = 0;\n const int MAX_DEPTH_END = ").concat(this.depth,";\n\n float norm = 0.0;\n for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n if (k < depthBegin){\n continue;\n }\n else if (k >= depthBegin && k< depthEnd) {\n norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n }\n else {\n break;\n }\n }\n\n norm = float(").concat(a,") * norm + float(").concat(n,");\n\n for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n if (k < depthBegin){\n continue;\n }\n else if (k >= depthBegin && k< depthEnd){\n float dyi = -2.0 * float(").concat(a,")\n * float(").concat(s,")\n * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n / norm;\n if (k == d) {\n dyi += pow(norm, -1.0 * ").concat(s,");\n }\n if (k == coords[3]) {\n dyi *= getDy(b, r, c, d);\n result += dyi;\n }\n }\n else {\n break;\n }\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"593f8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return l}),a.export(r,"maxConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("./Max_impl"),u=e("./Transpose_impl");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.reductionIndices,f=a.keepDims,d=l.shape.length,h=s.util.parseAxisParam(p,l.shape),m=h,g=s.backend_util.getAxesPermutation(m,d),v=null!=g,_=n.shouldExecuteOnCPU([l]),x=l;if(v){if(_){for(var y=n.texData.get(x.dataId).values,b=Array(d),k=0;k<b.length;k++)b[k]=l.shape[g[k]];var j=(0,u.transposeImplCPU)(y,l.shape,l.dtype,g,b);x=n.makeTensorInfo(b,l.dtype),n.texData.get(x.dataId).values=j}else x=(0,u.transposeImpl)(l,g,n);m=s.backend_util.getInnerMostAxes(m.length,d)}s.backend_util.assertAxesAreInnerMostDims("max",m,d);var w=(0,o._)(s.backend_util.computeOutAndReduceShapes(x.shape,m),2),S=w[0],I=w[1],T=S;if(f&&(T=s.backend_util.expandShapeToKeepDim(S,h)),_){var N=n.texData.get(x.dataId).values,C=(0,i.maxImplCPU)(N,s.util.sizeFromShape(I),T,l.dtype);t=n.makeTensorInfo(T,l.dtype),n.texData.get(t.dataId).values=C}else t=(0,c.maxImpl)(x,I,T,n);return v&&n.disposeIntermediateTensorInfo(x),t}var p={kernelName:s.Max,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","./Max_impl":"7Qg6y","./Transpose_impl":"aGWrZ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Qg6y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxImpl",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/reduce"),i=e("../kernels/Reshape");function c(e,t,r,n){var a=o.util.sizeFromShape(t),c=o.util.sizeFromShape(e.shape),u=(0,i.reshape)({inputs:{x:e},attrs:{shape:[c/a,a]},backend:n}),l=(0,s.reduce)(u,e.dtype,"max",n),p=(0,i.reshape)({inputs:{x:l},attrs:{shape:r},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),p}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","../kernels/Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eJ0SO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maximum",function(){return f}),a.export(r,"maximumConfig",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../kernel_utils/shared"),l=s.CHECK_NAN_SNIPPET+"\n return max(a, b);\n",p="\n vec4 result = vec4(max(a, b));\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",f=(0,c.binaryKernelFunc)({opSnippet:l,packedOpSnippet:p,cpuKernelImpl:u.maximumImplCPU}),d={kernelName:o.Maximum,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],esGCt:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return u}),a.export(r,"maxPoolConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../pool_gpu"),i=e("../webgl_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;(0,i.assertNotComplex)(a,"maxPool");var u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(l,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(l," and dilations '").concat(1,"'")});var d=o.backend_util.computePool2DInfo(a.shape,u,l,1,p,f);if(1===d.filterWidth&&1===d.filterHeight&&o.util.arraysEqual(d.inShape,d.outShape))return(0,c.identity)({inputs:{x:a},backend:r});var h=new(0,s.Pool2DProgram)(d,"max",!1);return r.runWebGLProgram(h,[a],a.dtype)}var l={kernelName:o.MaxPool,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../pool_gpu":"e0m7U","../webgl_util":"foNeO","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7N7Zp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3d",function(){return i}),a.export(r,"maxPool3DConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../pool_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.filterSize,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=o.backend_util.computePool3DInfo(a.shape,i,c,[1,1,1],u,p,l),d=new(0,s.Pool3DProgram)(f,"max",!1);return r.runWebGLProgram(d,[a],a.dtype)}var c={kernelName:o.MaxPool3D,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../pool_gpu":"e0m7U","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],enkPj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3DGrad",function(){return c}),a.export(r,"maxPool3DGradConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../max_pool_backprop_gpu"),i=e("../pool_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode,d=o.backend_util.computePool3DInfo(c.shape,u,l,[1,1,1],p,f),h=new(0,i.Pool3DProgram)(d,"max",!0),m=r.runWebGLProgram(h,[c],c.dtype),g=new(0,s.MaxPool3DBackpropProgram)(d),v=r.runWebGLProgram(g,[a,m],c.dtype);return r.disposeIntermediateTensorInfo(m),v}var u={kernelName:o.MaxPool3DGrad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../max_pool_backprop_gpu":"cJ3j7","../pool_gpu":"e0m7U","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cJ3j7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MaxPool2DBackpropProgram",function(){return s}),a.export(r,"MaxPool3DBackpropProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var r=t.strideHeight,n=t.strideWidth,a=t.dilationHeight,s=t.effectiveFilterHeight,i=t.effectiveFilterWidth,c=s-1-t.padInfo.top,u=i-1-t.padInfo.left,l=s*i-1;this.userCode="\n const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n\n ivec2 dyRCCorner = coords.yz - pads;\n int dyRCorner = dyRCCorner.x;\n int dyCCorner = dyRCCorner.y;\n\n // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n for (int wR = 0; wR < ").concat(s,";\n wR += ").concat(a,") {\n float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(i,"; wC++) {\n float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(b, idyR, idyC, d);\n int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n // Get the current value, check it against the value from the\n // position matrix.\n int curPosValue = wR * ").concat(i," + wC;\n float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n dotProd += dyValue * mask;\n }\n }\n setOutput(dotProd);\n }\n ")},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var r=t.strideDepth,n=t.strideHeight,a=t.strideWidth,s=t.dilationDepth,i=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=u-1-t.padInfo.front,d=l-1-t.padInfo.top,h=p-1-t.padInfo.left,m=u*l*p-1;this.userCode="\n const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n void main() {\n ivec5 coords = getOutputCoords();\n int batch = coords.x;\n int ch = coords.u;\n\n ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n int dyDCorner = dyCorner.x;\n int dyRCorner = dyCorner.y;\n int dyCCorner = dyCorner.z;\n\n // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n // dx(xD, xR, xC, ch).\n // ? = to be determined. : = across all values in that axis.\n float dotProd = 0.0;\n\n for (int wD = 0; wD< ").concat(u,";\n wD += ").concat(s,") {\n float dyD = float(dyDCorner + wD) / ").concat(r,".0;\n\n if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n continue;\n }\n int idyD = int(dyD);\n\n for (int wR = 0; wR< ").concat(l,";\n wR += ").concat(i,") {\n float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n fract(dyR) > 0.0) {\n continue;\n }\n int idyR = int(dyR);\n\n for (int wC = 0; wC< ").concat(p,";\n wC += ").concat(c,") {\n float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n fract(dyC) > 0.0) {\n continue;\n }\n int idyC = int(dyC);\n\n float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n int maxPosValue = ").concat(m," -\n int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n // Get the current value, check it against the value from the\n // position matrix.\n int curPosValue =\n wD * ").concat(l," * ").concat(p," +\n wR * ").concat(p," + wC;\n float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n dotProd += dyValue * mask;\n }\n }\n }\n setOutput(dotProd);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5BhtC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolGrad",function(){return u}),a.export(r,"maxPoolGradConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../max_pool_backprop_gpu"),i=e("../pool_gpu"),c=e("../webgl_util");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,u=t.input,l=t.output;(0,c.assertNotComplex)([u,l],"maxPoolGrad");var p=n.filterSize,f=n.strides,d=n.pad,h=n.dimRoundingMode,m=o.backend_util.computePool2DInfo(u.shape,p,f,1,d,h),g=new(0,i.Pool2DProgram)(m,"max",!0),v=r.runWebGLProgram(g,[u],u.dtype),_=new(0,s.MaxPool2DBackpropProgram)(m),x=r.runWebGLProgram(_,[a,v],u.dtype);return r.disposeIntermediateTensorInfo(v),x}var l={kernelName:o.MaxPoolGrad,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../max_pool_backprop_gpu":"cJ3j7","../pool_gpu":"e0m7U","../webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dCRMP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxConfig",function(){return c});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./MaxPoolWithArgmax_impl"),c={kernelName:s.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,c=r.filterSize,u=r.strides,l=r.pad,p=r.includeBatchInIndex;s.util.assert(4===a.shape.length,function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")});var f=[1,1];s.util.assert(s.backend_util.eitherStridesOrDilationsAreOne(u,f),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(f,"'")});var d=s.backend_util.computePool2DInfo(a.shape,c,u,f,l),h=(0,o._)((0,i.maxPoolWithArgmaxImpl)(a,p,d,n),2);return[h[0],h[1]]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./MaxPoolWithArgmax_impl":"dS3Wk","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dS3Wk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxImpl",function(){return s});var o=e("../pool_gpu");function s(e,t,r,n){var a=new(0,o.Pool2DProgram)(r,"max",!1),s=n.runWebGLProgram(a,[e],"float32");return a=new(0,o.Pool2DProgram)(r,"max",!0,!0,t),[s,n.runWebGLProgram(a,[e],"float32")]}},{"../pool_gpu":"e0m7U","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3WAdi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./Mean_impl"),c=e("./Transpose_impl"),u={kernelName:s.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,u=r.keepDims,l=r.axis,p=a.shape.length,f=s.util.parseAxisParam(l,a.shape),d=f,h=s.backend_util.getAxesPermutation(d,p),m=null!=h,g=n.shouldExecuteOnCPU([a]),v=[],_=a;if(m){if(g){for(var x=n.texData.get(_.dataId).values,y=Array(p),b=0;b<y.length;b++)y[b]=a.shape[h[b]];var k=(0,c.transposeImplCPU)(x,a.shape,a.dtype,h,y);_=n.makeTensorInfo(y,a.dtype),n.texData.get(_.dataId).values=k}else _=(0,c.transposeImpl)(a,h,n);v.push(_),d=s.backend_util.getInnerMostAxes(d.length,p)}s.backend_util.assertAxesAreInnerMostDims("sum",d,p);var j=(0,o._)(s.backend_util.computeOutAndReduceShapes(_.shape,d),2),w=j[0],S=j[1],I=w;u&&(I=s.backend_util.expandShapeToKeepDim(w,f));var T=(0,i.meanImpl)(_,S,I,n),N=!0,C=!1,E=void 0;try{for(var F,A=v[Symbol.iterator]();!(N=(F=A.next()).done);N=!0){var P=F.value;n.disposeIntermediateTensorInfo(P)}}catch(e){C=!0,E=e}finally{try{N||null==A.return||A.return()}finally{if(C)throw E}}return T}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./Mean_impl":"iuLWf","./Transpose_impl":"aGWrZ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iuLWf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"meanImpl",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/reduce"),i=e("../kernels/Reshape");function c(e,t,r,n){var a=o.util.sizeFromShape(t),c=o.util.sizeFromShape(e.shape),u=(0,i.reshape)({inputs:{x:e},attrs:{shape:[c/a,a]},backend:n}),l=(0,s.reduce)(u,"float32","mean",n),p=(0,i.reshape)({inputs:{x:l},attrs:{shape:r},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),p}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","../kernels/Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],koCqN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return l}),a.export(r,"minConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.axis,f=a.keepDims,d=l.shape.length,h=s.util.parseAxisParam(p,l.shape),m=h,g=s.backend_util.getAxesPermutation(m,d),v=l;null!=g&&(v=(0,u.transpose)({inputs:{x:l},backend:n,attrs:{perm:g}}),m=s.backend_util.getInnerMostAxes(m.length,l.shape.length)),s.backend_util.assertAxesAreInnerMostDims("min",m,d);var _=(0,o._)(s.backend_util.computeOutAndReduceShapes(v.shape,m),2),x=_[0],y=_[1],b=s.util.sizeFromShape(y),k=(0,c.reshape)({inputs:{x:v},backend:n,attrs:{shape:[-1,b]}}),j=(0,i.reduce)(k,k.dtype,"min",n);if(f){var w=s.backend_util.expandShapeToKeepDim(x,h);t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:w}})}else t=(0,c.reshape)({inputs:{x:j},backend:n,attrs:{shape:x}});return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(j),null!=g&&n.disposeIntermediateTensorInfo(v),t}var p={kernelName:s.Min,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","./Reshape":"cAHWq","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6e69v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"minimum",function(){return f}),a.export(r,"minimumConfig",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_gpu"),i=e("../binaryop_packed_gpu"),c=e("../kernel_utils/kernel_funcs_utils"),u=e("../kernel_utils/shared"),l=s.CHECK_NAN_SNIPPET+"\n return min(a, b);\n",p="\n vec4 result = vec4(min(a, b));\n bvec4 isNaNA = isnan(a);\n bvec4 isNaNB = isnan(b);\n bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n "+i.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",f=(0,c.binaryKernelFunc)({opSnippet:l,packedOpSnippet:p,cpuKernelImpl:u.minimumImplCPU}),d={kernelName:o.Minimum,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_gpu":"fKWLB","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8NEOG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPadKernelFunc",function(){return c}),a.export(r,"mirrorPadConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../mirror_pad_gpu"),i=e("../mirror_pad_packed_gpu"),c=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.paddings,u=n.mode,l=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.MirrorPadPackedProgram)(a.shape,c,u):new(0,s.MirrorPadProgram)(a.shape,c,u);return r.runWebGLProgram(l,[a],a.dtype)},u={kernelName:o.MirrorPad,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../mirror_pad_gpu":"chClK","../mirror_pad_packed_gpu":"dGv3g","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],chClK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MirrorPadProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,i=(0,s.getCoordsDataType)(a),c=r.map(function(e){return e[0]}).join(","),u=r.map(function(e,r){return e[0]+t[r]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),p=+("reflect"!==n);if(1===a){this.userCode="\n int start = ".concat(c,";\n int end = ").concat(u,";\n\n void main() {\n int outC = getOutputCoords();\n if (outC < start) {\n outC = start * 2 - outC - ").concat(p,";\n } else if(outC >= end) {\n outC = (end - 1) * 2 - outC + ").concat(p,";\n }\n setOutput(getX(outC - start));\n }\n ");return}this.userCode="\n ".concat(i," start = ").concat(i,"(").concat(c,");\n ").concat(i," end = ").concat(i,"(").concat(u,");\n\n void main() {\n ").concat(i," outC = getOutputCoords();\n for (int i = 0; i< ").concat(a,"; i++) {\n if (outC[i] < start[i]) {\n outC[i] = start[i] * 2 - outC[i] - ").concat(p,";\n } else if(outC[i] >= end[i]) {\n outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(p,";\n }\n }\n ").concat(i," coords = outC - start;\n setOutput(getX(").concat(l,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dGv3g:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MirrorPadPackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,c=(0,i.getCoordsDataType)(a),u=r.map(function(e){return e[0]}).join(","),l=r.map(function(e,r){return e[0]+t[r]}).join(","),p=(0,s.getChannels)("rc",a),f=(0,s.getChannels)("source",a),d="".concat(p[a-1],"< ").concat(this.outputShape[a-1]),h=1===a?"source":"vec2(".concat(f.slice(-2).join(),")"),m=+("reflect"!==n),g="";if(1===a){var v="\n ".concat(c," source = rc;\n if (source < start) {\n source = start * 2 - source - ").concat(m,";\n } else if (source >= end) {\n source = (end - 1) * 2 - source + ").concat(m,";\n }\n source -= start;\n ");g="\n ".concat(c," rc = outputLoc;\n ").concat(v,"\n result[0] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(v,"\n result[1] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n ")}else{var _="\n ".concat(c," source = rc;\n ").concat(c," lt = ").concat(c,"(lessThan(source, start));\n ").concat(c," gte = ").concat(c,"(greaterThanEqual(source, end));\n ").concat(c," orig = 1 - (lt + gte);\n source = orig * source +\n lt * (start * 2 - source - ").concat(m,") +\n gte * ((end - 1) * 2 - source + ").concat(m,");\n source -= start;\n ");g="\n ".concat(c," rc = outputLoc;\n ").concat(_,"\n result[0] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(_,"\n result[1] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n rc = outputLoc;\n ").concat(p[a-2]," += 1;\n if(").concat(p[a-2],"< ").concat(this.outputShape[a-2],") {\n ").concat(_,"\n result[2] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n ").concat(p[a-1]," += 1;\n if(").concat(d,") {\n ").concat(_,"\n result[3] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n }\n ")}this.userCode="\n const ".concat(c," start = ").concat(c,"(").concat(u,");\n const ").concat(c," end = ").concat(c,"(").concat(l,");\n\n void main() {\n ").concat(c," outputLoc = getOutputCoords();\n vec4 result = vec4(0.);\n ").concat(g,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d1mS4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mod",function(){return u}),a.export(r,"modConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c="\n vec4 result = mod(a, b);\n bvec4 isNaN = equal(b, vec4(0.0));\n "+s.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",u=(0,i.binaryKernelFunc)({opSnippet:"if (b == 0.0) return NAN;\n return mod(a, b);",packedOpSnippet:c}),l={kernelName:o.Mod,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ghewg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return c}),a.export(r,"multinomialConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../multinomial_gpu"),i=e("./Softmax");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,o=n.numSamples,c=n.seed,u=n.normalized,l=u?a:(0,i.softmax)({inputs:{logits:a},backend:r,attrs:{dim:a.shape.length-1}}),p=l.shape[0],f=l.shape[1],d=new(0,s.MultinomialProgram)(p,f,o),h=r.runWebGLProgram(d,[l],"int32",[[c]]);return u||r.disposeIntermediateTensorInfo(l),h}var u={kernelName:o.Multinomial,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../multinomial_gpu":"dMmzN","./Softmax":"eFxHZ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dMmzN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MultinomialProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,n],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n\n float r = random(seed);\n float cdf = 0.0;\n\n for (int i = 0; i < ".concat(r-1,"; i++) {\n cdf += getProbs(batch, i);\n\n if (r < cdf) {\n setOutput(float(i));\n return;\n }\n }\n\n // If no other event happened, last event happened.\n setOutput(float(").concat(r-1,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eFxHZ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return f}),a.export(r,"softmaxConfig",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("./Exp"),i=e("./Max"),c=e("./RealDiv"),u=e("./Reshape"),l=e("./Sub"),p=e("./Sum");function f(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,f=n.dim,d=o.util.parseAxisParam([f],a.shape),h=(0,i.max)({inputs:{x:a},backend:r,attrs:{reductionIndices:d,keepDims:!1}}),m=o.backend_util.expandShapeToKeepDim(h.shape,d),g=(0,u.reshape)({inputs:{x:h},backend:r,attrs:{shape:m}}),v=(0,l.sub)({inputs:{a:a,b:g},backend:r}),_=(0,s.exp)({inputs:{x:v},backend:r}),x=(0,p.sum)({inputs:{x:_},backend:r,attrs:{axis:d,keepDims:!1}}),y=(0,u.reshape)({inputs:{x:x},backend:r,attrs:{shape:m}}),b=(0,c.realDiv)({inputs:{a:_,b:y},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),b}var d={kernelName:o.Softmax,backendName:"webgl",kernelFunc:f}},{"@tensorflow/tfjs-core":"1q0U8","./Exp":"80uRM","./Max":"593f8","./RealDiv":"irRL7","./Reshape":"cAHWq","./Sub":"02oce","./Sum":"kF9Yv","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],irRL7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"realDiv",function(){return s}),a.export(r,"realDivConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").binaryKernelFunc)({opSnippet:"\nif (a == b) {\n return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n // vec4 one = vec4(equal(a, b));\n // return one + (vec4(1.0) - one) * a / b;\n vec4 result = a / b;\n if(a.x == b.x) {\n result.x = 1.;\n }\n if(a.y == b.y) {\n result.y = 1.;\n }\n if(a.z == b.z) {\n result.z = 1.;\n }\n if(a.w == b.w) {\n result.w = 1.;\n }\n\n return result;\n",checkOutOfBounds:!0}),i={kernelName:o.RealDiv,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"02oce":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sub",function(){return u}),a.export(r,"subConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return a - b;",u=(0,s.binaryKernelFunc)({opSnippet:c,packedOpSnippet:c,supportsComplex:!0,cpuKernelImpl:i.subImplCPU}),l={kernelName:o.Sub,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"21GsJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"neg",function(){return p}),a.export(r,"negConfig",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../unaryop_gpu"),u=e("../unaryop_packed_gpu"),l=c.CHECK_NAN_SNIPPET+"\n return -x;\n";function p(e){var t,r=e.inputs,n=e.backend,a=r.x;if(n.shouldExecuteOnCPU([a])){var p=n.texData.get(a.dataId),f=(0,o._)((0,i.negImplCPU)(p.values,a.shape,a.dtype),2),d=f[0],h=f[1];return n.makeTensorInfo(h,a.dtype,d)}return t=(0,s.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new(0,u.UnaryOpPackedProgram)(a.shape,"\n vec4 result = -x;\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"):new(0,c.UnaryOpProgram)(a.shape,l),n.runWebGLProgram(t,[a],a.dtype)}var f={kernelName:s.Neg,backendName:"webgl",kernelFunc:p}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../unaryop_gpu":"hFgLO","../unaryop_packed_gpu":"cy6tx","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hRMmf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3",function(){return i}),a.export(r,"nonMaxSuppressionV3Config",function(){return c});var o=e("@tensorflow/tfjs-core"),s=o.kernel_impls.nonMaxSuppressionV3Impl;function i(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=s(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l).selectedIndices;return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}var c={kernelName:o.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kdms8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV4",function(){return i}),a.export(r,"nonMaxSuppressionV4Config",function(){return c});var o=e("@tensorflow/tfjs-core"),s=o.kernel_impls.nonMaxSuppressionV4Impl;function i(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.padToMaxOutputSize,f=s(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l,p),d=f.selectedIndices,h=f.validOutputs;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([],"int32",new Int32Array([h]))]}var c={kernelName:o.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hHp6i:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV5",function(){return i}),a.export(r,"nonMaxSuppressionV5Config",function(){return c});var o=e("@tensorflow/tfjs-core"),s=o.kernel_impls.nonMaxSuppressionV5Impl;function i(e){o.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,i=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.softNmsSigma,f=s(r.readSync(a.dataId),r.readSync(i.dataId),c,u,l,p),d=f.selectedIndices,h=f.selectedScores;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([h.length],"float32",new Float32Array(h))]}var c={kernelName:o.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b67XM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return u}),a.export(r,"oneHotConfig",function(){return l});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../onehot_gpu"),c=e("./Reshape"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,u=n.dtype,l=n.depth,p=n.onValue,f=n.offValue,d=s.util.sizeFromShape(a.shape),h=new(0,i.OneHotProgram)(d,l,p,f),m=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[d]}}),g=r.runWebGLProgram(h,[m],u);r.disposeIntermediateTensorInfo(m);var v=(0,o._)(a.shape).concat([l]),_=(0,c.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(g),_},l={kernelName:s.OneHot,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../onehot_gpu":"cM5TU","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cM5TU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OneHotProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n,a){"use strict";(0,o._)(this,e),this.variableNames=["indices"],this.outputShape=[t,r],this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int index = round(getIndices(coords.x));\n setOutput(mix(float(".concat(a,"), float(").concat(n,"),\n float(index == coords.y)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eLfQb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return p}),a.export(r,"onesLikeConfig",function(){return f});var o=e("@tensorflow/tfjs-core"),s=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real"),l=e("./ZerosLike");function p(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("onesLike is not supported under string dtype");if("complex64"!==n.dtype)return(0,i.fill)({attrs:{shape:n.shape,dtype:n.dtype,value:1},backend:r});var a=(0,u.real)({inputs:{input:n},backend:r}),o=p({inputs:{x:a},backend:r}),f=(0,c.imag)({inputs:{input:n},backend:r}),d=(0,l.zerosLike)({inputs:{x:f},backend:r}),h=(0,s.complex)({inputs:{real:o,imag:d},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(d),h}var f={kernelName:o.OnesLike,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"1q0U8","./Complex":"6pb3b","./Fill":"800YS","./Imag":"k9FbU","./Real":"irEai","./ZerosLike":"70I5M","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"70I5M":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return l}),a.export(r,"zerosLikeConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real");function l(e){var t=e.inputs,r=e.backend,n=t.x;if("complex64"!==n.dtype)return(0,i.fill)({attrs:{shape:n.shape,dtype:n.dtype,value:"string"===n.dtype?"":0},backend:r});var a=(0,u.real)({inputs:{input:n},backend:r}),o=l({inputs:{x:a},backend:r}),p=(0,c.imag)({inputs:{input:n},backend:r}),f=l({inputs:{x:p},backend:r}),d=(0,s.complex)({inputs:{real:o,imag:f},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),d}var p={kernelName:o.ZerosLike,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","./Complex":"6pb3b","./Fill":"800YS","./Imag":"k9FbU","./Real":"irEai","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ls8eX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pack",function(){return c}),a.export(r,"packConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./Concat"),i=e("./ExpandDims");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis;if(1===t.length)return(0,i.expandDims)({inputs:{input:t[0]},backend:r,attrs:{dim:n}});var a=t[0].shape,c=t[0].dtype;t.forEach(function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(c===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var u=[],l=t.map(function(e){var t=(0,i.expandDims)({inputs:{input:e},backend:r,attrs:{dim:n}});return u.push(t),t}),p=(0,s.concat)({inputs:l,backend:r,attrs:{axis:n}});return u.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),p}var u={kernelName:o.Pack,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","./Concat":"2LbZ9","./ExpandDims":"hmw67","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Vv1o":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"padV2",function(){return u}),a.export(r,"padV2Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../pad_gpu"),i=e("../pad_packed_gpu"),c=e("./Fill"),u=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.paddings,l=n.constantValue;if(0===o.util.sizeFromShape(a.shape)){var p=u.map(function(e,t){return e[0]+a.shape[t]+e[1]});return(0,c.fill)({backend:r,attrs:{shape:p,value:l,dtype:a.dtype}})}var f=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.PadPackedProgram)(a.shape,u,l):new(0,s.PadProgram)(a.shape,u,l),d=[[l]];return r.runWebGLProgram(f,[a],a.dtype,d)},l={kernelName:o.PadV2,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../pad_gpu":"hjO7P","../pad_packed_gpu":"8dNPW","./Fill":"800YS","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hjO7P:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PadProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});var a=t.length,i=(0,s.getCoordsDataType)(a),c=r.map(function(e){return e[0]}).join(","),u=r.map(function(e,r){return e[0]+t[r]}).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(1===a){this.userCode="\n int start = ".concat(c,";\n int end = ").concat(u,";\n\n void main() {\n int outC = getOutputCoords();\n if (outC < start || outC >= end) {\n setOutput(value);\n } else {\n setOutput(getX(outC - start));\n }\n }\n ");return}this.userCode="\n ".concat(i," start = ").concat(i,"(").concat(c,");\n ").concat(i," end = ").concat(i,"(").concat(u,");\n\n void main() {\n ").concat(i," outC = getOutputCoords();\n if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n setOutput(value);\n } else {\n ").concat(i," coords = outC - start;\n setOutput(getX(").concat(l,"));\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8dNPW":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"PadPackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=r.map(function(e,r){return e[0]+t[r]+e[1]});for(var a=t.length,c=(0,i.getCoordsDataType)(a),u=r.map(function(e){return e[0]}).join(","),l=r.map(function(e,r){return e[0]+t[r]}).join(","),p=(0,s.getChannels)("rc",a),f=(0,s.getChannels)("source",a),d="".concat(p[a-1],"< ").concat(this.outputShape[a-1]),h=1===a?"source":"vec2(".concat(f.slice(-2).join(),")"),m=["".concat(c," rc = outputLoc;"),"".concat(p[a-1]," += 1;\n if(").concat(d,") {\n "),1===a?"":"}\n rc = outputLoc;\n ".concat(p[a-2]," += 1;\n if(").concat(p[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":" ".concat(p[a-1]," += 1;\n if(").concat(d,") {")],g=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",_=0,x=1===a?2:4;_<x;_++)v+="\n ".concat(m[_],"\n if (").concat(g,") {\n result[").concat(_,"] = float(value);\n } else {\n ").concat(c," source = rc - start;\n result[").concat(_,"] = getChannel(getX(").concat(f.join(),"), ").concat(h,");\n }\n ");v+=1===a?"} ":"}}",this.userCode="\n const ".concat(c," start = ").concat(c,"(").concat(u,");\n const ").concat(c," end = ").concat(c,"(").concat(l,");\n\n void main() {\n ").concat(c," outputLoc = getOutputCoords();\n vec4 result = vec4(0.);\n ").concat(v,"\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fB8t4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pow",function(){return u}),a.export(r,"powConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c="\n // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n vec4 result = multiplier * pow(abs(a), b);\n\n // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n bvec4 isExpZero = equal(b, vec4(0.0));\n result.r = isExpZero.r ? 1.0 : result.r;\n result.g = isExpZero.g ? 1.0 : result.g;\n result.b = isExpZero.b ? 1.0 : result.b;\n result.a = isExpZero.a ? 1.0 : result.a;\n\n bvec4 isNaN1 = lessThan(a, vec4(0.0));\n bvec4 isNaN2 = lessThan(floor(b), b);\n bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n "+s.CHECK_NAN_SNIPPET_PACKED+"\n return result;\n",u=(0,i.binaryKernelFunc)({opSnippet:"\n if(a < 0.0 && floor(b) < b){\n return NAN;\n }\n if (b == 0.0) {\n return 1.0;\n }\n return (round(mod(b, 2.0)) != 1) ?\n pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:c}),l={kernelName:o.Pow,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9b4zg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prod",function(){return p}),a.export(r,"prodConfig",function(){return f});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/reduce"),c=e("../kernel_utils/shared"),u=e("./Reshape"),l=e("./Transpose");function p(e){var t,r=e.inputs,n=e.backend,a=e.attrs,p=r.x,f=a.axis,d=a.keepDims,h=p.shape.length,m=[],g=s.util.parseAxisParam(f,p.shape),v=g,_=s.backend_util.getAxesPermutation(v,h),x=p;if(null!=_&&(x=(0,l.transpose)({inputs:{x:p},backend:n,attrs:{perm:_}}),v=s.backend_util.getInnerMostAxes(v.length,h),m.push(x)),s.backend_util.assertAxesAreInnerMostDims("prod",v,h),n.shouldExecuteOnCPU([x])){var y=n.texData.get(x.dataId).values,b=(0,c.prodImplCPU)(x.shape,x.dtype,y,v),k=b.outVals,j=b.outShape,w=b.outDtype;t=n.makeTensorInfo(j,w,k)}else{var S=(0,o._)(s.backend_util.computeOutAndReduceShapes(x.shape,v),2),I=S[0],T=S[1],N=s.util.sizeFromShape(T),C=(0,u.reshape)({inputs:{x:x},backend:n,attrs:{shape:[-1,N]}}),E=(0,s.sumOutType)(p.dtype),F=(0,i.reduce)(C,E,"prod",n);t=(0,u.reshape)({inputs:{x:F},backend:n,attrs:{shape:I}}),m.push(C),m.push(F)}if(d){m.push(t);var A=s.backend_util.expandShapeToKeepDim(t.shape,g);t=(0,u.reshape)({inputs:{x:t},backend:n,attrs:{shape:A}})}return m.forEach(function(e){return n.disposeIntermediateTensorInfo(e)}),t}var f={kernelName:s.Prod,backendName:"webgl",kernelFunc:p}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/reduce":"4d4Ng","../kernel_utils/shared":"5N8x3","./Reshape":"cAHWq","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eQnM6:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c}),a.export(r,"raggedGatherConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.paramsNestedSplits,s=t.paramsDenseValues,c=t.indices,u=n.outputRaggedRank,l=a.map(function(e){return r.readSync(e.dataId)}),p=a.map(function(e){return e.shape}),f=r.readSync(s.dataId),d=r.readSync(c.dataId),h=(0,o._)((0,i.raggedGatherImplCPU)(l,p,f,s.shape,s.dtype,d,c.shape,u),3),m=h[0],g=h[1],v=h[2],_=m.map(function(e){return r.makeTensorInfo([e.length],"int32",e)}),x=r.makeTensorInfo(v,s.dtype,g);return _.concat([x])}var u={kernelName:s.RaggedGather,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lRkUG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c}),a.export(r,"raggedRangeConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.starts,a=t.limits,s=t.deltas,c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(s.dataId),p=(0,o._)((0,i.raggedRangeImplCPU)(c,n.shape,n.dtype,u,a.shape,l,s.shape),2),f=p[0],d=p[1];return[r.makeTensorInfo([f.length],"int32",f),r.makeTensorInfo([d.length],n.dtype,d)]}var u={kernelName:s.RaggedRange,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5C8Gy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c}),a.export(r,"raggedTensorToTensorConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.shape,s=t.values,c=t.defaultValue,u=t.rowPartitionTensors,l=n.rowPartitionTypes,p=r.readSync(a.dataId),f=r.readSync(s.dataId),d=r.readSync(c.dataId),h=u.map(function(e){return r.readSync(e.dataId)}),m=u.map(function(e){return e.shape}),g=(0,o._)((0,i.raggedTensorToTensorImplCPU)(p,a.shape,f,s.shape,s.dtype,d,c.shape,h,m,l),2),v=g[0],_=g[1];return r.makeTensorInfo(v,s.dtype,_)}var u={kernelName:s.RaggedTensorToTensor,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8iOZv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i}),a.export(r,"rangeConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=function(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,o=r.step,i=r.dtype,c=(0,s.rangeImplCPU)(n,a,o,i);return t.makeTensorInfo([c.length],i,c)},c={kernelName:o.Range,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7iRim":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return s}),a.export(r,"reciprocalConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return 1.0 / x;"}),i={kernelName:o.Reciprocal,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3WemZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return c}),a.export(r,"reluConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return (x < 0.0) ? 0.0 : x;\n",c=(0,s.unaryKernelFunc)({opSnippet:i,packedOpSnippet:"\n vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"}),u={kernelName:o.Relu,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1SRtb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return c}),a.export(r,"relu6Config",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../unaryop_gpu").CHECK_NAN_SNIPPET+"\n return (x < 0.0) ? 0.0 : min(6.0, x);\n",c=(0,s.unaryKernelFunc)({opSnippet:i,packedOpSnippet:"\n vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n"}),u={kernelName:o.Relu6,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jZl2z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return u}),a.export(r,"resizeBilinearConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../resize_bilinear_gpu"),c=e("../resize_bilinear_packed_gpu");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,u=n.alignCorners,l=n.halfPixelCenters,p=n.size,f=(0,o._)(p,2),d=f[0],h=f[1],m=(0,s.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new(0,c.ResizeBilinearPackedProgram)(a.shape,d,h,u,l):new(0,i.ResizeBilinearProgram)(a.shape,d,h,u,l);return r.runWebGLProgram(m,[a],"float32")}var l={kernelName:s.ResizeBilinear,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../resize_bilinear_gpu":"isvNy","../resize_bilinear_packed_gpu":"eZkIK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],isvNy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.outputShape=[];var c=(0,s._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec2 effectiveInputOverOutputRatioRC = vec2(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],");\n const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(p,".0);\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n ivec2 yRC = coords.yz;\n\n // Fractional source index.\n vec2 sourceFracIndexRC = ").concat(i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the four integer indices.\n ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n ivec2 sourceCeilRC = ivec2(\n min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n float top = topLeft + (topRight - topLeft) * fracRC.y;\n float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n float newValue = top + (bottom - top) * fracRC.x;\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eZkIK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=(0,s._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec3 effectiveInputOverOutputRatioRC = vec3(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],",\n ").concat(d[1]/h[1],");\n const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(p,".0,\n ").concat(p,".0);\n\n float getAValue(int b, int r, int c, int d) {\n return getChannel(getA(b, r, c, d), vec2(c, d));\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n // Calculate values for next column in yRC.z.\n ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n // Fractional source index.\n vec3 sourceFracIndexRC = ").concat(i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the four integer indices.\n ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n ivec3 sourceCeilRC = ivec3(\n min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n // Should we calculate next column and row elements in 2x2 packed cell.\n bool hasNextCol = d< ").concat(f-1,";\n bool hasNextRow = coords.z < ").concat(n-1,";\n\n // In parallel, construct four corners for all four components in\n // packed 2x2 cell.\n vec4 topLeft = vec4(\n getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n vec4 bottomLeft = vec4(\n getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n vec4 topRight = vec4(\n getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n vec4 bottomRight = vec4(\n getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n vec4 newValue = mix(top, bottom, fracRC.x);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6u747":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinearGrad",function(){return i}),a.export(r,"resizeBilinearGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../resize_bilinear_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,o=t.dy,i=n.alignCorners,c=new(0,s.ResizeBilinearBackpropProgram)(o.shape,a.shape,i);return r.runWebGLProgram(c,[o],o.dtype)}var c={kernelName:o.ResizeBilinearGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../resize_bilinear_backprop_gpu":"i2uR9","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i2uR9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeBilinearBackpropProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=r;var a=(0,s._)(r,3),i=a[1],c=a[2],u=(0,s._)(t,3),l=u[1],p=u[2],f=[n&&l>1?i-1:i,n&&p>1?c-1:c],d=[n&&l>1?l-1:l,n&&p>1?p-1:p],h=f[0]/d[0],m=f[1]/d[1],g=1/h,v=1/m,_=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n int r = coords[1];\n int c = coords[2];\n\n float accumulator = 0.0;\n\n const float heightScale = float(".concat(h,");\n const float widthScale = float(").concat(m,");\n\n const float invHeightScale = float(").concat(g,");\n const float invWidthScale = float(").concat(v,");\n\n const int winHeight = int(").concat(_,");\n const int winWidth = int(").concat(x,");\n\n // Compute bounds for where in dy we will look\n float startRLerp = floor(float(r) * invHeightScale);\n int startDyR = int(startRLerp - float(winHeight / 2));\n\n float startCLerp = floor(float(c) * invWidthScale);\n int startDyC = int(startCLerp - float(winWidth / 2));\n\n // Loop over dy\n for (int dyROffset = 0; dyROffset< winHeight; dyROffset++) {\n int dyR = dyROffset + startDyR;\n\n // Guard against the window exceeding the bounds of dy\n if (dyR < 0 || dyR >= ").concat(l,") {\n continue;\n }\n\n for (int dyCOffset = 0; dyCOffset< winWidth; dyCOffset++) {\n int dyC = dyCOffset + startDyC;\n\n // Guard against the window exceeding the bounds of dy\n if (dyC < 0 || dyC >= ").concat(p,") {\n continue;\n }\n\n float dxR = float(dyR) * heightScale;\n int topDxRIndex = int(floor(dxR));\n int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n float dxRLerp = dxR - float(topDxRIndex);\n float inverseDxRLerp = 1.0 - dxRLerp;\n\n float dxC = float(dyC) * widthScale;\n int leftDxCIndex = int(floor(dxC));\n int rightDxCIndex = int(min(ceil(dxC), ").concat(c-1,".0));\n float dxCLerp = dxC - float(leftDxCIndex);\n float inverseDxCLerp = 1.0 - dxCLerp;\n\n if (r == topDxRIndex && c == leftDxCIndex) {\n // topLeft\n accumulator +=\n getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n }\n\n if (r == topDxRIndex && c == rightDxCIndex) {\n // topRight\n accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n }\n\n if (r == bottomDxRIndex && c == leftDxCIndex) {\n // bottomLeft\n accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n }\n\n if (r == bottomDxRIndex && c == rightDxCIndex) {\n // bottomRight\n accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n }\n }\n }\n // End loop over dy\n\n setOutput(accumulator);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9CFfX":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return u}),a.export(r,"resizeNearestNeighborConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../resize_nearest_neighbor_gpu"),c=e("../resize_nearest_neighbor_packed_gpu");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,u=n.alignCorners,l=n.halfPixelCenters,p=n.size,f=(0,o._)(p,2),d=f[0],h=f[1],m=(0,s.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new(0,c.ResizeNearestNeighborPackedProgram)(a.shape,d,h,u,l):new(0,i.ResizeNearestNeighborProgram)(a.shape,d,h,u,l);return r.runWebGLProgram(m,[a],a.dtype)}var l={kernelName:s.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../resize_nearest_neighbor_gpu":"8tgGi","../resize_nearest_neighbor_packed_gpu":"dQ9Py","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8tgGi":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeighborProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.outputShape=[];var c=(0,s._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec2 effectiveInputOverOutputRatioRC = vec2(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],");\n const vec2 inputShapeRC = vec2(").concat(l,".0, ").concat(p,".0);\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n ivec2 yRC = coords.yz;\n\n // Fractional source index.\n vec2 sourceFracIndexRC = ").concat(i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the coordinators of nearest neighbor point.\n ivec2 sourceNearestRC = ivec2(\n min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(a?"0.5":"0.0",")));\n float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dQ9Py:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeighborPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n,a,i){"use strict";(0,o._)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var c=(0,s._)(t,4),u=c[0],l=c[1],p=c[2],f=c[3];this.outputShape=[u,r,n,f];var d=[a&&r>1?l-1:l,a&&n>1?p-1:p],h=[a&&r>1?r-1:r,a&&n>1?n-1:n];this.userCode="\n const vec3 effectiveInputOverOutputRatioRC = vec3(\n ".concat(d[0]/h[0],",\n ").concat(d[1]/h[1],",\n ").concat(d[1]/h[1],");\n const vec3 inputShapeRC = vec3(").concat(l,".0, ").concat(p,".0,\n ").concat(p,".0);\n\n float getAValue(int b, int r, int c, int d) {\n return getChannel(getA(b, r, c, d), vec2(c, d));\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n // Calculate values for next column in yRC.z.\n ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n // Fractional source index.\n vec3 sourceFracIndexRC = ").concat(i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",";\n\n // Compute the coordinators of nearest neighbor point.\n ivec3 sourceNearestRC = ivec3(\n min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(a?"0.5":"0.0",")));\n\n // Should we calculate next column and row elements in 2x2 packed cell.\n bool hasNextCol = d< ").concat(f-1,";\n bool hasNextRow = coords.z < ").concat(n-1,";\n\n vec4 newValue = vec4(\n getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n : 0.0,\n hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n : 0.0,\n (hasNextRow && hasNextCol) ?\n getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n setOutput(newValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jq7IT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighborGrad",function(){return i}),a.export(r,"resizeNearestNeighborGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../resize_nearest_neighbor_backprop_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,o=t.dy,i=n.alignCorners,c=new(0,s.ResizeNearestNeigborBackpropProgram)(o.shape,a.shape,i);return r.runWebGLProgram(c,[o],o.dtype)}var c={kernelName:o.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../resize_nearest_neighbor_backprop_gpu":"fXpNL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fXpNL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResizeNearestNeigborBackpropProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_sliced_to_array.cjs"),i=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=r;var a=(0,s._)(r,3),i=a[1],c=a[2],u=(0,s._)(t,3),l=u[1],p=u[2],f=[n&&l>1?i-1:i,n&&p>1?c-1:c],d=[n&&l>1?l-1:l,n&&p>1?p-1:p],h=f[0]/d[0],m=f[1]/d[1],g=1/h,v=1/m,_=2*Math.ceil(g)+2,x=2*Math.ceil(v)+2;this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int b = coords[0];\n int d = coords[3];\n int r = coords[1];\n int c = coords[2];\n\n float accumulator = 0.0;\n\n const float heightScale = float(".concat(h,");\n const float widthScale = float(").concat(m,");\n\n const float invHeightScale = float(").concat(g,");\n const float invWidthScale = float(").concat(v,");\n\n const int winHeight = int(").concat(_,");\n const int winWidth = int(").concat(x,");\n\n // Compute bounds for where in dy we will look\n float startRLerp = floor(float(r) * invHeightScale);\n int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n float startCLerp = floor(float(c) * invWidthScale);\n int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n // Loop over dy\n for (int dyROffset = 0; dyROffset< winHeight; dyROffset++) {\n int dyR = dyROffset + startDyR;\n\n // Guard against the window exceeding the bounds of dy\n if (dyR < 0 || dyR >= ").concat(l,") {\n continue;\n }\n\n for (int dyCOffset = 0; dyCOffset< winWidth; dyCOffset++) {\n int dyC = dyCOffset + startDyC;\n\n // Guard against the window exceeding the bounds of dy\n if (dyC < 0 || dyC >= ").concat(p,") {\n continue;\n }\n\n float sourceFracRow =\n float(").concat(f[0],") *\n (float(dyR) / float(").concat(d[0],"));\n\n float sourceFracCol =\n float(").concat(f[1],") *\n (float(dyC) / float(").concat(d[1],"));\n\n int sourceNearestRow = int(min(\n float(int(").concat(i,") - 1),\n ").concat(n," ? float(round(sourceFracRow)) :\n float(floor(sourceFracRow))));\n\n int sourceNearestCol = int(min(\n float(int(").concat(c,") - 1),\n ").concat(n," ? float(round(sourceFracCol)) :\n float(floor(sourceFracCol))));\n\n if (r == sourceNearestRow && c == sourceNearestCol) {\n accumulator += getDy(b, dyR, dyC, d);\n }\n }\n }\n // End loop over dy\n\n setOutput(accumulator);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],a00pD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return u}),a.export(r,"reverseConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../reverse_gpu"),i=e("../reverse_packed_gpu"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.dims,l=a.shape.length,p=o.util.parseAxisParam(u,a.shape);if(0===l)return(0,c.identity)({inputs:{x:a},backend:r});var f=(0,o.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new(0,i.ReversePackedProgram)(a.shape,p):new(0,s.ReverseProgram)(a.shape,p);return r.runWebGLProgram(f,[a],a.dtype)}var l={kernelName:o.Reverse,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../reverse_gpu":"aLLOx","../reverse_packed_gpu":"8eQXV","./Identity":"80zaJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aLLOx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReverseProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["x"];var n=t.length;if(n>4)throw Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=t,1===n){this.userCode="\n void main() {\n int coord = getOutputCoords();\n setOutput(getX(".concat(t[0]," - coord - 1));\n }\n ");return}var a=t.map(function(e,n){return -1!==r.indexOf(n)&&1!==t[n]?"".concat(t[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]")}).join(","),i=(0,s.getCoordsDataType)(n);this.userCode="\n void main() {\n ".concat(i," coords = getOutputCoords();\n setOutput(getX(").concat(a,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8eQXV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ReversePackedProgram",function(){return c});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./packing_util"),i=e("./shader_compiler"),c=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n,a,c,u=t.length;if(u>4)throw Error("WebGL backend: Reverse of rank-".concat(u," tensor is not yet supported"));this.outputShape=t;var l=(0,s.getChannels)("rc",u),p="".concat(l[u-1]," + 1< ").concat(this.outputShape[u-1]),f="".concat(l[u-2]," + 1 < ").concat(this.outputShape[u-2]),d=(0,i.getCoordsDataType)(u);function h(e){var n=t.map(function(n,a){var o,s;return o=a,s=e,-1!==r.indexOf(o)&&1!==t[o]?"".concat(t[o]," - ").concat(s[o]," - 1"):"".concat(s[o])}),a=n.join(","),o=n.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(o,"))")}1===u?this.userCode="\n void main(){\n int rc = getOutputCoords();\n vec4 result = vec4(0.);\n result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n ").concat(t[0]," - rc - 1);\n if(").concat(p,"){\n result.g = getChannel(getX(").concat(t[0]," - (rc + 1) - 1),\n ").concat(t[0]," - (rc + 1) - 1);\n }\n setOutput(result);\n }\n "):this.userCode="\n void main() {\n ".concat(d," rc = getOutputCoords();\n vec4 result = vec4(0.);\n result.r = ").concat(h(l.slice()),";\n if(").concat(p,"){\n result.g = ").concat(((n=l.slice())[u-1]="("+n[u-1]+" + 1)",h(n)),";\n }\n if(").concat(f,") {\n result.b = ").concat(((a=l.slice())[u-2]="("+a[u-2]+" + 1)",h(a)),";\n if(").concat(p,") {\n result.a = ").concat(((c=l.slice())[u-1]="("+c[u-1]+" + 1)",c[u-2]="("+c[u-2]+" + 1)",h(c)),";\n }\n }\n setOutput(result);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./packing_util":"bMPYa","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hIHvA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffsetConfig",function(){return c});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../rotate_gpu"),c={kernelName:s.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,c=r.radians,u=r.fillValue,l=r.center,p=new(0,i.RotateProgram)(a.shape,u),f=(0,o._)(s.backend_util.getImageCenter(l,a.shape[1],a.shape[2]),2),d=[[f[0],f[1],Math.sin(c),Math.cos(c)]];return n.runWebGLProgram(p,[a],a.dtype,d)}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../rotate_gpu":"1YQ0p","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1YQ0p":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"RotateProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var n=t[1],a=t[2];this.outputShape=t;var s="";s="number"==typeof r?"float outputValue = ".concat(r.toFixed(2),";"):"\n vec3 fill = vec3(".concat(r.join(","),");\n float outputValue = fill[coords[3]];"),this.userCode="\n void main() {\n ivec4 coords = getOutputCoords();\n int x = coords[2];\n int y = coords[1];\n float coordXFloat = (float(x) - params[0]) * params[3] -\n (float(y) - params[1]) * params[2];\n float coordYFloat = (float(x) - params[0]) * params[2] +\n (float(y) - params[1]) * params[3];\n int coordX = int(round(coordXFloat + params[0]));\n int coordY = int(round(coordYFloat + params[1]));\n ".concat(s,"\n if(coordX >= 0 && coordX< ").concat(a," && coordY >= 0 && coordY< ").concat(n,") {\n outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8gNq4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return s}),a.export(r,"roundConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n // OpenGL ES does not support round function.\n // The algorithm is based on banker's rounding.\n float base = floor(x);\n if ((x - base) < 0.5) {\n return floor(x);\n } else if ((x - base) >0.5) {\n return ceil(x);\n } else {\n if (mod(base, 2.0) == 0.0) {\n return base;\n } else {\n return base + 1.0;\n }\n }\n"}),i={kernelName:o.Round,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iUqlP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rsqrt",function(){return c}),a.export(r,"rsqrtConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=(0,s.unaryKernelFunc)({opSnippet:"return inversesqrt(x);",cpuKernelImpl:i.rsqrtImplCPU}),u={kernelName:o.Rsqrt,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f17nG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterNd",function(){return u}),a.export(r,"scatterNdConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../scatter_gpu"),i=e("../scatter_packed_gpu"),c=e("./Reshape");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.indices,l=r.updates,p=a.shape,f=o.backend_util.calculateShapes(l,u,p),d=f.sliceRank,h=f.numUpdates,m=f.sliceSize,g=f.strides,v=f.outputSize,_=[v/m,m];if(0===v)return n.makeTensorInfo(p,u.dtype);var x=(0,c.reshape)({inputs:{x:u},backend:n,attrs:{shape:[h,d]}}),y=(0,c.reshape)({inputs:{x:l},backend:n,attrs:{shape:[h,m]}}),b=n.makeTensorInfo([],"float32",new Float32Array([0]));t=(0,o.env)().getBool("WEBGL_PACK")?new(0,i.ScatterPackedProgram)(h,d,x.shape.length,y.shape.length,g,_):new(0,s.ScatterProgram)(h,d,x.shape.length,y.shape.length,g,_);var k=n.runWebGLProgram(t,[y,x,b],y.dtype),j=(0,c.reshape)({inputs:{x:k},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(b),j}var l={kernelName:o.ScatterNd,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../scatter_gpu":"1gMof","../scatter_packed_gpu":"4fCp3","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1gMof":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ScatterProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n,a,i,c){"use strict";arguments.length>6&&void 0!==arguments[6]&&arguments[6];var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,o._)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;var l=(0,s.getCoordsDataType)(i.length),p=(0,s.getCoordsDataType)(c.length),f="";1===n?f="i":2===n&&(f="i, j");var d="getIndices(".concat(f,")"),h="";1===a?h="i":2===a&&(h="i, coords[1]");var m="getUpdates(".concat(h,")"),g="";u&&(g="coords[0], coords[1]");var v="getDefaultValue(".concat(g,")");this.userCode="\n ".concat(l," strides = ").concat(l,"(").concat(i,");\n\n void main() {\n ").concat(p," coords = getOutputCoords();\n float sum = 0.0;\n bool found = false;\n for (int i = 0; i< ").concat(t,"; i++) {\n int flattenedIndex = 0;\n for (int j = 0; j < ").concat(r,"; j++) {\n int index = round(").concat(d,");\n flattenedIndex += index * ").concat(r>1?"strides[j]":"strides",";\n }\n if (flattenedIndex == coords[0]) {\n sum += ").concat(m,";\n found = true;\n }\n }\n setOutput(mix(").concat(v,", sum, float(found)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4fCp3":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ScatterPackedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n,a,i,c){"use strict";arguments.length>6&&void 0!==arguments[6]&&arguments[6];var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];(0,o._)(this,e),this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c;var l=(0,s.getCoordsDataType)(i.length),p=(0,s.getCoordsDataType)(c.length),f="";1===n?f="i":2===n&&(f="i, j");var d="getIndices(".concat(f,")"),h="";1===a?h="i":2===a&&(h="i, coords[1]");var m="getUpdates(".concat(h,")"),g="";u&&(g="coords[0], coords[1]");var v="getDefaultValue(".concat(g,")"),_=r>1?"strides[j]":"strides",x=r>1?"strides[j + 1]":"strides";this.userCode="\n ".concat(l," strides = ").concat(l,"(").concat(i,");\n\n void main() {\n ").concat(p," coords = getOutputCoords();\n vec4 sum = vec4(0.);\n vec4 found = vec4(0.);\n for (int i = 0; i< ").concat(t,"; i+=2) {\n ivec2 flattenedIndex = ivec2(0);\n for (int j = 0; j < ").concat(r,"; j+=2) {\n ivec4 index = round(").concat(d,");\n flattenedIndex += index.xz * ").concat(_,";\n if (j + 1 < ").concat(r,") {\n flattenedIndex += index.yw * ").concat(x,";\n }\n }\n if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n vec4 updVals = ").concat(m,";\n if (flattenedIndex[0] == coords[0]) {\n sum.xy += updVals.xy;\n found.xy = vec2(1.);\n } else if (flattenedIndex[0] == coords[0] + 1) {\n sum.zw += updVals.xy;\n found.zw = vec2(1.);\n }\n if (flattenedIndex[1] == coords[0]) {\n sum.xy += updVals.zw;\n found.xy = vec2(1.);\n } else if (flattenedIndex[1] == coords[0] + 1) {\n sum.zw += updVals.zw;\n found.zw = vec2(1.);\n }\n }\n }\n setOutput(mix(").concat(v,", sum, found));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cmRaU:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return i}),a.export(r,"searchSortedConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../search_sorted_gpu");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sortedSequence,o=t.values,i=n.side,c=new(0,s.SearchSortedProgram)(a.shape[0],a.shape[1],o.shape[1],i),u=[[a.shape[1]]];return r.runWebGLProgram(c,[a,o],"int32",u)}var c={kernelName:o.SearchSorted,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../search_sorted_gpu":"hRkOf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hRkOf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SearchSortedProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@tensorflow/tfjs-core"),i=function e(t,r,n,a){"use strict";(0,o._)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,n];var i="for (int i = 0; i < ".concat(Math.ceil(Math.log2(r+1)),"; ++i) { if (left >= right) break;"),c=2===(0,s.env)().getNumber("WEBGL_VERSION")?"while (left< right) {":i;this.userCode="\n int findBound(int batch, float value) {\n int left = 0;\n int right = numInputs;\n int mid;\n ".concat(c,"\n mid = (left + right) / 2;\n if (getSortedSequence(batch, mid) ").concat("left"===a?"<":"<="," value) {\n left = mid + 1;\n } else {\n right = mid;\n }\n }\n return right;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int valueIndex = coords[1];\n\n float value = getValues(batch, valueIndex);\n\n setOutput(float(findBound(batch, value)));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fUsXY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"select",function(){return i}),a.export(r,"selectConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../select_gpu");function i(e){var t=e.inputs,r=e.backend,n=t.condition,a=t.t,i=t.e,c=new(0,s.SelectProgram)(n.shape.length,a.shape,a.shape.length);return r.runWebGLProgram(c,[n,a,i],(0,o.upcastType)(a.dtype,i.dtype))}var c={kernelName:o.Select,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../select_gpu":"iI1kk","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iI1kk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SelectProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n){"use strict";if((0,o._)(this,e),this.variableNames=["c","a","b"],this.outputShape=r,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)i="resRC",a="resRC";else{for(var a,i,c=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],l=[],p=0;p<r.length;p++)l.push("".concat(c[p])),p<t&&u.push("".concat(c[p]));a=u.join(),i=l.join()}var f=(0,s.getCoordsDataType)(n);this.userCode="\n void main() {\n ".concat(f," resRC = getOutputCoords();\n float cVal = getC(").concat(a,");\n if (cVal >= 1.0) {\n setOutput(getA(").concat(i,"));\n } else {\n setOutput(getB(").concat(i,"));\n }\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1DY2a":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return c}),a.export(r,"seluConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i="\n // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n // see: https://arxiv.org/abs/1706.02515\n float scaleAlpha = ".concat(o.backend_util.SELU_SCALEALPHA,";\n float scale = ").concat(o.backend_util.SELU_SCALE,";\n return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n"),c=(0,s.unaryKernelFunc)({opSnippet:i}),u={kernelName:o.Selu,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bCpQq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sigmoid",function(){return u}),a.export(r,"sigmoidConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c=s.CHECK_NAN_SNIPPET_UNARY+"\n return 1.0 / (1.0 + exp(-1.0 * x));\n",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:"\n vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n bvec4 isNaN = isnan(x);\n\n result.r = isNaN.r ? x.r : result.r;\n result.g = isNaN.g ? x.g : result.g;\n result.b = isNaN.b ? x.b : result.b;\n result.a = isNaN.a ? x.a : result.a;\n\n return result;\n",cpuKernelImpl:i.sigmoidImplCPU}),l={kernelName:o.Sigmoid,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"743Ax":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return s}),a.export(r,"signConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n if (isnan(x)) { return 0.0; }\n return sign(x);\n"}),i={kernelName:o.Sign,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e3ym5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return l}),a.export(r,"sinConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../binaryop_packed_gpu"),i=e("../kernel_utils/kernel_funcs_utils"),c=i.CHECK_NAN_SNIPPET_UNARY+"\n return sin(x);\n",u="\n vec4 result = sin(x);\n bvec4 isNaN = isnan(x);\n ".concat(s.CHECK_NAN_SNIPPET_PACKED,"\n return result;\n"),l=(0,i.unaryKernelFunc)({opSnippet:c,packedOpSnippet:u}),p={kernelName:o.Sin,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../binaryop_packed_gpu":"jiUqE","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l3ZzA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return s}),a.export(r,"sinhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(x);\n return (e2x - 1.0 / e2x) / 2.0;\n"}),i={kernelName:o.Sinh,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"63Xkm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return s}),a.export(r,"softplusConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float epsilon = 1.1920928955078125e-7;\n float threshold = log(epsilon) + 2.0;\n\n bool too_large = x > -threshold;\n bool too_small = x< threshold;\n\n float result;\n float exp_x = exp(x);\n\n if (too_large){\n result = x;\n }\n else if (too_small){\n result = exp_x;\n }\n else{\n result = log(exp_x + 1.0);\n }\n return result;\n"}),i={kernelName:o.Softplus,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hIayL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return l}),a.export(r,"spaceToBatchNDConfig",function(){return p});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./PadV2"),c=e("./Reshape"),u=e("./Transpose"),l=function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.blockShape,p=n.paddings;s.util.assert(a.shape.length<=4,function(){return"spaceToBatchND for rank >4 with a WebGL backend not implemented yet"});var f=l.reduce(function(e,t){return e*t}),d=[[0,0]];d.push.apply(d,(0,o._)(p));for(var h=1+l.length;h<a.shape.length;++h)d.push([0,0]);var m=[],g=(0,i.padV2)({inputs:{x:a},backend:r,attrs:{paddings:d,constantValue:0}}),v=s.backend_util.getReshaped(g.shape,l,f,!1),_=s.backend_util.getPermuted(v.length,l.length,!1),x=s.backend_util.getReshapedPermuted(g.shape,l,f,!1),y=(0,c.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),b=(0,u.transpose)({inputs:{x:y},backend:r,attrs:{perm:_}}),k=(0,c.reshape)({inputs:{x:b},backend:r,attrs:{shape:x}});return m.push(g),m.push(y),m.push(b),m.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),k},p={kernelName:s.SpaceToBatchND,backendName:"webgl",kernelFunc:l}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./PadV2":"7Vv1o","./Reshape":"cAHWq","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dSKth:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c}),a.export(r,"sparseFillEmptyRowsConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.indices,a=t.values,s=t.denseShape,c=t.defaultValue;if(1!==s.shape.length)throw Error("Dense shape must be a vector, saw:\n ".concat(s.shape));if(2!==n.shape.length)throw Error("Indices must be a matrix, saw:\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Values must be a vector, saw:\n ".concat(a.shape));if(0!==c.shape.length)throw Error("Default value must be a scalar, saw:\n ".concat(c.shape));var u=r.readSync(n.dataId),l=r.readSync(a.dataId),p=r.readSync(s.dataId),f=r.readSync(c.dataId)[0],d=(0,o._)((0,i.sparseFillEmptyRowsImplCPU)(u,n.shape,n.dtype,l,a.dtype,p,f),5),h=d[0],m=d[1],g=d[2],v=d[3],_=d[4];return[r.makeTensorInfo(m,n.dtype,h),r.makeTensorInfo([m[0]],a.dtype,g),r.makeTensorInfo([v.length],"bool",new Uint8Array(v.map(function(e){return Number(e)}))),r.makeTensorInfo([_.length],n.dtype,new Int32Array(_))]}var u={kernelName:s.SparseFillEmptyRows,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3DWX1":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c}),a.export(r,"sparseReshapeConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.inputIndices,a=t.inputShape,s=t.newShape;if(2!==n.shape.length)throw Error("Input indices should be a matrix but received shape ".concat(n.shape));if(1!==a.shape.length)throw Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==s.shape.length)throw Error("Target shape should be a vector but received shape ".concat(s.shape));var c=Array.from(r.readSync(a.dataId)),u=r.readSync(n.dataId),l=Array.from(r.readSync(s.dataId)),p=(0,o._)((0,i.sparseReshapeImplCPU)(u,n.shape,n.dtype,c,l),3),f=p[0],d=p[1],h=p[2];return[r.makeTensorInfo(d,n.dtype,f),r.makeTensorInfo([h.length],s.dtype,new Int32Array(h))]}var u={kernelName:s.SparseReshape,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7TFSI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c}),a.export(r,"sparseSegmentMeanConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,s=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==s.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(s.shape));var c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(s.dataId),p=(0,o._)((0,i.sparseSegmentReductionImplCPU)(c,n.shape,n.dtype,u,l,!0),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:s.SparseSegmentMean,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bKLWg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c}),a.export(r,"sparseSegmentSumConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,s=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==s.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(s.shape));var c=r.readSync(n.dataId),u=r.readSync(a.dataId),l=r.readSync(s.dataId),p=(0,o._)((0,i.sparseSegmentReductionImplCPU)(c,n.shape,n.dtype,u,l),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:s.SparseSegmentSum,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"28ZDH":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return u}),a.export(r,"sparseToDenseConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../scatter_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sparseIndices,u=t.sparseValues,l=t.defaultValue,p=n.outputShape,f=o.backend_util.calculateShapes(u,a,p),d=f.sliceRank,h=f.numUpdates,m=f.sliceSize,g=f.strides,v=f.outputSize;if("string"===u.dtype){var _=r.bufferSync(a),x=r.bufferSync(u),y=o.util.decodeString(r.readSync(l.dataId)[0]),b=(0,s.scatterImplCPU)(_,x,p,v,m,h,d,g,y,!1);return r.makeTensorInfo(p,b.dtype,b.values)}var k=new(0,i.ScatterProgram)(h,d,a.shape.length,u.shape.length,g,[v,1],!1),j=r.runWebGLProgram(k,[u,a,l],u.dtype),w=(0,c.reshape)({inputs:{x:j},backend:r,attrs:{shape:p}});return r.disposeIntermediateTensorInfo(j),w}var l={kernelName:o.SparseToDense,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../scatter_gpu":"1gMof","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5tbaj":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"splitV",function(){return c}),a.export(r,"splitVConfig",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.numOrSizeSplits,u=n.axis,l=s.util.parseAxisParam(u,a.shape)[0],p=s.backend_util.prepareSplitSize(a,c,l),f=Array(a.shape.length).fill(0),d=a.shape.slice();return p.map(function(e){var t=(0,o._)(d);t[l]=e;var n=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:f,size:t}});return f[l]+=e,n})}var u={kernelName:s.SplitV,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./Slice":"l7vkL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l8mtN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sqrt",function(){return u}),a.export(r,"sqrtConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i=e("../kernel_utils/shared"),c="return sqrt(x);",u=(0,s.unaryKernelFunc)({opSnippet:c,packedOpSnippet:c,cpuKernelImpl:i.sqrtImplCPU}),l={kernelName:o.Sqrt,backendName:"webgl",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],he6PF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"square",function(){return s}),a.export(r,"squareConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return x * x;"}),i={kernelName:o.Square,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8O4ZC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squaredDifference",function(){return c}),a.export(r,"squaredDifferenceConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/kernel_funcs_utils"),i="return (a - b) * (a - b);",c=(0,s.binaryKernelFunc)({opSnippet:i,packedOpSnippet:i}),u={kernelName:o.SquaredDifference,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gbAv8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"staticRegexReplace",function(){return i}),a.export(r,"staticRegexReplaceConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x;if("string"!==a.dtype)throw Error("Input must be of datatype string");var i=r.readSync(a.dataId),c=o.backend_util.fromUint8ToStringArray(i),u=(0,s.staticRegexReplaceImplCPU)(c,"string",n);return r.makeTensorInfo(a.shape,"string",u)}var c={kernelName:o.StaticRegexReplace,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bEpei:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return i}),a.export(r,"stepConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../unaryop_gpu");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,o=s.CHECK_NAN_SNIPPET+"\n return x >0.0 ? 1.0 : float(".concat(r.alpha,");\n "),i=new(0,s.UnaryOpProgram)(a.shape,o);return n.runWebGLProgram(i,[a],a.dtype)}var c={kernelName:o.Step,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../unaryop_gpu":"hFgLO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hypoJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return l}),a.export(r,"stridedSliceConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../strided_slice_gpu"),c=e("./Reshape"),u=e("./Slice");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.begin,f=a.end,d=a.strides,h=a.beginMask,m=a.endMask,g=a.ellipsisMask,v=a.newAxisMask,_=a.shrinkAxisMask,x=o.slice_util.sliceInfo(l.shape,p,f,d,h,m,g,v,_),y=x.finalShapeSparse,b=x.finalShape,k=x.isIdentity,j=x.sliceDim0,w=x.isSimpleSlice,S=x.begin,I=x.end,T=x.strides;if(k)t=(0,c.reshape)({inputs:{x:l},backend:n,attrs:{shape:b}});else if(j||w){o.util.assert(l.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(l.shape.length)});var N=o.slice_util.computeOutShape(S,I,T),C=(0,u.slice)({inputs:{x:l},backend:n,attrs:{begin:S,size:N}});t=(0,c.reshape)({inputs:{x:C},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(C)}else if(n.shouldExecuteOnCPU([l])){var E=n.readSync(l.dataId),F=(0,o.buffer)(l.shape,l.dtype,E),A=(0,s.stridedSliceImplCPU)(y,F,T,S);t=n.makeTensorInfo(b,l.dtype,A.values)}else{var P=new(0,i.StridedSliceProgram)(S,T,y);t=n.runWebGLProgram(P,[l],l.dtype)}var R=(0,c.reshape)({inputs:{x:t},backend:n,attrs:{shape:b}});return n.disposeIntermediateTensorInfo(t),R}var p={kernelName:o.StridedSlice,backendName:"webgl",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../strided_slice_gpu":"6C1dY","./Reshape":"cAHWq","./Slice":"l7vkL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6C1dY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"StridedSliceProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r,n){"use strict";(0,o._)(this,e),this.variableNames=["x"],this.outputShape=n;var a=n.length,i=(0,s.getCoordsDataType)(n.length),c=(0,s.getCoordsDataType)(n.length),u="";if(1===a)u="coords * strides + begin";else{var l=0;u=n.map(function(e,t){return l++,1===n.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(l-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")}).join(",")}this.userCode="\n ".concat(i," begin = ").concat(i,"(").concat(t,");\n ").concat(i," strides = ").concat(i,"(").concat(r,");\n\n void main() {\n ").concat(c," coords = getOutputCoords();\n setOutput(getX(").concat(u,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ft95U:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c}),a.export(r,"stringNGramsConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=n.separator,s=n.nGramWidths,c=n.leftPad,u=n.rightPad,l=n.padWidth,p=n.preserveShortSequences,f=t.data,d=t.dataSplits,h=r.readSync(f.dataId),m=r.readSync(d.dataId),g=(0,o._)((0,i.stringNGramsImplCPU)(h,m,a,s,c,u,l,p),2),v=g[0],_=g[1];return[r.makeTensorInfo([v.length],"string",v),r.makeTensorInfo(d.shape,"int32",_)]}var u={kernelName:s.StringNGrams,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6taxb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c}),a.export(r,"stringSplitConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.skipEmpty,a=t.input,s=t.delimiter;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(1!==a.shape.length)throw Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==s.shape.length)throw Error("Delimiter must be a scalar, got shape: ".concat(s.shape));var c=r.readSync(a.dataId),u=r.readSync(s.dataId)[0],l=(0,o._)((0,i.stringSplitImplCPU)(c,u,n),3),p=l[0],f=l[1],d=l[2],h=f.length;return[r.makeTensorInfo([h,2],"int32",p),r.makeTensorInfo([h],"string",f),r.makeTensorInfo([2],"int32",new Int32Array(d))]}var u={kernelName:s.StringSplit,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"39NsO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return i}),a.export(r,"stringToHashBucketFastConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared");function i(e){var t=e.inputs,r=e.backend,n=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");var o=r.readSync(a.dataId),i=(0,s.stringToHashBucketFastImplCPU)(o,n);return r.makeTensorInfo(a.shape,"int32",i)}var c={kernelName:o.StringToHashBucketFast,backendName:"webgl",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lyEjs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return s}),a.export(r,"tanConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"return tan(x);"}),i={kernelName:o.Tan,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lSn6I:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return s}),a.export(r,"tanhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../kernel_utils/kernel_funcs_utils").unaryKernelFunc)({opSnippet:"\n float e2x = exp(-2.0 * abs(x));\n return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),i={kernelName:o.Tanh,backendName:"webgl",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/kernel_funcs_utils":"81uKn","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dF87I:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return u}),a.export(r,"tensorScatterUpdateConfig",function(){return l});var o=e("@swc/helpers/cjs/_object_destructuring_empty.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../scatter_gpu"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.tensor,u=t.indices,l=t.updates;(0,o._)(n);var p=s.backend_util.calculateShapes(l,u,a.shape),f=p.sliceRank,d=p.numUpdates,h=p.sliceSize,m=p.strides,g=p.outputSize,v=[g/h,h];if(0===g)return r.makeTensorInfo(a.shape,u.dtype);var _=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[d,f]}}),x=(0,c.reshape)({inputs:{x:l},backend:r,attrs:{shape:[d,h]}}),y=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:v}}),b=new(0,i.ScatterProgram)(d,f,_.shape.length,x.shape.length,m,v,!1,!0),k=r.runWebGLProgram(b,[x,_,y],y.dtype),j=(0,c.reshape)({inputs:{x:k},backend:r,attrs:{shape:a.shape}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(k),j}var l={kernelName:s.TensorScatterUpdate,backendName:"webgl",kernelFunc:u}},{"@swc/helpers/cjs/_object_destructuring_empty.cjs":"4x6TM","@tensorflow/tfjs-core":"1q0U8","../scatter_gpu":"1gMof","./Reshape":"cAHWq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4x6TM":[function(e,t,r,n){"use strict";r._=function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}},{}],lPxzL:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return c}),a.export(r,"tileConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../tile_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.reps;if("string"===a.dtype||a.shape.length>5){var u=r.readSync(a.dataId),l="string"===a.dtype?u.map(function(e){return o.util.decodeString(e)}):u,p=(0,o.buffer)(a.shape,a.dtype,l),f=(0,s.tileImplCPU)(p,c);return r.makeTensorInfo(f.shape,f.dtype,f.values)}var d=new(0,i.TileProgram)(a.shape,c);return r.runWebGLProgram(d,[a],a.dtype)}var u={kernelName:o.Tile,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../tile_gpu":"8qetQ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8qetQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TileProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("./shader_compiler"),i=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["A"];for(var n=Array(t.length),a=0;a<n.length;a++)n[a]=t[a]*r[a];this.outputShape=n,this.rank=n.length;var i=(0,s.getCoordsDataType)(this.rank),c=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],n=[],a=0;a<e.length;a++)n.push("imod(".concat(r[a],", ").concat(e[a],")"));return n.join()}(t);this.userCode="\n void main() {\n ".concat(i," resRC = getOutputCoords();\n setOutput(getA(").concat(c,"));\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","./shader_compiler":"2Tqxi","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"01aCF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topK",function(){return m}),a.export(r,"topKConfig",function(){return g});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../kernel_utils/shared"),c=e("../top_k_gpu"),u=e("./Fill"),l=e("./GatherV2"),p=e("./Reshape"),f=e("./Slice");function d(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function h(e){for(var t=1;t<e;)t*=2;return t}function m(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,m=n.k,g=n.sorted,v=(0,s.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),_=(0,s.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),x=a.shape,y=x[x.length-1];if(r.shouldExecuteOnCPU([a])||y<v||m>_){var b=r.readSync(a.dataId),k=(0,o._)((0,i.topKImplCPU)(b,x,a.dtype,m,g),2),j=k[0],w=k[1];return[r.makeTensorInfo(j.shape,j.dtype,j.values),r.makeTensorInfo(w.shape,w.dtype,w.values)]}if(0===m)return x[x.length-1]=0,[r.makeTensorInfo(x,a.dtype,[]),r.makeTensorInfo(x,"int32",[])];if(1===y)return[a,(0,u.fill)({attrs:{shape:x,dtype:"int32",value:0},backend:r})];var S=r.texData.get(a.dataId),I=null!==S&&S.isPacked,T=I?r.unpackTensor(a):a,N=s.util.sizeFromShape(x)/y,C=(0,p.reshape)({inputs:{x:T},attrs:{shape:[N,y]},backend:r});I&&d(r,T);for(var E=h(m),F=h(y),A=null,P=function(){return null===A?[C,C]:[C,A]},R=function(e,t,n){var a=P(),o=new(0,c.SwapProgram)(n),s=[[y],[+(null===A)],[Number.NEGATIVE_INFINITY],[e],[t]],i=A;A=r.runWebGLProgram(o,a,"int32",s),d(r,i)},D=1;D<E;D*=2)for(var M=2*D,O=D;O>=1;O/=2)R(M,O,[N,F]);for(var L=F;L>E;L/=2){var V=P(),U=new(0,c.MergeProgram)([N,L/2]),B=[[y],[+(null===A)],[E]],z=A;A=r.runWebGLProgram(U,V,"int32",B),d(r,z);for(var G=E/2,W=2*G,q=G;q>=1;q/=2)R(W,q,A.shape)}var H=A;A=(0,f.slice)({inputs:{x:A},backend:r,attrs:{begin:0,size:[N,m]}}),d(r,H);var Z=(0,l.gatherV2)({inputs:{x:C,indices:A},backend:r,attrs:{axis:1,batchDims:1}});d(r,C);var K=x.slice(0,-1);K.push(m),H=A,A=(0,p.reshape)({inputs:{x:A},attrs:{shape:K},backend:r}),d(r,H);var X=Z;return Z=(0,p.reshape)({inputs:{x:Z},attrs:{shape:K},backend:r}),d(r,X),[Z,A]}var g={kernelName:s.TopK,backendName:"webgl",kernelFunc:m}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../top_k_gpu":"7Q6nY","./Fill":"800YS","./GatherV2":"37laX","./Reshape":"cAHWq","./Slice":"l7vkL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Q6nY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SwapProgram",function(){return s}),a.export(r,"MergeProgram",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int elemIdx = coords[1];\n\n // We compare elements pair-wise within a group of size 2 * inc.\n // The comparing rule for each group alternates between ascending\n // and descending. Within each group, we compare each pair at\n // positions i and i+inc. To decide whether an element at position i\n // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n // inc, it is in the first half of the group, we denote it as x0,\n // otherwise we denote it as x1.\n // For example, as shown in the Bitonic top K paper referenced above,\n // Figure5(a) shows that element[1] is in the\n // second half of the group when group size is 2, but it is in the\n // first half of the group when group size is 4.\n\n bool isFirstInPair = imod(elemIdx, 2 * inc)< inc;\n int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n // Denotes which direction indices are in (ascending or descending).\n bool reverse = imod(elemIdx, 2 * dir) >= dir;\n bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n if (reverse == isGreater) { // Elements in opposite order of direction\n int iTemp = i0;\n i0 = i1;\n i1 = iTemp;\n }\n if (isFirstInPair) {\n setOutput(float(i0));\n } else {\n setOutput(float(i1));\n }\n }\n "},i=function e(t){"use strict";(0,o._)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n void main() {\n // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int elemIdx = coords[1];\n\n // The output size is half of the previous size.\n // If the previous sequence is | | | | _ _ _ _ | | | | _ _ _ _ (k=4),\n // we only need to output the indices at positions |, the indices at\n // positions _ can be thrown away, see Figure5(b) After Phase 2\n // (Merge phase) in the Bitonic Top K paper referenced above.\n // For example, the paper shows we only need to output the orange bars.\n // The output sequence should look like this | | | | | | | |.\n // Because the sequence is halved, to map the output index back\n // to the previous sequence to find the corresponding value,\n // we need to double the index. When we double the index,\n // we basically interpolate a position, so 2i looks like\n // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n // of each 2k positions by - elemIdx % k. E.g. for output at\n // index 4,5,6,7, we want to get the corresponding element at\n // original index 8,9,10,11, for output at index 8,9,10,11,\n // we want to get the corresponding element at original index\n // 16,17,18,19, so on and so forth.\n\n int i = elemIdx< k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n float x0 = getX(batch, i0);\n float x1 = i1 < n ? getX(batch, i1) : x0;\n\n setOutput(x0 >= x1 ? float(i0) : float(i1));\n }\n "}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5E2kv":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return c}),a.export(r,"transformConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../transform_gpu");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,s=t.transforms,c=n.interpolation,u=n.fillMode,l=n.fillValue,p=n.outputShape,f=(0,o._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=(0,o._)(null!=p?p:[h,m],2),_=v[0],x=v[1],y=new(0,i.TransformProgram)(h,m,c,u,l,[d,_,x,g]);return r.runWebGLProgram(y,[a,s],"float32")}var u={kernelName:s.Transform,backendName:"webgl",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../transform_gpu":"7Rqek","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Rqek":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TransformProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r,n,a,s,i){"use strict";var c;switch((0,o._)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=i,a){case"constant":default:c=1;break;case"reflect":c=2;break;case"wrap":c=3;break;case"nearest":c=4}this.userCode="\n float mapCoord(float outCoord, float len) {\n float inCoord = outCoord;\n if(".concat(c," == 2) {\n if (inCoord< 0.0) {\n if (len <= 1.0) {\n inCoord = 0.0;\n } else {\n float sz2 = 2.0 * len;\n if (inCoord < sz2) {\n inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n inCoord;\n }\n inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n }\n } else if (inCoord >len - 1.0) {\n if (len<= 1.0) {\n inCoord = 0.0;\n } else {\n float sz2 = 2.0 * len;\n inCoord -= sz2 * float(int(float(inCoord / sz2)));\n if (inCoord >= len) {\n inCoord = sz2 - inCoord - 1.0;\n }\n }\n }\n return clamp(inCoord, 0.0, len - 1.0);\n } else if (").concat(c," == 3) {\n if (inCoord< 0.0) {\n if (len <= 1.0) {\n inCoord = 0.0;\n } else {\n float sz = len - 1.0;\n inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n }\n } else if (inCoord >len - 1.0) {\n if (len<= 1.0) {\n inCoord = 0.0;\n } else {\n float sz = len - 1.0;\n inCoord -= len * float(int(float(inCoord / sz)));\n }\n }\n return clamp(inCoord, 0.0, len - 1.0);\n } else if (").concat(c," == 4) {\n return clamp(outCoord, 0.0, len - 1.0);\n } else {\n return outCoord;\n }\n }\n\n float readWithFillValue(int batch, int coordY, int coordX,\n int channel) {\n float outputValue;\n if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(r,") {\n outputValue = getImage(batch, coordY, coordX, channel);\n } else {\n outputValue = float(").concat(s,");\n }\n return outputValue;\n }\n\n void main() {\n ivec4 coords = getOutputCoords();\n float outputValue;\n int batch = coords[0];\n int x = coords[2];\n int y = coords[1];\n int channel = coords[3];\n float xf = float(x);\n float yf = float(y);\n float a1 = getTransforms(batch, 0);\n float a2 = getTransforms(batch, 1);\n float a3 = getTransforms(batch, 2);\n float b1 = getTransforms(batch, 3);\n float b2 = getTransforms(batch, 4);\n float b3 = getTransforms(batch, 5);\n float c1 = getTransforms(batch, 6);\n float c2 = getTransforms(batch, 7);\n float projection = c1 * xf + c2 * yf + 1.0;\n if (projection == 0.0) {\n outputValue = float(").concat(s,");\n } else {\n float inX = (a1 * xf + a2 * yf + a3) / projection;\n float inY = (b1 * xf + b2 * yf + b3) / projection;\n float mapX = mapCoord(inX, float(").concat(r,"));\n float mapY = mapCoord(inY, float(").concat(t,"));\n\n if (").concat("nearest"===n?1:2," == 1) {\n int coordY = int(round(mapY));\n int coordX = int(round(mapX));\n outputValue = readWithFillValue(batch, coordY, coordX,\n channel);\n } else {\n float yFloor = floor(mapY);\n float xFloor = floor(mapX);\n float yCeil = yFloor + 1.0;\n float xCeil = xFloor + 1.0;\n float valueYFloor = (xCeil - mapX) *\n readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n (mapX - xFloor) *\n readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n float valueYCeil = (xCeil - mapX) *\n readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n (mapX - xFloor) *\n readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n outputValue = (yCeil - mapY) * valueYFloor +\n (mapY - yFloor) * valueYCeil;\n }\n }\n setOutput(outputValue);\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4351P":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return c}),a.export(r,"uniqueConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../kernel_utils/shared"),i=e("../webgl_util");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.axis,o=t.x;(0,i.assertNotComplex)(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var c=n.readSync(o.dataId),u=(0,s.uniqueImplCPU)(c,a,o.shape,o.dtype),l=u.outputValues,p=u.outputShape,f=u.indices;return[n.makeTensorInfo(p,o.dtype,l),n.makeTensorInfo([f.length],"int32",f)]}var u={kernelName:o.Unique,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../kernel_utils/shared":"5N8x3","../webgl_util":"foNeO","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7O6aJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unpack",function(){return c}),a.export(r,"unpackConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./Reshape"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.value,o=n.axis;o<0&&(o+=a.shape.length);for(var c=a.shape.length,u=a.shape[o],l=Array(c-1),p=0,f=0;f<c;f++)f!==o&&(l[p++]=a.shape[f]);var d=[],h=Array(c).fill(0),m=a.shape.slice();m[o]=1;for(var g=Array(u),v=0;v<g.length;v++){h[o]=v;var _=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:h,size:m}}),x=(0,s.reshape)({inputs:{x:_},backend:r,attrs:{shape:l}});g[v]=x,d.push(_)}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),g}var u={kernelName:o.Unpack,backendName:"webgl",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","./Reshape":"cAHWq","./Slice":"l7vkL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fxocc:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return p}),a.export(r,"unsortedSegmentSumConfig",function(){return f});var o=e("@tensorflow/tfjs-core"),s=e("../segment_gpu"),i=e("./Range"),c=e("./Reshape"),u=e("./Tile"),l=e("./Transpose");function p(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,p=t.segmentIds,f=n.numSegments,d=a.shape.length,h=[],m=0,g=o.backend_util.getAxesPermutation([m],d),v=a;null!=g&&(v=(0,l.transpose)({inputs:{x:a},backend:r,attrs:{perm:g}}),h.push(v),m=o.backend_util.getInnerMostAxes(1,d)[0]);var _=o.backend_util.segment_util.computeOutShape(v.shape,m,f),x=o.util.sizeFromShape([v.shape[m]]),y=(0,c.reshape)({inputs:{x:v},backend:r,attrs:{shape:[-1,x]}});h.push(y);var b=(0,o.sumOutType)(a.dtype),k=function(e,t,n,a,c){var l=e.shape[0],p=e.shape[1],f=o.backend_util.segment_util.segOpComputeOptimalWindowSize(p,c),d=new(0,s.SegmentOpProgram)({windowSize:f,inSize:p,batchSize:l,numSegments:c},t),m=r.compileAndRun(d,[e,n],a);if(h.push(m),m.shape[1]===c)return m;var g=(0,i.range)({backend:r,attrs:{start:0,stop:c,step:1,dtype:"float32"}}),v=(0,u.tile)({inputs:{x:g},backend:r,attrs:{reps:[p/f]}});return h.push(g),h.push(v),k(m,t,v,a,c)},j=k(y,"unsortedSegmentSum",p,b,f),w=(0,c.reshape)({inputs:{x:j},backend:r,attrs:{shape:_}}),S=w;if(null!=g){h.push(w);var I=o.backend_util.getUndoAxesPermutation(g);S=(0,l.transpose)({inputs:{x:S},backend:r,attrs:{perm:I}})}return h.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),S}var f={kernelName:o.UnsortedSegmentSum,backendName:"webgl",kernelFunc:p}},{"@tensorflow/tfjs-core":"1q0U8","../segment_gpu":"4n0rS","./Range":"8iOZv","./Reshape":"cAHWq","./Tile":"lPxzL","./Transpose":"lfQF5","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4n0rS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"SegmentOpProgram",function(){return s});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=function e(t,r){"use strict";(0,o._)(this,e),this.variableNames=["x","segmentIds"];var n=t.windowSize,a=t.batchSize,s=t.inSize,i=t.numSegments,c=i*Math.ceil(s/n);this.outputShape=[a,c];var u=4*Math.floor(n/4),l=n%4,p="\n sumValue += dot(values, segFilter);\n ",f="";s%n>0&&(f="\n if (inIdx< 0 || inIdx >= ".concat(s,") {\n return initializationValue;\n }\n "));var d="";s%n>0&&(d="\n if (inIdx< 0 || inIdx >= ".concat(s,") {\n return -1.0;\n }\n ")),this.userCode="\n const float initializationValue = ".concat("0.0",";\n\n float getValue(int batch, int inIdx) {\n ").concat(f,"\n return getX(batch, inIdx);\n }\n\n float getSegmentIdAtIndex(int inIdx) {\n ").concat(d,"\n return getSegmentIds(inIdx);\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int batch = coords[0];\n int outIdx = coords[1];\n int inOffset = int(floor(float(outIdx) / float(\n ").concat(i,")) * float(").concat(n,"));\n int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n float sumValue = 0.0;\n\n for (int i = 0; i< ").concat(u,"; i += 4) {\n int inIdx = inOffset + i;\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n getValue(batch, inIdx + 3)\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n );\n\n ").concat(p,"\n }\n\n int inIdx = inOffset + ").concat(u,";\n if (").concat(1===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n initializationValue,\n initializationValue,\n initializationValue\n );\n\n int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n 0,\n 0,\n 0\n );\n\n ").concat(p,"\n } else if (").concat(2===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n initializationValue,\n initializationValue\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n 0,\n 0\n );\n\n ").concat(p,"\n } else if (").concat(3===l,") {\n vec4 values = vec4(\n getValue(batch, inIdx),\n getValue(batch, inIdx + 1),\n getValue(batch, inIdx + 2),\n initializationValue\n );\n\n vec4 segFilter = vec4(\n int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n 0\n );\n\n ").concat(p,"\n }\n setOutput(").concat("sumValue",");\n }\n ")}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],goiPC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var o=e("./base");a.exportAll(o,r),e("./register_all_kernels")},{"./base":"l1gBh","./register_all_kernels":"87Ppz","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l1gBh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendCPU",function(){return s.MathBackendCPU}),a.export(r,"version_cpu",function(){return c.version}),a.export(r,"shared",function(){return i});var o=e("@tensorflow/tfjs-core"),s=e("./backend_cpu"),i=e("./shared"),c=e("./version");(0,o.registerBackend)("cpu",function(){return new(0,s.MathBackendCPU)},1)},{"@tensorflow/tfjs-core":"1q0U8","./backend_cpu":"ehEJJ","./shared":"hXFxE","./version":"9u1Lb","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ehEJJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"MathBackendCPU",function(){return g});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_call_super.cjs"),i=e("@swc/helpers/cjs/_class_call_check.cjs"),c=e("@swc/helpers/cjs/_create_class.cjs"),u=e("@swc/helpers/cjs/_get.cjs"),l=e("@swc/helpers/cjs/_get_prototype_of.cjs"),p=e("@swc/helpers/cjs/_inherits.cjs"),f=e("@swc/helpers/cjs/_ts_generator.cjs"),d=e("@tensorflow/tfjs-core"),h=e("./cpu_util"),m=d.kernel_impls.whereImpl,g=function(e){"use strict";function t(){var e;return(0,i._)(this,t),(e=(0,s._)(this,t)).blockSize=48,e.firstUse=!0,e.data=new(0,d.DataStorage)(e,(0,d.engine)()),e}return(0,p._)(t,e),(0,c._)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}},{key:"write",value:function(e,t,r){this.firstUse&&(this.firstUse=!1,(0,d.env)().get("IS_NODE")&&d.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var n={id:this.nextDataId()};return this.data.set(n,{values:e,dtype:r,refCount:1}),n}},{key:"makeTensorInfo",value:function(e,t,r){var n;if("string"===t&&null!=r&&r.length>0&&d.util.isString(r[0])){var a=r.map(function(e){return d.util.encodeString(e)});n=this.write(a,e,t)}else n=this.write(r,e,t);return{dataId:n,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){var t=this.data.get(e);t.refCount++}},{key:"decRef",value:function(e){if(this.data.has(e)){var t=this.data.get(e);t.refCount--}}},{key:"move",value:function(e,t,r,n,a){this.data.set(e,{values:t,dtype:n,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(e){var t=this;return(0,o._)(function(){return(0,f._)(this,function(r){return[2,t.readSync(e)]})})()}},{key:"readSync",value:function(e){var t=this.data.get(e),r=t.dtype,n=t.complexTensorInfos;if("complex64"===r){var a=this.readSync(n.real.dataId),o=this.readSync(n.imag.dataId);return d.backend_util.mergeRealAndImagArrays(a,o)}return d.util.convertBackendValuesAndArrayBuffer(this.data.get(e).values,r)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var r=t.map(function(e){return d.util.decodeString(e)});return(0,d.buffer)(e.shape,e.dtype,r)}catch(e){throw Error("Failed to decode encoded string bytes into utf-8")}return(0,d.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,r){return(0,d.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,r,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var r=this.data.get(e).complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(e){return(0,o._)(function(){var t;return(0,f._)(this,function(r){return t=d.util.now(),e(),[2,{kernelMs:d.util.now()-t}]})})()}},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,h.assertNotComplex)([e],"where");var t=this.readSync(e.dataId);return m(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,u._)((0,l._)(t.prototype),"epsilon",this).call(this)}}]),t}(d.KernelBackend);g.nextDataId=0},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_get.cjs":"93DsG","@swc/helpers/cjs/_get_prototype_of.cjs":"cAaXX","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","./cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"93DsG":[function(e,t,r,n){"use strict";var a=e("bc4192a67d775025");function o(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r._=o=Reflect.get:r._=o=function(e,t,r){var n=a._(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r||e):o.value}},o(e,t,n||e)}r._=o},{bc4192a67d775025:"eeL2n"}],eeL2n:[function(e,t,r,n){"use strict";var a=e("9f148d20ff12386b");r._=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a._(e)););return e}},{"9f148d20ff12386b":"cAaXX"}],"9u1Lb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return o});var o="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"87Ppz":[function(e,t,r,n){var a=e("@tensorflow/tfjs-core"),o=e("./kernels/_FusedMatMul"),s=e("./kernels/Abs"),i=e("./kernels/Acos"),c=e("./kernels/Acosh"),u=e("./kernels/Add"),l=e("./kernels/AddN"),p=e("./kernels/All"),f=e("./kernels/Any"),d=e("./kernels/ArgMax"),h=e("./kernels/ArgMin"),m=e("./kernels/Asin"),g=e("./kernels/Asinh"),v=e("./kernels/Atan"),_=e("./kernels/Atan2"),x=e("./kernels/Atanh"),y=e("./kernels/AvgPool"),b=e("./kernels/AvgPool3D"),k=e("./kernels/AvgPool3DGrad"),j=e("./kernels/AvgPoolGrad"),w=e("./kernels/BatchMatMul"),S=e("./kernels/BatchNorm"),I=e("./kernels/BatchToSpaceND"),T=e("./kernels/Bincount"),N=e("./kernels/BitwiseAnd"),C=e("./kernels/BroadcastArgs"),E=e("./kernels/Cast"),F=e("./kernels/Ceil"),A=e("./kernels/ClipByValue"),P=e("./kernels/Complex"),R=e("./kernels/ComplexAbs"),D=e("./kernels/Concat"),M=e("./kernels/Conv2D"),O=e("./kernels/Conv2DBackpropFilter"),L=e("./kernels/Conv2DBackpropInput"),V=e("./kernels/Conv3D"),U=e("./kernels/Conv3DBackpropFilterV2"),B=e("./kernels/Conv3DBackpropInputV2"),z=e("./kernels/Cos"),G=e("./kernels/Cosh"),W=e("./kernels/CropAndResize"),q=e("./kernels/Cumprod"),H=e("./kernels/Cumsum"),Z=e("./kernels/DenseBincount"),K=e("./kernels/DepthToSpace"),X=e("./kernels/DepthwiseConv2dNative"),Y=e("./kernels/DepthwiseConv2dNativeBackpropFilter"),J=e("./kernels/DepthwiseConv2dNativeBackpropInput"),Q=e("./kernels/Diag"),$=e("./kernels/Dilation2D"),ee=e("./kernels/Dilation2DBackpropFilter"),et=e("./kernels/Dilation2DBackpropInput"),er=e("./kernels/Draw"),en=e("./kernels/Einsum"),ea=e("./kernels/Elu"),eo=e("./kernels/EluGrad"),es=e("./kernels/Equal"),ei=e("./kernels/Erf"),ec=e("./kernels/Exp"),eu=e("./kernels/ExpandDims"),el=e("./kernels/Expm1"),ep=e("./kernels/FFT"),ef=e("./kernels/Fill"),ed=e("./kernels/FlipLeftRight"),eh=e("./kernels/Floor"),em=e("./kernels/FloorDiv"),eg=e("./kernels/FusedConv2D"),ev=e("./kernels/FusedDepthwiseConv2D"),e_=e("./kernels/GatherNd"),ex=e("./kernels/GatherV2"),ey=e("./kernels/Greater"),eb=e("./kernels/GreaterEqual"),ek=e("./kernels/Identity"),ej=e("./kernels/IFFT"),ew=e("./kernels/Imag"),eS=e("./kernels/IsFinite"),eI=e("./kernels/IsInf"),eT=e("./kernels/IsNaN"),eN=e("./kernels/LeakyRelu"),eC=e("./kernels/Less"),eE=e("./kernels/LessEqual"),eF=e("./kernels/LinSpace"),eA=e("./kernels/Log"),eP=e("./kernels/Log1p"),eR=e("./kernels/LogicalAnd"),eD=e("./kernels/LogicalNot"),eM=e("./kernels/LogicalOr"),eO=e("./kernels/LRN"),eL=e("./kernels/LRNGrad"),eV=e("./kernels/Max"),eU=e("./kernels/Maximum"),eB=e("./kernels/MaxPool"),ez=e("./kernels/MaxPool3D"),eG=e("./kernels/MaxPool3DGrad"),eW=e("./kernels/MaxPoolGrad"),eq=e("./kernels/MaxPoolWithArgmax"),eH=e("./kernels/Mean"),eZ=e("./kernels/Min"),eK=e("./kernels/Minimum"),eX=e("./kernels/MirrorPad"),eY=e("./kernels/Mod"),eJ=e("./kernels/Multinomial"),eQ=e("./kernels/Multiply"),e$=e("./kernels/Neg"),e0=e("./kernels/NonMaxSuppressionV3"),e1=e("./kernels/NonMaxSuppressionV4"),e2=e("./kernels/NonMaxSuppressionV5"),e3=e("./kernels/NotEqual"),e4=e("./kernels/OneHot"),e8=e("./kernels/OnesLike"),e6=e("./kernels/Pack"),e5=e("./kernels/PadV2"),e7=e("./kernels/Pow"),e9=e("./kernels/Prelu"),te=e("./kernels/Prod"),tt=e("./kernels/RaggedGather"),tr=e("./kernels/RaggedRange"),tn=e("./kernels/RaggedTensorToTensor"),ta=e("./kernels/Range"),to=e("./kernels/Real"),ts=e("./kernels/RealDiv"),ti=e("./kernels/Reciprocal"),tc=e("./kernels/Relu"),tu=e("./kernels/Relu6"),tl=e("./kernels/Reshape"),tp=e("./kernels/ResizeBilinear"),tf=e("./kernels/ResizeBilinearGrad"),td=e("./kernels/ResizeNearestNeighbor"),th=e("./kernels/ResizeNearestNeighborGrad"),tm=e("./kernels/Reverse"),tg=e("./kernels/RotateWithOffset"),tv=e("./kernels/Round"),t_=e("./kernels/Rsqrt"),tx=e("./kernels/ScatterNd"),ty=e("./kernels/SearchSorted"),tb=e("./kernels/Select"),tk=e("./kernels/Selu"),tj=e("./kernels/Sigmoid"),tw=e("./kernels/Sign"),tS=e("./kernels/Sin"),tI=e("./kernels/Sinh"),tT=e("./kernels/Slice"),tN=e("./kernels/Softmax"),tC=e("./kernels/Softplus"),tE=e("./kernels/SpaceToBatchND"),tF=e("./kernels/SparseFillEmptyRows"),tA=e("./kernels/SparseReshape"),tP=e("./kernels/SparseSegmentMean"),tR=e("./kernels/SparseSegmentSum"),tD=e("./kernels/SparseToDense"),tM=e("./kernels/SplitV"),tO=e("./kernels/Sqrt"),tL=e("./kernels/Square"),tV=e("./kernels/SquaredDifference"),tU=e("./kernels/StaticRegexReplace"),tB=e("./kernels/Step"),tz=e("./kernels/StridedSlice"),tG=e("./kernels/StringNGrams"),tW=e("./kernels/StringSplit"),tq=e("./kernels/StringToHashBucketFast"),tH=e("./kernels/Sub"),tZ=e("./kernels/Sum"),tK=e("./kernels/Tan"),tX=e("./kernels/Tanh"),tY=e("./kernels/TensorScatterUpdate"),tJ=e("./kernels/Tile"),tQ=e("./kernels/TopK"),t$=e("./kernels/Transform"),t0=e("./kernels/Transpose"),t1=e("./kernels/Unique"),t2=e("./kernels/Unpack"),t3=e("./kernels/UnsortedSegmentSum"),t4=e("./kernels/ZerosLike"),t8=[o._fusedMatMulConfig,s.absConfig,i.acosConfig,c.acoshConfig,u.addConfig,l.addNConfig,p.allConfig,f.anyConfig,d.argMaxConfig,h.argMinConfig,m.asinConfig,g.asinhConfig,v.atanConfig,_.atan2Config,x.atanhConfig,y.avgPoolConfig,b.avgPool3DConfig,k.avgPool3DGradConfig,j.avgPoolGradConfig,w.batchMatMulConfig,S.batchNormConfig,I.batchToSpaceNDConfig,T.bincountConfig,N.bitwiseAndConfig,C.broadcastArgsConfig,E.castConfig,F.ceilConfig,A.clipByValueConfig,P.complexConfig,R.complexAbsConfig,D.concatConfig,M.conv2DConfig,O.conv2DBackpropFilterConfig,L.conv2DBackpropInputConfig,V.conv3DConfig,U.conv3DBackpropFilterV2Config,B.conv3DBackpropInputV2Config,z.cosConfig,G.coshConfig,W.cropAndResizeConfig,q.cumprodConfig,H.cumsumConfig,Z.denseBincountConfig,K.depthToSpaceConfig,X.depthwiseConv2dNativeConfig,Y.depthwiseConv2dNativeBackpropFilterConfig,J.depthwiseConv2dNativeBackpropInputConfig,Q.diagConfig,$.dilation2DConfig,ee.dilation2DBackpropFilterConfig,et.dilation2DBackpropInputConfig,er.drawConfig,en.einsumConfig,ea.eluConfig,eo.eluGradConfig,es.equalConfig,ei.erfConfig,ec.expConfig,eu.expandDimsConfig,el.expm1Config,ep.fftConfig,ef.fillConfig,ed.flipLeftRightConfig,eh.floorConfig,em.floorDivConfig,eg.fusedConv2DConfig,ev.fusedDepthwiseConv2DConfig,e_.gatherNdConfig,ex.gatherV2Config,ey.greaterConfig,eb.greaterEqualConfig,ek.identityConfig,ej.ifftConfig,ew.imagConfig,eS.isFiniteConfig,eI.isInfConfig,eT.isNaNConfig,eN.leakyReluConfig,eC.lessConfig,eE.lessEqualConfig,eF.linSpaceConfig,eA.logConfig,eP.log1pConfig,eR.logicalAndConfig,eD.logicalNotConfig,eM.logicalOrConfig,eO.LRNConfig,eL.LRNGradConfig,eV.maxConfig,eU.maximumConfig,eB.maxPoolConfig,ez.maxPool3DConfig,eG.maxPool3DGradConfig,eW.maxPoolGradConfig,eq.maxPoolWithArgmaxConfig,eH.meanConfig,eZ.minConfig,eK.minimumConfig,eX.mirrorPadConfig,eY.modConfig,eJ.multinomialConfig,eQ.multiplyConfig,e$.negConfig,e0.nonMaxSuppressionV3Config,e1.nonMaxSuppressionV4Config,e2.nonMaxSuppressionV5Config,e3.notEqualConfig,e4.oneHotConfig,e8.onesLikeConfig,e6.packConfig,e5.padV2Config,e7.powConfig,e9.preluConfig,te.prodConfig,tt.raggedGatherConfig,tr.raggedRangeConfig,tn.raggedTensorToTensorConfig,ta.rangeConfig,to.realConfig,ts.realDivConfig,ti.reciprocalConfig,tc.reluConfig,tu.relu6Config,tl.reshapeConfig,tp.resizeBilinearConfig,tf.resizeBilinearGradConfig,td.resizeNearestNeighborConfig,th.resizeNearestNeighborGradConfig,tm.reverseConfig,tg.rotateWithOffsetConfig,tv.roundConfig,t_.rsqrtConfig,tx.scatterNdConfig,ty.searchSortedConfig,tb.selectConfig,tk.seluConfig,tj.sigmoidConfig,tw.signConfig,tS.sinConfig,tI.sinhConfig,tT.sliceConfig,tN.softmaxConfig,tC.softplusConfig,tE.spaceToBatchNDConfig,tF.sparseFillEmptyRowsConfig,tA.sparseReshapeConfig,tP.sparseSegmentMeanConfig,tR.sparseSegmentSumConfig,tD.sparseToDenseConfig,tM.splitVConfig,tO.sqrtConfig,tL.squareConfig,tV.squaredDifferenceConfig,tU.staticRegexReplaceConfig,tB.stepConfig,tz.stridedSliceConfig,tG.stringNGramsConfig,tW.stringSplitConfig,tq.stringToHashBucketFastConfig,tH.subConfig,tZ.sumConfig,tK.tanConfig,tX.tanhConfig,tY.tensorScatterUpdateConfig,tJ.tileConfig,tQ.topKConfig,t$.transformConfig,t0.transposeConfig,t1.uniqueConfig,t2.unpackConfig,t3.unsortedSegmentSumConfig,t4.zerosLikeConfig],t6=!0,t5=!1,t7=void 0;try{for(var t9,re=t8[Symbol.iterator]();!(t6=(t9=re.next()).done);t6=!0){var rt=t9.value;(0,a.registerKernel)(rt)}}catch(e){t5=!0,t7=e}finally{try{t6||null==re.return||re.return()}finally{if(t5)throw t7}}},{"@tensorflow/tfjs-core":"1q0U8","./kernels/_FusedMatMul":"8nF0b","./kernels/Abs":"cdJYF","./kernels/Acos":"gijYi","./kernels/Acosh":"7b4JJ","./kernels/Add":"c644D","./kernels/AddN":"ak0R1","./kernels/All":"f6yuo","./kernels/Any":"d0lPN","./kernels/ArgMax":"bBmWB","./kernels/ArgMin":"bRKht","./kernels/Asin":"9cpcf","./kernels/Asinh":"4qPH5","./kernels/Atan":"cGPUn","./kernels/Atan2":"41y38","./kernels/Atanh":"3dhmC","./kernels/AvgPool":"7igBo","./kernels/AvgPool3D":"i4yhx","./kernels/AvgPool3DGrad":"kCrQy","./kernels/AvgPoolGrad":"iijZz","./kernels/BatchMatMul":"cxaHf","./kernels/BatchNorm":"kEHUD","./kernels/BatchToSpaceND":"lhzql","./kernels/Bincount":"aZccW","./kernels/BitwiseAnd":"98L64","./kernels/BroadcastArgs":"hrwnH","./kernels/Cast":"frZja","./kernels/Ceil":"5HoAP","./kernels/ClipByValue":"i2IyX","./kernels/Complex":"lGfJq","./kernels/ComplexAbs":"lpnOD","./kernels/Concat":"6eUup","./kernels/Conv2D":"7TlW9","./kernels/Conv2DBackpropFilter":"iLxFS","./kernels/Conv2DBackpropInput":"3AJU8","./kernels/Conv3D":"04hri","./kernels/Conv3DBackpropFilterV2":"j8WPM","./kernels/Conv3DBackpropInputV2":"7HsmT","./kernels/Cos":"1ksRh","./kernels/Cosh":"lA5Rm","./kernels/CropAndResize":"2JiT5","./kernels/Cumprod":"7H45a","./kernels/Cumsum":"IQRfB","./kernels/DenseBincount":"2hR06","./kernels/DepthToSpace":"7Bjft","./kernels/DepthwiseConv2dNative":"h4ca7","./kernels/DepthwiseConv2dNativeBackpropFilter":"3E9tg","./kernels/DepthwiseConv2dNativeBackpropInput":"7SKx4","./kernels/Diag":"kMZqx","./kernels/Dilation2D":"5f7qq","./kernels/Dilation2DBackpropFilter":"2MbTe","./kernels/Dilation2DBackpropInput":"qvekz","./kernels/Draw":"j8XYA","./kernels/Einsum":"jHgiu","./kernels/Elu":"59v6u","./kernels/EluGrad":"lvE5b","./kernels/Equal":"5rwFz","./kernels/Erf":"l2GJB","./kernels/Exp":"2rIvJ","./kernels/ExpandDims":"awARv","./kernels/Expm1":"1AKSa","./kernels/FFT":"hngIQ","./kernels/Fill":"5uq7y","./kernels/FlipLeftRight":"ayHd4","./kernels/Floor":"24RO3","./kernels/FloorDiv":"bHhA2","./kernels/FusedConv2D":"aqTTi","./kernels/FusedDepthwiseConv2D":"IAXoF","./kernels/GatherNd":"37Mvh","./kernels/GatherV2":"5NwqA","./kernels/Greater":"6j6vC","./kernels/GreaterEqual":"50Djz","./kernels/Identity":"egCYs","./kernels/IFFT":"dqOgF","./kernels/Imag":"ea4z8","./kernels/IsFinite":"e1Md9","./kernels/IsInf":"5osxa","./kernels/IsNaN":"b7P9r","./kernels/LeakyRelu":"lWeX3","./kernels/Less":"KtKVI","./kernels/LessEqual":"cHyvK","./kernels/LinSpace":"bxKPR","./kernels/Log":"kdGS9","./kernels/Log1p":"3c6Bp","./kernels/LogicalAnd":"76uqO","./kernels/LogicalNot":"5xrJV","./kernels/LogicalOr":"bUrRJ","./kernels/LRN":"1CjBP","./kernels/LRNGrad":"cj1al","./kernels/Max":"3oRc2","./kernels/Maximum":"kz7F4","./kernels/MaxPool":"l9OTl","./kernels/MaxPool3D":"i5zHp","./kernels/MaxPool3DGrad":"2S1mq","./kernels/MaxPoolGrad":"e191q","./kernels/MaxPoolWithArgmax":"cjoi0","./kernels/Mean":"8AWm4","./kernels/Min":"2hcJS","./kernels/Minimum":"1n9b0","./kernels/MirrorPad":"850HP","./kernels/Mod":"bmORh","./kernels/Multinomial":"fmxKO","./kernels/Multiply":"7VqTl","./kernels/Neg":"bTovl","./kernels/NonMaxSuppressionV3":"3DldC","./kernels/NonMaxSuppressionV4":"eNfYu","./kernels/NonMaxSuppressionV5":"bFZW5","./kernels/NotEqual":"8PmXt","./kernels/OneHot":"9UKsB","./kernels/OnesLike":"5qzqZ","./kernels/Pack":"285DF","./kernels/PadV2":"cPM0f","./kernels/Pow":"fjjJN","./kernels/Prelu":"hKEQ2","./kernels/Prod":"86hgC","./kernels/RaggedGather":"lO0id","./kernels/RaggedRange":"cnTNV","./kernels/RaggedTensorToTensor":"81Cdw","./kernels/Range":"4h1hp","./kernels/Real":"6qlpK","./kernels/RealDiv":"iUejT","./kernels/Reciprocal":"fNpIP","./kernels/Relu":"gGAPp","./kernels/Relu6":"9JZ68","./kernels/Reshape":"6H6hL","./kernels/ResizeBilinear":"dWc3N","./kernels/ResizeBilinearGrad":"du8Jk","./kernels/ResizeNearestNeighbor":"7gECE","./kernels/ResizeNearestNeighborGrad":"6VT1N","./kernels/Reverse":"9FbSK","./kernels/RotateWithOffset":"5kGb7","./kernels/Round":"c5vi1","./kernels/Rsqrt":"SfuRF","./kernels/ScatterNd":"9Rgfy","./kernels/SearchSorted":"40J2J","./kernels/Select":"8Nz7e","./kernels/Selu":"5NFoo","./kernels/Sigmoid":"jHdzc","./kernels/Sign":"4sUn8","./kernels/Sin":"62ANC","./kernels/Sinh":"8WaMI","./kernels/Slice":"iDxWd","./kernels/Softmax":"eJrLx","./kernels/Softplus":"PDFMR","./kernels/SpaceToBatchND":"bV1d7","./kernels/SparseFillEmptyRows":"8eMbs","./kernels/SparseReshape":"fk8tO","./kernels/SparseSegmentMean":"cQ2ya","./kernels/SparseSegmentSum":"60YfT","./kernels/SparseToDense":"8t9gG","./kernels/SplitV":"62rfe","./kernels/Sqrt":"lDU8i","./kernels/Square":"c826Z","./kernels/SquaredDifference":"apPRv","./kernels/StaticRegexReplace":"2gqBP","./kernels/Step":"1y2AR","./kernels/StridedSlice":"1z9YY","./kernels/StringNGrams":"hh0nK","./kernels/StringSplit":"49WWg","./kernels/StringToHashBucketFast":"2jBtc","./kernels/Sub":"jG0ti","./kernels/Sum":"LM08R","./kernels/Tan":"5vSLP","./kernels/Tanh":"gP7aC","./kernels/TensorScatterUpdate":"f7tv2","./kernels/Tile":"eQPoO","./kernels/TopK":"fWPAl","./kernels/Transform":"1V89n","./kernels/Transpose":"4bepV","./kernels/Unique":"kjOyo","./kernels/Unpack":"8R0DV","./kernels/UnsortedSegmentSum":"ewYer","./kernels/ZerosLike":"6LVld"}],"8nF0b":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"_fusedMatMul",function(){return u}),a.export(r,"_fusedMatMulConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/fused_utils"),i=e("./Add"),c=e("./BatchMatMul");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,o=t.b,u=t.bias,l=t.preluActivationWeights,p=n.transposeA,f=n.transposeB,d=n.activation,h=n.leakyreluAlpha,m=[];x=(0,c.batchMatMul)({inputs:{a:a,b:o},attrs:{transposeA:p,transposeB:f},backend:r}),u&&(y=(0,i.add)({inputs:{a:x,b:u},backend:r}),m.push(x),x=y),d&&(b=(0,s.applyActivation)(r,x,d,l,h),m.push(x),x=b);var g=!0,v=!1,_=void 0;try{for(var x,y,b,k,j=m[Symbol.iterator]();!(g=(k=j.next()).done);g=!0){var w=k.value;r.disposeIntermediateTensorInfo(w)}}catch(e){v=!0,_=e}finally{try{g||null==j.return||j.return()}finally{if(v)throw _}}return x}var l={kernelName:o._FusedMatMul,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/fused_utils":"jV4Ms","./Add":"c644D","./BatchMatMul":"cxaHf","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jV4Ms:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"applyActivation",function(){return f});var o=e("../kernels/Elu"),s=e("../kernels/Identity"),i=e("../kernels/LeakyRelu"),c=e("../kernels/Prelu"),u=e("../kernels/Relu"),l=e("../kernels/Relu6"),p=e("../kernels/Sigmoid");function f(e,t,r,n,a){if("linear"===r)return(0,s.identity)({inputs:{x:t},backend:e});if("relu"===r)return(0,u.relu)({inputs:{x:t},backend:e});if("elu"===r)return(0,o.elu)({inputs:{x:t},backend:e});if("relu6"===r)return(0,l.relu6)({inputs:{x:t},backend:e});if("prelu"===r)return(0,c.prelu)({inputs:{x:t,alpha:n},backend:e});else if("leakyrelu"===r)return(0,i.leakyRelu)({inputs:{x:t},backend:e,attrs:{alpha:a}});else if("sigmoid"===r)return(0,p.sigmoid)({inputs:{x:t},backend:e});throw Error("Activation ".concat(r," has not been implemented for the CPU backend."))}},{"../kernels/Elu":"59v6u","../kernels/Identity":"egCYs","../kernels/LeakyRelu":"lWeX3","../kernels/Prelu":"hKEQ2","../kernels/Relu":"gGAPp","../kernels/Relu6":"9JZ68","../kernels/Sigmoid":"jHdzc","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"59v6u":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"elu",function(){return s}),a.export(r,"eluConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Elu,function(e){return e>=0?e:Math.exp(e)-1}),i={kernelName:o.Elu,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lWeX3:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"leakyRelu",function(){return i}),a.export(r,"leakyReluConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.alpha;(0,s.assertNotComplex)([a],"leakyRelu");for(var c=o.util.sizeFromShape(a.shape),u=r.data.get(a.dataId).values,l=o.util.getTypedArrayFromDType("float32",c),p=0;p<u.length;p++)l[p]=u[p]<0?i*u[p]:u[p];return r.makeTensorInfo(a.shape,"float32",l)}var c={kernelName:o.LeakyRelu,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hKEQ2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"prelu",function(){return u}),a.export(r,"preluConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=(0,e("../utils/binary_impl").createSimpleBinaryKernelImpl)(function(e,t){return e<0?t*e:e});function u(e){var t=e.inputs,r=e.backend,n=t.x,a=t.alpha;(0,i.assertNotComplex)([n,a],"prelu");var s=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=(0,o._)(c(n.shape,a.shape,s,u,"float32"),2),p=l[0],f=l[1];return r.makeTensorInfo(f,"float32",p)}var l={kernelName:s.Prelu,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/binary_impl":"6UPuq","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gGAPp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu",function(){return s}),a.export(r,"reluConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Relu,function(e){return Math.max(0,e)}),i={kernelName:o.Relu,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9JZ68":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"relu6",function(){return s}),a.export(r,"relu6Config",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Relu6,function(e){return Math.min(Math.max(0,e),6)}),i={kernelName:o.Relu6,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cxaHf:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchMatMul",function(){return u}),a.export(r,"batchMatMulConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.a,u=t.b,l=n.transposeA,p=n.transposeB;(0,i.assertNotComplex)([a,u],"matMul");var f=a.shape.length,d=u.shape.length,h=l?a.shape[f-2]:a.shape[f-1],m=p?u.shape[d-1]:u.shape[d-2],g=l?a.shape[f-1]:a.shape[f-2],v=p?u.shape[d-2]:u.shape[d-1],_=a.shape.slice(0,-2),x=u.shape.slice(0,-2),y=s.util.sizeFromShape(_),b=s.util.sizeFromShape(x),k=s.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),u.shape.slice(0,-2)).concat([g,v]);s.util.assert(h===m,function(){return"Error in matMul: inner shapes (".concat(h,") and (")+"".concat(m,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(u.shape," and transposeA=").concat(l)+" and transposeB=".concat(p," must match.")});for(var j=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:l?[y,h,g]:[y,g,h]}}),w=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:p?[b,v,m]:[b,m,v]}}),S=l?j.shape[1]:j.shape[2],I=l?j.shape[2]:j.shape[1],T=p?w.shape[1]:w.shape[2],N=Math.max(y,b),C=r.data.get(j.dataId).values,E=r.data.get(w.dataId).values,F=s.util.computeStrides(j.shape),A=s.util.computeStrides(w.shape),P=(0,o._)(l?[F[0],1,F[1]]:[F[0],F[1],1],3),R=P[0],D=P[1],M=P[2],O=(0,o._)(p?[1,A[1],A[0]]:[A[1],1,A[0]],3),L=O[0],V=O[1],U=O[2],B=I*T,z=(0,s.buffer)([N,I,T],j.dtype),G=z.values,W=r.blockSize,q=0;q<N;q++)for(var H=q%y,Z=q%b,K=0;K<I;K+=W)for(var X=Math.min(K+W,I),Y=0;Y<T;Y+=W)for(var J=Math.min(Y+W,T),Q=0;Q<S;Q+=W)for(var $=Math.min(Q+W,S),ee=K;ee<X;ee++)for(var et=Y;et<J;et++){for(var er=0,en=Q;en<$;en++)er+=C[H*R+ee*D+en*M]*E[en*L+et*V+Z*U];G[q*B+(ee*T+et)]+=er}return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(w),r.makeTensorInfo(k,z.dtype,z.values)}var l={kernelName:s.BatchMatMul,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6H6hL":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reshape",function(){return s}),a.export(r,"reshapeConfig",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.shape,i=o.util.sizeFromShape(a.shape),c=o.util.inferFromImplicitShape(s,i),u=o.util.sizeFromShape(c);o.util.assert(i===u,function(){return"The new shape (".concat(c,") has ").concat(u," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."}),r.incRef(a.dataId);var l=r.data.get(a.dataId);if(null!=l.complexTensorInfos){var p=l.complexTensorInfos.real,f=l.complexTensorInfos.imag;p.shape=c,f.shape=c}return{dataId:a.dataId,shape:c,dtype:a.dtype}}var i={kernelName:o.Reshape,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gijYi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acos",function(){return s}),a.export(r,"acosConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Acos,function(e){return Math.acos(e)}),i={kernelName:o.Acos,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7b4JJ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"acosh",function(){return s}),a.export(r,"acoshConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Acosh,function(e){return Math.acosh(e)}),i={kernelName:o.Acosh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ak0R1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"addN",function(){return i}),a.export(r,"addNConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend;(0,s.assertNotComplex)(t,"addN");for(var n=t.map(function(e){return r.data.get(e.dataId).values}),a=(0,o.buffer)(t[0].shape,t[0].dtype),i=a.values,c=0;c<t.length;c++)for(var u=n[c],l=0;l<i.length;l++)i[l]+=u[l];return r.makeTensorInfo(a.shape,a.dtype,a.values)}var c={kernelName:o.AddN,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f6yuo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"all",function(){return l}),a.export(r,"allConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"all");var f=s.util.parseAxisParam(l,a.shape),d=f,h=s.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=s.backend_util.getInnerMostAxes(d.length,a.shape.length)),s.backend_util.assertAxesAreInnerMostDims("all",d,m.shape.length);for(var g=(0,o._)(s.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=s.util.sizeFromShape(_),y=s.util.makeZerosTypedArray(s.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],S=0;S<x;++S){var I=b[j+S];w=w&&I}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var T=r.makeTensorInfo(v,m.dtype,y);if(p){var N=s.backend_util.expandShapeToKeepDim(v,f),C=(0,c.reshape)({inputs:{x:T},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(T),C}return T}var p={kernelName:s.All,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d0lPN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"any",function(){return l}),a.export(r,"anyConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"any");var f=s.util.parseAxisParam(l,a.shape),d=f,h=s.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=s.backend_util.getInnerMostAxes(d.length,a.shape.length)),s.backend_util.assertAxesAreInnerMostDims("any",d,m.shape.length);for(var g=(0,o._)(s.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=s.util.sizeFromShape(_),y=s.util.makeZerosTypedArray(s.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],S=0;S<x;++S){var I=b[j+S];w=w||I}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var T=r.makeTensorInfo(v,m.dtype,y);if(p){var N=s.backend_util.expandShapeToKeepDim(v,f),C=(0,c.reshape)({inputs:{x:T},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(T),C}return T}var p={kernelName:s.Any,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bBmWB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMax",function(){return u}),a.export(r,"argMaxConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis;(0,i.assertNotComplex)(a,"argMax");var l=s.util.parseAxisParam(u,a.shape),p=s.backend_util.getAxesPermutation(l,a.shape.length),f=a,d=[];null!=p&&(d.push(f=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}})),l=s.backend_util.getInnerMostAxes(l.length,f.shape.length)),l=[l[0]],s.backend_util.assertAxesAreInnerMostDims("argMax",l,f.shape.length);for(var h=(0,o._)(s.backend_util.computeOutAndReduceShapes(f.shape,l),2),m=h[0],g=h[1],v=s.util.sizeFromShape(m),_=s.util.makeZerosTypedArray(v,"int32"),x=s.util.sizeFromShape(g),y=r.data.get(f.dataId).values,b=0;b<_.length;++b){for(var k=b*x,j=y[k],w=0,S=0;S<x;++S){var I=y[k+S];I>j&&(j=I,w=S)}_[b]=w}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(m,"int32",_)}var l={kernelName:s.ArgMax,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bRKht:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"argMin",function(){return u}),a.export(r,"argMinConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Transpose");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis;(0,i.assertNotComplex)(a,"argMin");var l=s.util.parseAxisParam(u,a.shape),p=s.backend_util.getAxesPermutation(l,a.shape.length),f=a,d=[];null!=p&&(d.push(f=(0,c.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}})),l=s.backend_util.getInnerMostAxes(l.length,f.shape.length)),l=[l[0]],s.backend_util.assertAxesAreInnerMostDims("argMin",l,f.shape.length);for(var h=(0,o._)(s.backend_util.computeOutAndReduceShapes(f.shape,l),2),m=h[0],g=h[1],v=s.util.sizeFromShape(m),_=s.util.makeZerosTypedArray(v,"int32"),x=s.util.sizeFromShape(g),y=r.data.get(f.dataId).values,b=0;b<_.length;++b){for(var k=b*x,j=y[k],w=0,S=0;S<x;++S){var I=y[k+S];I<j&&(j=I,w=S)}_[b]=w}return d.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.makeTensorInfo(m,"int32",_)}var l={kernelName:s.ArgMin,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9cpcf":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asin",function(){return s}),a.export(r,"asinConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Asin,function(e){return Math.asin(e)}),i={kernelName:o.Asin,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4qPH5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"asinh",function(){return s}),a.export(r,"asinhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Asinh,function(e){return Math.asinh(e)}),i={kernelName:o.Asinh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cGPUn:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan",function(){return s}),a.export(r,"atanConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Atan,function(e){return Math.atan(e)}),i={kernelName:o.Atan,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"41y38":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atan2Impl",function(){return c}),a.export(r,"atan2",function(){return u}),a.export(r,"atan2Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return Math.atan2(e,t)}),u=(0,i.binaryKernelFunc)(o.Atan2,c),l={kernelName:o.Atan2,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3dhmC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"atanh",function(){return s}),a.export(r,"atanhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Atanh,function(e){return Math.atanh(e)}),i={kernelName:o.Atanh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7igBo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool",function(){return u}),a.export(r,"avgPoolConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils"),c=e("./Identity");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x;(0,s.assertNotComplex)(u,"avgPool");var l=a.filterSize,p=a.strides,f=a.pad,d=a.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(p,1),function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(1,"'")});var h=o.backend_util.computePool2DInfo(u.shape,l,p,1,f,d);if(1===h.filterWidth&&1===h.filterHeight&&o.util.arraysEqual(h.inShape,h.outShape))t=(0,c.identity)({inputs:{x:u},backend:n});else{var m=n.data.get(u.dataId).values,g=o.util.computeStrides(u.shape),v=(0,i.pool)(m,u.shape,u.dtype,g,h,"avg");t=n.makeTensorInfo(h.outShape,u.dtype,v.values)}return t}var l={kernelName:o.AvgPool,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","./Identity":"egCYs","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bEi1m:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pool",function(){return s}),a.export(r,"maxPoolPositions",function(){return i}),a.export(r,"pool3d",function(){return c}),a.export(r,"maxPool3dPositions",function(){return u});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a,s){for(var i=a.strideHeight,c=a.strideWidth,u=a.dilationHeight,l=a.dilationWidth,p=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,m="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=(0,o.buffer)(a.outShape,r),v=g.values,_=a.outShape[1]*a.outShape[2]*a.outShape[3],x=a.outShape[2]*a.outShape[3],y=a.outShape[3],b=0;b<a.batchSize;++b)for(var k=b*_,j=b*n[0],w=0;w<a.inChannels;++w)for(var S=0;S<a.outHeight;++S)for(var I=S*i-d,T=Math.max(0,I),N=Math.min(a.inHeight,p+I),C=k+S*x,E=0;E<a.outWidth;++E){for(var F=E*c-h,A=Math.max(0,F),P=Math.min(a.inWidth,f+F),R=m,D=0,M=0,O=T;O<N;O+=u){for(var L=j+O*n[1],V=A;V<P;V+=l){var U=e[L+V*n[2]+w];"max"===s&&U>R?R=U:"avg"===s&&(D+=U,M++)}if(isNaN(R))break}v[C+E*y+w]="avg"===s?D/M:R}return g}function i(e,t,r,n){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=(0,o.buffer)(n.outShape,"int32"),c=n.strideHeight,u=n.strideWidth,l=n.dilationHeight,p=n.dilationWidth,f=n.effectiveFilterHeight,d=n.effectiveFilterWidth,h=n.padInfo.top,m=n.padInfo.left,g=(0,o.buffer)(t,r,e),v=0;v<n.batchSize;++v)for(var _=0;_<n.inChannels;++_)for(var x=0;x<n.outHeight;++x){for(var y=x*c-h,b=y;b<0;)b+=l;for(var k=Math.min(n.inHeight,f+y),j=0;j<n.outWidth;++j){for(var w=j*u-m,S=w;S<0;)S+=p;for(var I=Math.min(n.inWidth,d+w),T=Number.NEGATIVE_INFINITY,N=-1,C=b;C<k;C+=l)for(var E=C-y,F=S;F<I;F+=p){var A=F-w,P=g.get(v,C,F,_);P>T&&(T=P,N=a?s?((v*n.inHeight+C)*n.inWidth+F)*n.inChannels+_:(C*n.inWidth+F)*n.inChannels+_:E*d+A)}i.set(N,v,x,j,_)}}return i}function c(e,t,r,n,a,s){for(var i=a.strideDepth,c=a.strideHeight,u=a.strideWidth,l=a.dilationDepth,p=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,g=a.padInfo.front,v=a.padInfo.top,_=a.padInfo.left,x="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=(0,o.buffer)(a.outShape,r),b=y.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],j=a.outShape[2]*a.outShape[3]*a.outShape[4],w=a.outShape[3]*a.outShape[4],S=a.outShape[4],I=0;I<a.batchSize;++I)for(var T=I*k,N=I*n[0],C=0;C<a.inChannels;++C)for(var E=0;E<a.outDepth;++E){for(var F=E*i-g,A=F;A<0;)A+=l;for(var P=Math.min(a.inDepth,d+F),R=T+E*j,D=0;D<a.outHeight;++D){for(var M=D*c-v,O=M;O<0;)O+=p;for(var L=Math.min(a.inHeight,h+M),V=R+D*w,U=0;U<a.outWidth;++U){for(var B=U*u-_,z=B;z<0;)z+=f;for(var G=Math.min(a.inWidth,m+B),W=V+U*S,q=x,H=0,Z=0,K=A;K<P;K+=l){for(var X=N+K*n[1],Y=O;Y<L;Y+=p){for(var J=X+Y*n[2],Q=z;Q<G;Q+=f){var $=e[J+Q*n[3]+C];if("max"===s&&$>q?q=$:"avg"===s&&(H+=$,Z++),isNaN(q))break}if(isNaN(q))break}if(isNaN(q))break}b[W+C]="avg"===s?H/Math.max(Z,1):q}}}return y}function u(e,t){for(var r=(0,o.buffer)(t.outShape,"int32"),n=t.strideDepth,a=t.strideHeight,s=t.strideWidth,i=t.dilationDepth,c=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,m=t.padInfo.left,g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var _=0;_<t.outDepth;++_){for(var x=_*n-d,y=x;y<0;)y+=i;for(var b=Math.min(t.inDepth,l+x),k=0;k<t.outHeight;++k){for(var j=k*a-h,w=j;w<0;)w+=c;for(var S=Math.min(t.inHeight,p+j),I=0;I<t.outWidth;++I){for(var T=I*s-m,N=T;N<0;)N+=u;for(var C=Math.min(t.inWidth,f+T),E=Number.NEGATIVE_INFINITY,F=-1,A=y;A<b;A+=i)for(var P=A-x,R=w;R<S;R+=c)for(var D=R-j,M=N;M<C;M+=u){var O=M-T,L=e.get(g,A,R,M,v);L>=E&&(E=L,F=P*p*f+D*p+O)}r.set(F,g,_,k,I,v)}}}return r}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i4yhx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3D",function(){return c}),a.export(r,"avgPool3DConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=n.dataFormat;(0,s.assertNotComplex)(a,"avgPool3d");var d=o.backend_util.computePool3DInfo(a.shape,c,u,1,l,p,f),h=r.data.get(a.dataId).values,m=(0,i.pool3d)(h,a.shape,a.dtype,o.util.computeStrides(a.shape),d,"avg");return r.makeTensorInfo(m.shape,"float32",m.values)}var u={kernelName:o.AvgPool3D,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kCrQy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPool3DGrad",function(){return i}),a.export(r,"avgPool3DGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode;(0,s.assertNotComplex)([a,i],"avgPool3DGrad");for(var f=o.backend_util.computePool3DInfo(i.shape,c,u,1,l,p),d=f.strideDepth,h=f.strideHeight,m=f.strideWidth,g=f.filterDepth,v=f.filterHeight,_=f.filterWidth,x=f.dilationDepth,y=f.dilationHeight,b=f.dilationWidth,k=f.effectiveFilterDepth,j=f.effectiveFilterHeight,w=f.effectiveFilterWidth,S=k-1-f.padInfo.front,I=w-1-f.padInfo.left,T=j-1-f.padInfo.top,N=(0,o.buffer)(i.shape,"float32"),C=1/(g*v*_),E=r.bufferSync(a),F=0;F<f.batchSize;++F)for(var A=0;A<f.inChannels;++A)for(var P=0;P<f.inDepth;++P)for(var R=0;R<f.inHeight;++R)for(var D=0;D<f.inWidth;++D){for(var M=P-S,O=R-T,L=D-I,V=0,U=0;U<k;U+=x){var B=(M+U)/d;if(!(B<0)&&!(B>=f.outDepth)&&Math.floor(B)===B)for(var z=0;z<j;z+=y){var G=(O+z)/h;if(!(G<0)&&!(G>=f.outHeight)&&Math.floor(G)===G)for(var W=0;W<w;W+=b){var q=(L+W)/m;q<0||q>=f.outWidth||Math.floor(q)!==q||(V+=E.get(F,B,G,q,A))}}}N.set(V*C,F,P,R,D,A)}return r.makeTensorInfo(N.shape,N.dtype,N.values)}var c={kernelName:o.AvgPool3DGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iijZz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"avgPoolGrad",function(){return i}),a.export(r,"avgPoolGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,i=t.input;(0,s.assertNotComplex)([a,i],"avgPoolGrad");for(var c=n.filterSize,u=n.strides,l=n.pad,p=o.backend_util.computePool2DInfo(i.shape,c,u,1,l),f=p.strideHeight,d=p.strideWidth,h=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,v=p.dilationWidth,_=p.effectiveFilterHeight,x=p.effectiveFilterWidth,y=x-1-p.padInfo.left,b=_-1-p.padInfo.top,k=(0,o.buffer)(i.shape,"float32"),j=1/(h*m),w=r.data.get(a.dataId).values,S=(0,o.buffer)(a.shape,"float32",w),I=0;I<p.batchSize;++I)for(var T=0;T<p.inChannels;++T)for(var N=0;N<p.inHeight;++N)for(var C=0;C<p.inWidth;++C){for(var E=N-b,F=C-y,A=0,P=0;P<_;P+=g){var R=(E+P)/f;if(!(R<0)&&!(R>=p.outHeight)&&Math.floor(R)===R)for(var D=0;D<x;D+=v){var M=(F+D)/d;M<0||M>=p.outWidth||Math.floor(M)!==M||(A+=S.get(I,R,M,T))}}k.set(A*j,I,N,C,T)}return r.makeTensorInfo(k.shape,k.dtype,k.values)}var c={kernelName:o.AvgPoolGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kEHUD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchNorm",function(){return i}),a.export(r,"batchNormConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.scale,c=t.offset,u=t.mean,l=t.variance;o.util.assert(u.shape.length===l.shape.length,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),o.util.assert(null==c||u.shape.length===c.shape.length,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),o.util.assert(null==i||u.shape.length===i.shape.length,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),(0,s.assertNotComplex)([a,u,l,i,c],"batchNorm");var p=n.varianceEpsilon;null==p&&(p=.001);for(var f=r.data.get(a.dataId).values,d=r.data.get(u.dataId).values,h=r.data.get(l.dataId).values,m=i?r.data.get(i.dataId).values:new Float32Array([1]),g=c?r.data.get(c.dataId).values:new Float32Array([0]),v=new Float32Array(f.length),_=g.length,x=m.length,y=h.length,b=d.length,k=0,j=0,w=0,S=0,I=0;I<f.length;++I)v[I]=g[k++]+(f[I]-d[j++])*m[w++]/Math.sqrt(h[S++]+p),k>=_&&(k=0),j>=b&&(j=0),w>=x&&(w=0),S>=y&&(S=0);return r.makeTensorInfo(a.shape,a.dtype,v)}var c={kernelName:o.FusedBatchNorm,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lhzql:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"batchToSpaceND",function(){return l}),a.export(r,"batchToSpaceNDConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Reshape"),c=e("./Slice"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.blockShape,p=n.crops;(0,s.assertNotComplex)([a],"batchToSpaceND");var f=l.reduce(function(e,t){return e*t}),d=o.backend_util.getReshaped(a.shape,l,f),h=o.backend_util.getPermuted(d.length,l.length),m=o.backend_util.getReshapedPermuted(a.shape,l,f),g=o.backend_util.getSliceBeginCoords(p,l.length),v=o.backend_util.getSliceSize(m,p,l.length),_=(0,i.reshape)({inputs:{x:a},backend:r,attrs:{shape:d}}),x=(0,u.transpose)({inputs:{x:_},backend:r,attrs:{perm:h}}),y=(0,i.reshape)({inputs:{x:x},backend:r,attrs:{shape:m}}),b=(0,c.slice)({inputs:{x:y},backend:r,attrs:{begin:g,size:v}});return r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),b}var p={kernelName:o.BatchToSpaceND,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","./Slice":"iDxWd","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aZccW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"bincount",function(){return i}),a.export(r,"bincountConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Bincount_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.weights,i=n.size,c=r.data.get(a.dataId).values,u=r.data.get(o.dataId).values,l=(0,s.bincountImpl)(c,u,o.dtype,o.shape,i);return r.makeTensorInfo([i],o.dtype,l)}var c={kernelName:o.Bincount,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Bincount_impl":"bFzaa","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hrwnH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"broadcastArgs",function(){return s}),a.export(r,"broadcastArgsConfig",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e){var t=e.inputs,r=e.backend,n=t.s0,a=t.s1,s=r.data.get(n.dataId).values,i=r.data.get(a.dataId).values,c=o.backend_util.assertAndGetBroadcastShape(Array.from(s),Array.from(i));return r.makeTensorInfo([c.length],"int32",Int32Array.from(c))}var i={kernelName:o.BroadcastArgs,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i2IyX:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"clipByValue",function(){return s}),a.export(r,"clipByValueConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.ClipByValue,function(e,t){return e>t.clipValueMax?t.clipValueMax:e<t.clipValueMin?t.clipValueMin:e}),i={kernelName:o.ClipByValue,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lpnOD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"complexAbs",function(){return s}),a.export(r,"complexAbsConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=function(e){for(var t=e.inputs.x,r=e.backend,n=new Float32Array(o.util.sizeFromShape(t.shape)),a=r.data.get(t.dataId),s=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,c=r.data.get(s.dataId).values,u=r.data.get(i.dataId).values,l=0;l<c.length;l++){var p=c[l],f=u[l];n[l]=Math.hypot(p,f)}return r.makeOutput(n,t.shape,"float32")},i={kernelName:o.ComplexAbs,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6eUup":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"concat",function(){return f}),a.export(r,"concatConfig",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("./Complex"),i=e("./Concat_impl"),c=e("./Identity"),u=e("./Imag"),l=e("./Real"),p=e("./Reshape");function f(e){var t=e.inputs,r=e.backend,n=e.attrs.axis,a=o.util.parseAxisParam(n,t[0].shape)[0],d=t.map(function(e){return e.shape});o.backend_util.assertParamsConsistent(d,a);var h=o.backend_util.computeOutShape(t.map(function(e){return e.shape}),a);if(0===o.util.sizeFromShape(h))return r.makeTensorInfo(h,t[0].dtype,[]);var m=t.filter(function(e){return o.util.sizeFromShape(e.shape)>0});if(1===m.length)return(0,c.identity)({inputs:{x:m[0]},backend:r});if("complex64"===m[0].dtype){var g=m.map(function(e){return(0,l.real)({inputs:{input:e},backend:r})}),v=m.map(function(e){return(0,u.imag)({inputs:{input:e},backend:r})}),_=f({inputs:g,backend:r,attrs:{axis:a}}),x=f({inputs:v,backend:r,attrs:{axis:a}}),y=(0,s.complex)({inputs:{real:_,imag:x},backend:r});return g.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),v.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),y}var b=m.map(function(e){var t=o.util.sizeFromShape(e.shape.slice(a));return(0,p.reshape)({inputs:{x:e},backend:r,attrs:{shape:[-1,t]}})}),k=b.map(function(e){return{vals:r.data.get(e.dataId).values,shape:e.shape}});h=o.backend_util.computeOutShape(b.map(function(e){return e.shape}),1);var j=1===b[0].shape[0],w=(0,i.concatImpl)(k,h,t[0].dtype,j),S=o.backend_util.computeOutShape(m.map(function(e){return e.shape}),a),I=r.makeTensorInfo(S,t[0].dtype,w);return b.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),I}var d={kernelName:o.Concat,backendName:"cpu",kernelFunc:f}},{"@tensorflow/tfjs-core":"1q0U8","./Complex":"lGfJq","./Concat_impl":"ecYxT","./Identity":"egCYs","./Imag":"ea4z8","./Real":"6qlpK","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ea4z8:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){var t=e.inputs,r=e.backend,n=t.input,a=r.data.get(n.dataId).complexTensorInfos.imag,o=r.data.get(a.dataId).values;return r.makeTensorInfo(a.shape,a.dtype,o)}a.defineInteropFlag(r),a.export(r,"imag",function(){return o}),a.export(r,"imagConfig",function(){return s});var s={kernelName:e("@tensorflow/tfjs-core").Imag,backendName:"cpu",kernelFunc:o}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7TlW9":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2D",function(){return i}),a.export(r,"conv2DConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dilations,f=n.dimRoundingMode;(0,s.assertNotComplex)([a,i],"conv2d");for(var d=o.backend_util.convertConv2DDataFormat(l),h=o.backend_util.computeConv2DInfo(a.shape,i.shape,c,p,u,f,!1,d),m=h.filterHeight,g=h.filterWidth,v=h.dilationHeight,_=h.dilationWidth,x=h.padInfo.left,y=h.padInfo.top,b="channelsLast"===h.dataFormat,k=new(0,o.TensorBuffer)(h.outShape,a.dtype),j=o.util.computeStrides(a.shape),w=o.util.computeStrides(i.shape),S=j[0],I=b?j[1]:j[2],T=b?j[2]:1,N=b?1:j[1],C=k.strides[0],E=b?k.strides[1]:k.strides[2],F=b?k.strides[2]:1,A=b?1:k.strides[1],P=r.data.get(a.dataId).values,R=r.data.get(i.dataId).values,D=k.values,M=0;M<h.batchSize;++M)for(var O=M*S,L=M*C,V=0;V<h.outHeight;++V)for(var U=L+V*E,B=V*h.strideHeight-y,z=0;z<m;++z){var G=B+z*v;if(!(G<0)&&!(G>=h.inHeight))for(var W=z*w[0],q=O+G*I,H=0;H<h.outWidth;++H)for(var Z=U+H*F,K=H*h.strideWidth-x,X=0;X<g;++X){var Y=K+X*_;if(!(Y<0)&&!(Y>=h.inWidth))for(var J=W+X*w[1],Q=q+Y*T,$=J,ee=0;ee<h.inChannels;++ee){for(var et=P[Q+ee*N],er=0;er<h.outChannels;++er)D[Z+er*A]+=et*R[$+er];$+=h.outChannels}}}return r.makeTensorInfo(k.shape,k.dtype,D)}var c={kernelName:o.Conv2D,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iLxFS:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropFilter",function(){return i}),a.export(r,"conv2DBackpropFilterConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.pad,l=n.dataFormat,p=n.dimRoundingMode,f=n.filterShape;(0,s.assertNotComplex)([a,i],"conv2dBackpropFilter");for(var d=o.backend_util.convertConv2DDataFormat(l),h=o.backend_util.computeConv2DInfo(a.shape,f,c,1,u,p,!1,d),m=h.strideHeight,g=h.strideWidth,v=h.filterHeight,_=h.filterWidth,x="channelsLast"===h.dataFormat,y=new(0,o.TensorBuffer)(h.filterShape,"float32"),b=h.padInfo.left,k=h.padInfo.top,j=r.data.get(a.dataId).values,w=r.data.get(i.dataId).values,S=new(0,o.TensorBuffer)(a.shape,a.dtype,j),I=new(0,o.TensorBuffer)(i.shape,i.dtype,w),T=0;T<v;++T)for(var N=Math.max(0,Math.ceil((k-T)/m)),C=Math.min(h.outHeight,(h.inHeight+k-T)/m),E=0;E<_;++E)for(var F=Math.max(0,Math.ceil((b-E)/g)),A=Math.min(h.outWidth,(h.inWidth+b-E)/g),P=0;P<h.inChannels;++P)for(var R=0;R<h.outChannels;++R){for(var D=0,M=0;M<h.batchSize;++M)for(var O=N;O<C;++O)for(var L=T+O*m-k,V=F;V<A;++V){var U=E+V*g-b;x?D+=S.get(M,L,U,P)*I.get(M,O,V,R):D+=S.get(M,P,L,U)*I.get(M,R,O,V)}y.set(D,T,E,P,R)}return r.makeTensorInfo(y.shape,y.dtype,y.values)}var c={kernelName:o.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3AJU8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv2DBackpropInput",function(){return c}),a.export(r,"conv2DBackpropInputConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.inputShape,l=n.strides,p=n.pad,f=n.dataFormat,d=n.dimRoundingMode;(0,i.assertNotComplex)([a,c],"conv2dBackpropInput");var h=s.util.computeStrides(c.shape),m=s.util.computeStrides(a.shape),g=s.backend_util.convertConv2DDataFormat(f),v=s.backend_util.computeConv2DInfo(u,c.shape,l,1,p,d,!1,g),_=new(0,s.TensorBuffer)(v.inShape,"float32"),x=_.values,y=r.data.get(a.dataId).values,b=r.data.get(c.dataId).values,k=(0,o._)(h,3),j=k[0],w=k[1],S=k[2],I=v.batchSize,T=v.filterHeight,N=v.filterWidth,C=v.inChannels,E=v.inHeight,F=v.inWidth,A=v.outChannels,P=v.outHeight,R=v.outWidth,D=v.strideHeight,M=v.strideWidth;g=v.dataFormat;for(var O=T-1-v.padInfo.top,L=N-1-v.padInfo.left,V="channelsLast"===g,U=_.strides[0],B=V?_.strides[1]:_.strides[2],z=V?_.strides[2]:1,G=V?1:_.strides[1],W=m[0],q=V?m[1]:m[2],H=V?m[2]:1,Z=V?1:m[1],K=0;K<I;++K)for(var X=0;X<C;++X)for(var Y=0;Y<E;++Y)for(var J=Y-O,Q=Math.max(0,Math.ceil(J/D)),$=Math.min(P,(T+J)/D),ee=0;ee<F;++ee){for(var et=ee-L,er=Math.max(0,Math.ceil(et/M)),en=Math.min(R,(N+et)/M),ea=0,eo=Q;eo<$;++eo)for(var es=eo*D-J,ei=er;ei<en;++ei)for(var ec=ei*M-et,eu=W*K+q*eo+H*ei,el=j*(T-1-es)+w*(N-1-ec)+S*X,ep=0;ep<A;++ep)ea+=y[eu+Z*ep]*b[el+ep];x[U*K+B*Y+z*ee+G*X]=ea}return r.makeTensorInfo(_.shape,_.dtype,_.values)}var u={kernelName:s.Conv2DBackpropInput,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"04hri":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3D",function(){return i}),a.export(r,"conv3DConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations;(0,s.assertNotComplex)([a,i],"conv3d");for(var p=o.backend_util.computeConv3DInfo(a.shape,i.shape,c,l,u),f=p.filterDepth,d=p.filterHeight,h=p.filterWidth,m=p.dilationDepth,g=p.dilationHeight,v=p.dilationWidth,_=p.padInfo,x=_.front,y=_.left,b=_.top,k=new(0,o.TensorBuffer)(p.outShape,a.dtype),j=r.data.get(a.dataId).values,w=r.data.get(i.dataId).values,S=k.values,I=o.util.computeStrides(a.shape),T=o.util.computeStrides(i.shape),N=0;N<p.batchSize;++N)for(var C=N*I[0],E=N*k.strides[0],F=0;F<p.outDepth;++F)for(var A=E+F*k.strides[1],P=F*p.strideDepth-x,R=0;R<f;++R){var D=P+R*m;if(!(D<0)&&!(D>=p.inDepth))for(var M=R*T[0],O=C+D*I[1],L=0;L<p.outHeight;++L)for(var V=A+L*k.strides[2],U=L*p.strideHeight-b,B=0;B<d;++B){var z=U+B*g;if(!(z<0)&&!(z>=p.inHeight))for(var G=M+B*T[1],W=O+z*I[2],q=0;q<p.outWidth;++q)for(var H=V+q*p.outChannels,Z=q*p.strideWidth-y,K=0;K<h;++K){var X=Z+K*v;if(!(X<0)&&!(X>=p.inWidth))for(var Y=G+K*T[2],J=W+X*p.inChannels,Q=Y,$=0;$<p.inChannels;++$){for(var ee=j[J+$],et=0;et<p.outChannels;++et)S[H+et]+=ee*w[Q+et];Q+=p.outChannels}}}}return r.makeTensorInfo(k.shape,k.dtype,k.values)}var c={kernelName:o.Conv3D,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],j8WPM:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropFilterV2",function(){return c}),a.export(r,"conv3DBackpropFilterV2Config",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=t.dy,u=n.strides,l=n.pad,p=n.filterShape;(0,i.assertNotComplex)([a,c],"conv3dBackpropFilterV2");for(var f=s.util.computeStrides(a.shape),d=s.util.computeStrides(c.shape),h=s.backend_util.computeConv3DInfo(a.shape,p,u,1,l),m=h.strideDepth,g=h.strideHeight,v=h.strideWidth,_=h.filterDepth,x=h.filterHeight,y=h.filterWidth,b=new(0,s.TensorBuffer)(h.filterShape,"float32"),k=b.values,j=(0,o._)(b.strides,4),w=j[0],S=j[1],I=j[2],T=j[3],N=r.data.get(c.dataId).values,C=(0,o._)(d,4),E=C[0],F=C[1],A=C[2],P=C[3],R=r.data.get(a.dataId).values,D=(0,o._)(f,4),M=D[0],O=D[1],L=D[2],V=D[3],U=h.padInfo.front,B=h.padInfo.left,z=h.padInfo.top,G=0;G<_;++G)for(var W=Math.max(0,Math.ceil((U-G)/m)),q=Math.min(h.outDepth,(h.inDepth+U-G)/m),H=G*w,Z=0;Z<x;++Z)for(var K=Math.max(0,Math.ceil((z-Z)/g)),X=Math.min(h.outHeight,(h.inHeight+z-Z)/g),Y=Z*S+H,J=0;J<y;++J)for(var Q=Math.max(0,Math.ceil((B-J)/v)),$=Math.min(h.outWidth,(h.inWidth+B-J)/v),ee=J*I+Y,et=0;et<h.inChannels;++et)for(var er=et*T+ee,en=0;en<h.outChannels;++en){for(var ea=0,eo=0;eo<h.batchSize;++eo)for(var es=eo*M,ei=eo*E,ec=W;ec<q;++ec)for(var eu=(G+ec*m-U)*O+es,el=ec*F+ei,ep=K;ep<X;++ep)for(var ef=(Z+ep*g-z)*L+eu,ed=ep*A+el,eh=Q;eh<$;++eh){var em=(J+eh*v-B)*V+ef,eg=eh*P+ed;ea+=R[em+et]*N[eg+en]}k[er+en]=ea}return r.makeTensorInfo(b.shape,b.dtype,b.values)}var u={kernelName:s.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7HsmT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"conv3DBackpropInputV2",function(){return c}),a.export(r,"conv3DBackpropInputV2Config",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.pad,l=n.strides,p=n.inputShape;(0,i.assertNotComplex)([a],"conv3dBackpropInputV2");for(var f=s.util.computeStrides(a.shape),d=s.util.computeStrides(c.shape),h=s.backend_util.computeConv3DInfo(p,c.shape,l,1,u),m=new(0,s.TensorBuffer)(h.inShape,"float32"),g=m.values,v=(0,o._)(m.strides,4),_=v[0],x=v[1],y=v[2],b=v[3],k=r.data.get(a.dataId).values,j=(0,o._)(f,4),w=j[0],S=j[1],I=j[2],T=j[3],N=r.data.get(c.dataId).values,C=(0,o._)(d,4),E=C[0],F=C[1],A=C[2],P=C[3],R=h.batchSize,D=h.filterDepth,M=h.filterHeight,O=h.filterWidth,L=h.inChannels,V=h.inDepth,U=h.inHeight,B=h.inWidth,z=h.outChannels,G=h.outDepth,W=h.outHeight,q=h.outWidth,H=h.strideDepth,Z=h.strideHeight,K=h.strideWidth,X=D-1-h.padInfo.front,Y=M-1-h.padInfo.top,J=O-1-h.padInfo.left,Q=0;Q<R;++Q)for(var $=0;$<L;++$)for(var ee=0;ee<V;++ee)for(var et=ee-X,er=Math.max(0,Math.ceil(et/H)),en=Math.min(G,(D+et)/H),ea=0;ea<U;++ea)for(var eo=ea-Y,es=Math.max(0,Math.ceil(eo/Z)),ei=Math.min(W,(M+eo)/Z),ec=0;ec<B;++ec){for(var eu=ec-J,el=Math.max(0,Math.ceil(eu/K)),ep=Math.min(q,(O+eu)/K),ef=0,ed=er;ed<en;++ed)for(var eh=ed*H-et,em=es;em<ei;++em)for(var eg=em*Z-eo,ev=el;ev<ep;++ev)for(var e_=ev*K-eu,ex=w*Q+S*ed+I*em+T*ev,ey=E*(D-1-eh)+F*(M-1-eg)+A*(O-1-e_)+P*$,eb=0;eb<z;++eb)ef+=k[ex+eb]*N[ey+eb];g[_*Q+x*ee+y*ea+b*ec+$]=ef}return r.makeTensorInfo(m.shape,m.dtype,m.values)}var u={kernelName:s.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1ksRh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cos",function(){return s}),a.export(r,"cosConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Cos,function(e){return Math.cos(e)}),i={kernelName:o.Cos,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lA5Rm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cosh",function(){return s}),a.export(r,"coshConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Cosh,function(e){return Math.cosh(e)}),i={kernelName:o.Cosh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2JiT5":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cropAndResize",function(){return i}),a.export(r,"cropAndResizeConfig",function(){return c});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e){for(var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,i=t.boxes,c=t.boxInd,u=n.cropSize,l=n.method,p=n.extrapolationValue,f=(0,o._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=i.shape[0],_=(0,o._)(u,2),x=_[0],y=_[1],b=(0,s.buffer)([v,x,y,g],"float32"),k=r.data.get(i.dataId).values,j=r.data.get(c.dataId).values,w=r.data.get(a.dataId).values,S=s.util.computeStrides(a.shape),I=s.util.computeStrides(b.shape),T=0;T<v;T++){var N=4*T,C=k[N],E=k[N+1],F=k[N+2],A=k[N+3],P=j[T];if(!(P>=d))for(var R=x>1?(F-C)*(h-1)/(x-1):0,D=y>1?(A-E)*(m-1)/(y-1):0,M=0;M<x;M++){var O=x>1?C*(h-1)+M*R:.5*(C+F)*(h-1);if(O<0||O>h-1){for(var L=0;L<y;L++)for(var V=0;V<g;V++){var U=V+L*I[2]+M*I[1]+T*I[0];b.values[U]=p}continue}if("bilinear"===l)for(var B=Math.floor(O),z=Math.ceil(O),G=O-B,W=0;W<y;W++){var q=y>1?E*(m-1)+W*D:.5*(E+A)*(m-1);if(q<0||q>m-1){for(var H=0;H<g;H++){var Z=H+W*I[2]+M*I[1]+T*I[0];b.values[Z]=p}continue}for(var K=Math.floor(q),X=Math.ceil(q),Y=q-K,J=0;J<g;J++){var Q=J+K*S[2]+B*S[1]+P*S[0],$=w[Q],ee=w[Q=J+X*S[2]+B*S[1]+P*S[0]],et=w[Q=J+K*S[2]+z*S[1]+P*S[0]],er=w[Q=J+X*S[2]+z*S[1]+P*S[0]],en=$+(ee-$)*Y,ea=et+(er-et)*Y;Q=J+W*I[2]+M*I[1]+T*I[0],b.values[Q]=en+(ea-en)*G}}else for(var eo=0;eo<y;++eo){var es=y>1?E*(m-1)+eo*D:.5*(E+A)*(m-1);if(es<0||es>m-1){for(var ei=0;ei<g;ei++){var ec=ei+eo*I[2]+M*I[1]+T*I[0];b.values[ec]=p}continue}for(var eu=Math.round(es),el=Math.round(O),ep=0;ep<g;ep++){var ef=ep+eu*S[2]+el*S[1]+P*S[0],ed=ep+eo*I[2]+M*I[1]+T*I[0];b.values[ed]=w[ef]}}}}return r.makeTensorInfo(b.shape,b.dtype,b.values)}var c={kernelName:s.CropAndResize,backendName:"cpu",kernelFunc:i}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7H45a":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumprod",function(){return c}),a.export(r,"cumprodConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=n.exclusive,l=n.reverse;(0,s.assertNotComplex)(a,"cumprod");var p=o.backend_util.getAxesPermutation([c],a.shape.length),f=a;null!=p&&(f=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}}));var d=o.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==f.shape.length-1)throw Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(f.shape.length-1," but got axis=").concat(d));for(var h=(0,o.upcastType)(f.dtype,"int32"),m=o.util.makeOnesTypedArray(o.util.sizeFromShape(f.shape),h),g=r.data.get(f.dataId).values,v=f.shape[f.shape.length-1],_=l?function(e,t){return e+v-t-1}:function(e,t){return e+t},x=0;x<g.length;x+=v)for(var y=0;y<v;y++){var b=_(x,y);if(0===y)m[b]=u?1:g[b];else{var k=_(x,y-1);m[b]=u?g[k]*m[k]:g[b]*m[k]}}var j=r.makeTensorInfo(f.shape,h,m);if(null!=p){var w=o.backend_util.getUndoAxesPermutation(p),S=(0,i.transpose)({inputs:{x:j},backend:r,attrs:{perm:w}});return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(f),S}return j}var u={kernelName:o.Cumprod,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],IQRfB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"cumsum",function(){return c}),a.export(r,"cumsumConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Transpose");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.axis,u=n.exclusive,l=n.reverse;(0,s.assertNotComplex)(a,"cumsum");var p=o.backend_util.getAxesPermutation([c],a.shape.length),f=a;null!=p&&(f=(0,i.transpose)({inputs:{x:a},backend:r,attrs:{perm:p}}));var d=o.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(d!==f.shape.length-1)throw Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(f.shape.length-1," but got axis=").concat(d));for(var h=(0,o.upcastType)(f.dtype,"int32"),m=o.util.makeZerosTypedArray(o.util.sizeFromShape(f.shape),h),g=r.data.get(f.dataId).values,v=f.shape[f.shape.length-1],_=l?function(e,t){return e+v-t-1}:function(e,t){return e+t},x=0;x<g.length;x+=v)for(var y=0;y<v;y++){var b=_(x,y);if(0===y)m[b]=u?0:g[b];else{var k=_(x,y-1);m[b]=u?g[k]+m[k]:g[b]+m[k]}}var j=r.makeTensorInfo(f.shape,h,m);if(null!=p){var w=o.backend_util.getUndoAxesPermutation(p),S=(0,i.transpose)({inputs:{x:j},backend:r,attrs:{perm:w}});return r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(f),S}return j}var u={kernelName:o.Cumsum,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2hR06":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"denseBincount",function(){return i}),a.export(r,"denseBincountConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Bincount_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.weights,i=n.size,c=n.binaryOutput;if(1===a.shape.length){var u=r.data.get(a.dataId).values,l=r.data.get(o.dataId).values,p=(0,s.bincountImpl)(u,l,o.dtype,o.shape,i);return r.makeTensorInfo([i],o.dtype,p)}if(2===a.shape.length){var f=r.bufferSync(a),d=r.bufferSync(o),h=(0,s.bincountReduceImpl)(f,d,i,c);return r.makeTensorInfo(h.shape,o.dtype,h.values)}throw Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}var c={kernelName:o.DenseBincount,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Bincount_impl":"bFzaa","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7Bjft":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthToSpace",function(){return s}),a.export(r,"depthToSpaceConfig",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.blockSize,i=n.dataFormat;o.util.assert("NHWC"===i,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i)});for(var c=a.shape[0],u=a.shape[1],l=a.shape[2],p=a.shape[3],f=u*s,d=l*s,h=p/(s*s),m=r.data.get(a.dataId).values,g=new Float32Array(c*f*d*h),v=0,_=0;_<c;++_)for(var x=0;x<f;++x)for(var y=Math.floor(x/s),b=x%s,k=0;k<d;++k)for(var j=Math.floor(k/s),w=k%s,S=(b*s+w)*h,I=0;I<h;++I){var T=I+S+p*(j+l*(y+u*_));g[v++]=m[T]}return r.makeTensorInfo([c,f,d,h],a.dtype,g)}var i={kernelName:o.DepthToSpace,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h4ca7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNative",function(){return i}),a.export(r,"depthwiseConv2dNativeConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.filter,c=n.strides,u=n.pad,l=n.dilations,p=n.dimRoundingMode;(0,s.assertNotComplex)([a,i],"depthwiseConv2DNative");var f=o.util.computeStrides(a.shape),d=o.util.computeStrides(i.shape),h=l;null==h&&(h=[1,1]),o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(c,h),function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(h,"'")});for(var m=o.backend_util.computeConv2DInfo(a.shape,i.shape,c,h,u,p,!0),g=m.filterHeight,v=m.filterWidth,_=m.dilationHeight,x=m.dilationWidth,y=m.padInfo,b=y.left,k=y.top,j=m.outChannels/m.inChannels,w=new(0,o.TensorBuffer)(m.outShape,a.dtype),S=r.data.get(a.dataId).values,I=r.data.get(i.dataId).values,T=w.values,N=0;N<m.batchSize;++N)for(var C=N*f[0],E=N*w.strides[0],F=0;F<m.outHeight;++F)for(var A=E+F*w.strides[1],P=F*m.strideHeight-k,R=0;R<g;++R){var D=P+R*_;if(!(D<0)&&!(D>=m.inHeight))for(var M=R*d[0],O=C+D*f[1],L=0;L<m.outWidth;++L)for(var V=A+L*w.strides[2],U=L*m.strideWidth-b,B=0;B<v;++B){var z=U+B*x;if(!(z<0)&&!(z>=m.inWidth))for(var G=M+B*d[1],W=O+z*m.inChannels,q=V,H=G,Z=0;Z<m.inChannels;++Z){for(var K=S[W+Z],X=0;X<j;++X)T[q+X]+=K*I[H+X];q+=j,H+=j}}}return r.makeTensorInfo(w.shape,w.dtype,w.values)}var c={kernelName:o.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3E9tg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropFilter",function(){return i}),a.export(r,"depthwiseConv2dNativeBackpropFilterConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.dy,c=n.strides,u=n.dilations,l=n.pad,p=n.dimRoundingMode,f=n.filterShape;(0,s.assertNotComplex)([a,i],"depthwiseConv2dNativeBackpropFilter");for(var d=o.backend_util.computeConv2DInfo(a.shape,f,c,u,l,p,!0),h=d.strideHeight,m=d.strideWidth,g=d.filterHeight,v=d.filterWidth,_=new(0,o.TensorBuffer)(d.filterShape,"float32"),x=d.padInfo.left,y=d.padInfo.top,b=d.outChannels/d.inChannels,k=r.data.get(a.dataId).values,j=new(0,o.TensorBuffer)(a.shape,a.dtype,k),w=r.data.get(i.dataId).values,S=new(0,o.TensorBuffer)(i.shape,i.dtype,w),I=0;I<g;++I)for(var T=Math.max(0,Math.ceil((y-I)/h)),N=Math.min(d.outHeight,(d.inHeight+y-I)/h),C=0;C<v;++C)for(var E=Math.max(0,Math.ceil((x-C)/m)),F=Math.min(d.outWidth,(d.inWidth+x-C)/m),A=0;A<d.outChannels;++A){for(var P=Math.trunc(A/b),R=A%b,D=0,M=0;M<d.batchSize;++M)for(var O=T;O<N;++O)for(var L=I+O*h-y,V=E;V<F;++V){var U=C+V*m-x;D+=j.get(M,L,U,P)*S.get(M,O,V,A)}_.set(D,I,C,P,R)}return r.makeTensorInfo(_.shape,_.dtype,_.values)}var c={kernelName:o.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7SKx4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"depthwiseConv2dNativeBackpropInput",function(){return c}),a.export(r,"depthwiseConv2dNativeBackpropInputConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.filter,u=n.strides,l=n.dilations,p=n.pad,f=n.dimRoundingMode,d=n.inputShape;(0,i.assertNotComplex)([a,c],"depthwiseConv2DNativeBackpropInput");for(var h=s.util.computeStrides(a.shape),m=s.util.computeStrides(c.shape),g=s.backend_util.computeConv2DInfo(d,c.shape,u,l,p,f,!0),v=new(0,s.TensorBuffer)(g.inShape,"float32"),_=v.values,x=(0,o._)(v.strides,3),y=x[0],b=x[1],k=x[2],j=r.data.get(a.dataId).values,w=(0,o._)(h,3),S=w[0],I=w[1],T=w[2],N=r.data.get(c.dataId).values,C=(0,o._)(m,3),E=C[0],F=C[1],A=C[2],P=g.batchSize,R=g.filterHeight,D=g.filterWidth,M=g.inChannels,O=g.inHeight,L=g.inWidth,V=g.outChannels,U=g.outHeight,B=g.outWidth,z=g.strideHeight,G=g.strideWidth,W=R-1-g.padInfo.top,q=D-1-g.padInfo.left,H=V/M,Z=0;Z<P;++Z)for(var K=0;K<M;++K)for(var X=0;X<O;++X)for(var Y=X-W,J=Math.max(0,Math.ceil(Y/z)),Q=Math.min(U,(R+Y)/z),$=0;$<L;++$){for(var ee=$-q,et=Math.max(0,Math.ceil(ee/G)),er=Math.min(B,(D+ee)/G),en=0,ea=J;ea<Q;++ea)for(var eo=ea*z-Y,es=et;es<er;++es)for(var ei=es*G-ee,ec=S*Z+I*ea+T*es,eu=E*(R-1-eo)+F*(D-1-ei)+A*K,el=0;el<H;++el)en+=j[ec+(K*H+el)]*N[eu+el];_[y*Z+b*X+k*$+K]=en}return r.makeTensorInfo(v.shape,v.dtype,v.values)}var u={kernelName:s.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kMZqx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"diag",function(){return i}),a.export(r,"diagConfig",function(){return c});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e){for(var t=e.inputs,r=e.backend,n=t.x,a=s.util.sizeFromShape(n.shape),i=r.data.get(n.dataId).values,c=(0,s.buffer)([a,a],n.dtype),u=c.values,l=0;l<i.length;l++)u[l*a+l]=i[l];var p=(0,o._)(n.shape).concat((0,o._)(n.shape));return r.makeTensorInfo(p,c.dtype,c.values)}var c={kernelName:s.Diag,backendName:"cpu",kernelFunc:i}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5f7qq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DConfig",function(){return s});var o=e("@tensorflow/tfjs-core"),s={kernelName:o.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.filter,i=n.strides,c=n.pad,u=n.dilations,l=r.data.get(a.dataId).values,p=a.shape.length,f=r.data.get(s.dataId).values,d=s.shape.length,h=o.backend_util.computeDilation2DInfo(a.shape,s.shape,i,c,"NHWC",u),m=h.batchSize,g=h.inHeight,v=h.inWidth,_=h.inChannels,x=h.outHeight,y=h.outWidth,b=h.padInfo,k=h.strideHeight,j=h.strideWidth,w=h.filterHeight,S=h.filterWidth,I=h.dilationHeight,T=h.dilationWidth,N=h.outShape,C=o.util.sizeFromShape(N),E=N.length,F=o.util.getArrayFromDType(a.dtype,C),A=0;A<m;++A)for(var P=0;P<x;++P)for(var R=P*k-b.top,D=0;D<y;++D)for(var M=D*j-b.left,O=0;O<_;++O){for(var L=Number.MIN_SAFE_INTEGER,V=0;V<w;++V){var U=R+V*I;if(U>=0&&U<g)for(var B=0;B<S;++B){var z=M+B*T;if(z>=0&&z<v){var G=o.util.locToIndex([A,U,z,O],p,o.util.computeStrides(a.shape)),W=o.util.locToIndex([V,B,O],d,o.util.computeStrides(s.shape)),q=l[G]+f[W];q>L&&(L=q)}}}F[o.util.locToIndex([A,P,D,O],E,o.util.computeStrides(N))]=L}return{dataId:r.write(o.util.toTypedArray(F,a.dtype),N,a.dtype),shape:N,dtype:a.dtype}}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2MbTe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DBackpropFilterConfig",function(){return s});var o=e("@tensorflow/tfjs-core"),s={kernelName:o.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.filter,i=t.dy,c=n.strides,u=n.pad,l=n.dilations,p=o.util.toNestedArray(a.shape,r.data.get(a.dataId).values),f=o.util.toNestedArray(s.shape,r.data.get(s.dataId).values),d=o.backend_util.computeDilation2DInfo(a.shape,s.shape,c,u,"NHWC",l),h=d.batchSize,m=d.inHeight,g=d.inWidth,v=d.inChannels,_=d.outHeight,x=d.outWidth,y=d.padInfo,b=d.strideHeight,k=d.strideWidth,j=d.filterHeight,w=d.filterWidth,S=d.dilationHeight,I=d.dilationWidth,T=d.outShape;o.util.assert(i.rank===T.length,function(){return"Error in ".concat(o.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(i.rank)});for(var N=o.util.toNestedArray(T,r.data.get(i.dataId).values),C=o.util.makeZerosNestedTypedArray(s.shape,s.dtype),E=0;E<h;++E)for(var F=0;F<_;++F)for(var A=F*b-y.top,P=0;P<x;++P)for(var R=P*k-y.left,D=0;D<v;++D){for(var M=Number.MIN_SAFE_INTEGER,O=0,L=0,V=0;V<j;++V){var U=A+V*S;if(U>=0&&U<m)for(var B=0;B<w;++B){var z=R+B*I;if(z>=0&&z<g){var G=p[E][U][z][D]+f[V][B][D];G>M&&(M=G,O=V,L=B)}}}C[O][L][D]+=N[E][F][P][D]}return{dataId:r.write(o.util.toTypedArray(C,a.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],qvekz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"dilation2DBackpropInputConfig",function(){return s});var o=e("@tensorflow/tfjs-core"),s={kernelName:o.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=t.filter,i=t.dy,c=n.strides,u=n.pad,l=n.dilations,p=o.util.toNestedArray(a.shape,r.data.get(a.dataId).values),f=o.util.toNestedArray(s.shape,r.data.get(s.dataId).values),d=o.backend_util.computeDilation2DInfo(a.shape,s.shape,c,u,"NHWC",l),h=d.batchSize,m=d.inHeight,g=d.inWidth,v=d.inChannels,_=d.outHeight,x=d.outWidth,y=d.padInfo,b=d.strideHeight,k=d.strideWidth,j=d.filterHeight,w=d.filterWidth,S=d.dilationHeight,I=d.dilationWidth,T=d.outShape;o.util.assert(i.rank===T.length,function(){return"Error in ".concat(o.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(i.rank)});for(var N=o.util.toNestedArray(T,r.data.get(i.dataId).values),C=o.util.makeZerosNestedTypedArray(a.shape,a.dtype),E=0;E<h;++E)for(var F=0;F<_;++F)for(var A=F*b-y.top,P=0;P<x;++P)for(var R=P*k-y.left,D=0;D<v;++D){for(var M=Number.MIN_SAFE_INTEGER,O=A<0?0:A,L=R<0?0:R,V=0;V<j;++V){var U=A+V*S;if(U>=0&&U<m)for(var B=0;B<w;++B){var z=R+B*I;if(z>=0&&z<g){var G=p[E][U][z][D]+f[V][B][D];G>M&&(M=G,O=U,L=z)}}}C[E][O][L][D]+=N[E][F][P][D]}return{dataId:r.write(o.util.toTypedArray(C,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],j8XYA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"draw",function(){return s}),a.export(r,"drawConfig",function(){return i});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs");function s(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.image,s=n.canvas,i=n.options||{},c=i.contextOptions,u=i.imageOptions,l=(null==u?void 0:u.alpha)||1,p=(null==c?void 0:c.contextType)||"2d";if("2d"!==p)throw Error("Context type ".concat(c.contextType," is not supported by the CPU backend."));var f=s.getContext(p,(null==c?void 0:c.contextAttributes)||{});if(null==f)throw Error("Could not get the context with ".concat(p," type."));for(var d=(0,o._)(a.shape.slice(0,2),2),h=d[0],m=d[1],g=2===a.shape.length?1:a.shape[2],v=r.data.get(a.dataId).values,_="float32"===a.dtype?255:1,x=new Uint8ClampedArray(m*h*4),y=0;y<h*m;++y){for(var b=[0,0,0,255*l],k=0;k<g;k++){var j=v[y*g+k];if("float32"===a.dtype){if(j<0||j>1)throw Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(j,"."))}else if("int32"===a.dtype&&(j<0||j>255))throw Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(j,"."));1===g?(b[0]=j*_,b[1]=j*_,b[2]=j*_):b[k]=j*_}var w=4*y;x[w+0]=Math.round(b[0]),x[w+1]=Math.round(b[1]),x[w+2]=Math.round(b[2]),x[w+3]=Math.round(b[3])}s.width=m,s.height=h;var S=new ImageData(x,m,h);return f.putImageData(S,0,0),a}var i={kernelName:e("@tensorflow/tfjs-core").Draw,backendName:"cpu",kernelFunc:s}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jHgiu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"einsum",function(){return l}),a.export(r,"einsumConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("./Multiply"),i=e("./Reshape"),c=e("./Sum"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs.equation,a=o.backend_util.decodeEinsumEquation(n,t.length),l=a.allDims,p=a.summedDims,f=a.idDims;o.backend_util.checkEinsumDimSizes(l.length,f,t);for(var d=o.backend_util.getEinsumComputePath(p,f),h=d.path,m=d.steps,g=m.length,v=null,_=l.length,x=[],y=0;y<g;++y){var b=!0,k=!1,j=void 0;try{for(var w,S=m[y][Symbol.iterator]();!(b=(w=S.next()).done);b=!0){var I=w.value,T=o.backend_util.getEinsumPermutation(_,f[I]),N=T.permutationIndices,C=T.expandDims,E=void 0;o.backend_util.isIdentityPermutation(N)?E=t[I]:(E=(0,u.transpose)({inputs:{x:t[I]},backend:r,attrs:{perm:N}}),x.push(E));for(var F=E.shape.slice(),A=0;A<C.length;++A)F.splice(C[A],0,1);o.util.arraysEqual(E.shape,F)||(E=(0,i.reshape)({inputs:{x:E},backend:r,attrs:{shape:F}}),x.push(E)),null===v?v=E:(v=(0,s.multiply)({inputs:{a:E,b:v},backend:r}),x.push(v))}}catch(e){k=!0,j=e}finally{try{b||null==S.return||S.return()}finally{if(k)throw j}}y<g-1&&(h[y]>=0&&(v=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:h[y]-(l.length-_),keepDims:!1}}),x.push(v)),_--)}var P=!0,R=!1,D=void 0;try{for(var M,O=x[Symbol.iterator]();!(P=(M=O.next()).done);P=!0){var L=M.value;L!==v&&r.disposeIntermediateTensorInfo(L)}}catch(e){R=!0,D=e}finally{try{P||null==O.return||O.return()}finally{if(R)throw D}}return v}var p={kernelName:o.Einsum,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","./Multiply":"7VqTl","./Reshape":"6H6hL","./Sum":"LM08R","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],LM08R:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sum",function(){return d}),a.export(r,"sumConfig",function(){return h});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("../utils/zeros_impl"),u=e("./Cast"),l=e("./Identity"),p=e("./Reshape"),f=e("./Transpose");function d(e){var t,r=e.inputs,n=e.backend,a=e.attrs,d=r.x,h=a.axis,m=a.keepDims;(0,i.assertNotComplex)(d,"sum");var g=(t="bool"===d.dtype?(0,u.cast)({inputs:{x:d},backend:n,attrs:{dtype:"int32"}}):(0,l.identity)({inputs:{x:d},backend:n})).shape.length,v=s.util.parseAxisParam(h,t.shape),_=s.backend_util.getAxesPermutation(v,g),x=v,y=t;null!=_&&(y=(0,f.transpose)({inputs:{x:t},backend:n,attrs:{perm:_}}),x=s.backend_util.getInnerMostAxes(x.length,g)),s.backend_util.assertAxesAreInnerMostDims("sum",x,y.shape.length);for(var b=(0,o._)(s.backend_util.computeOutAndReduceShapes(y.shape,x),2),k=b[0],j=b[1],w=s.backend_util.upcastType(y.dtype,"int32"),S=(0,c.zeros)(n,k,w),I=s.util.sizeFromShape(j),T=n.data.get(S.dataId).values,N=n.data.get(y.dataId).values,C=0;C<T.length;++C){for(var E=C*I,F=0,A=0;A<I;++A)F+=N[E+A];T[C]=F}if(m){var P=s.backend_util.expandShapeToKeepDim(S.shape,v),R=S;S=(0,p.reshape)({inputs:{x:S},backend:n,attrs:{shape:P}}),n.disposeIntermediateTensorInfo(R)}return n.disposeIntermediateTensorInfo(t),null!=_&&n.disposeIntermediateTensorInfo(y),S}var h={kernelName:s.Sum,backendName:"cpu",kernelFunc:d}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/zeros_impl":"gOtVQ","./Cast":"frZja","./Identity":"egCYs","./Reshape":"6H6hL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lvE5b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"eluGrad",function(){return i}),a.export(r,"eluGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=t.dy,a=t.y;(0,s.assertNotComplex)([n,a],"eluGrad");for(var i=new Float32Array(o.util.sizeFromShape(a.shape)),c=r.data.get(a.dataId).values,u=r.data.get(n.dataId).values,l=0;l<c.length;++l){var p=c[l];p>=0?i[l]=u[l]:i[l]=u[l]*(p+1)}return r.makeTensorInfo(a.shape,"float32",i)}var c={kernelName:o.EluGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l2GJB:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"erf",function(){return d}),a.export(r,"erfConfig",function(){return h});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_utils"),i=o.backend_util.ERF_P,c=o.backend_util.ERF_A1,u=o.backend_util.ERF_A2,l=o.backend_util.ERF_A3,p=o.backend_util.ERF_A4,f=o.backend_util.ERF_A5,d=(0,s.unaryKernelFunc)(o.Erf,function(e){var t=Math.sign(e),r=Math.abs(e),n=1/(1+i*r);return t*(1-((((f*n+p)*n+l)*n+u)*n+c)*n*Math.exp(-r*r))}),h={kernelName:o.Erf,backendName:"cpu",kernelFunc:d}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],awARv:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"expandDims",function(){return i}),a.export(r,"expandDimsConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Reshape");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.input,i=n.dim,c=a.shape.length,u=a.shape.slice(),l=i;return i<0&&(o.util.assert(-(c+1)<=i,function(){return"Axis must be in the interval [".concat(-(c+1),", ").concat(c,"]")}),l=c+i+1),u.splice(l,0,1),(0,s.reshape)({inputs:{x:a},backend:r,attrs:{shape:u}})}var c={kernelName:o.ExpandDims,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hngIQ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fft",function(){return c}),a.export(r,"fftConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../utils/fft_utils"),i=e("./Reshape");function c(e){var t=e.inputs,r=e.backend,n=t.input,a=o.util.sizeFromShape(n.shape),c=n.shape[n.shape.length-1],u=(0,i.reshape)({inputs:{x:n},backend:r,attrs:{shape:[a/c,c]}}),l=(0,s.fftBatch)(u,!1,r),p=(0,i.reshape)({inputs:{x:l},backend:r,attrs:{shape:n.shape}});return r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(l),p}var u={kernelName:o.FFT,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../utils/fft_utils":"iwZ9F","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iwZ9F:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fftBatch",function(){return g}),a.export(r,"fftImpl",function(){return v});var o=e("@tensorflow/tfjs-core"),s=e("../kernels/Add"),i=e("../kernels/Complex"),c=e("../kernels/Concat"),u=e("../kernels/Identity"),l=e("../kernels/Imag"),p=e("../kernels/Multiply"),f=e("../kernels/Real"),d=e("../kernels/RealDiv"),h=e("../kernels/Slice"),m=e("../kernels/Sub");function g(e,t,r){for(var n=e.shape,a=n[0],s=n[1],c=r.data.get(e.dataId),u=c.complexTensorInfos.real,l=c.complexTensorInfos.imag,p=[a,s],f=o.util.sizeFromShape(p),d=o.util.getTypedArrayFromDType("float32",f),m=o.util.getTypedArrayFromDType("float32",f),g=0;g<a;g++){for(var _=(0,h.slice)({inputs:{x:u},backend:r,attrs:{begin:[g,0],size:[1,s]}}),x=(0,h.slice)({inputs:{x:l},backend:r,attrs:{begin:[g,0],size:[1,s]}}),y=(0,i.complex)({inputs:{real:_,imag:x},backend:r}),b=v(y,t,r),k=b.real,j=b.imag,w=o.backend_util.mergeRealAndImagArrays(k,j),S=0;S<s;S++){var I=o.backend_util.getComplexWithIndex(w,S);d[g*s+S]=I.real,m[g*s+S]=I.imag}r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y)}var T=r.makeTensorInfo(p,"float32",d),N=r.makeTensorInfo(p,"float32",m),C=(0,i.complex)({inputs:{real:T,imag:N},backend:r});return r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(N),C}function v(e,t,r){var n,a=o.util.sizeFromShape(e.shape),h=r.data.get(e.dataId),g=r.data.get(h.complexTensorInfos.real.dataId).values,v=r.data.get(h.complexTensorInfos.imag.dataId).values;if(((n=a)&n-1)==0){var _=function e(t,r,n,a,u){if(1===n)return{real:t,imag:r};var d=o.backend_util.mergeRealAndImagArrays(t,r),h=n/2,g=o.backend_util.complexWithEvenIndex(d),v=g.real,_=g.imag,x=[v.length],y=u.makeTensorInfo(x,"float32",v),b=u.makeTensorInfo(x,"float32",_),k=(0,i.complex)({inputs:{real:y,imag:b},backend:u}),j=o.backend_util.complexWithOddIndex(d),w=j.real,S=j.imag,I=[w.length],T=u.makeTensorInfo(I,"float32",w),N=u.makeTensorInfo(I,"float32",S),C=(0,i.complex)({inputs:{real:T,imag:N},backend:u}),E=e(v,_,h,a,u),F=E.real,A=E.imag,P=[F.length],R=u.makeTensorInfo(P,"float32",F),D=u.makeTensorInfo(P,"float32",A),M=(0,i.complex)({inputs:{real:R,imag:D},backend:u}),O=e(w,S,h,a,u),L=O.real,V=O.imag,U=[L.length],B=u.makeTensorInfo(U,"float32",L),z=u.makeTensorInfo(U,"float32",V),G=(0,i.complex)({inputs:{real:B,imag:z},backend:u}),W=o.backend_util.exponents(n,a),q=[W.real.length],H=u.makeTensorInfo(q,"float32",W.real),Z=u.makeTensorInfo(q,"float32",W.imag),K=(0,i.complex)({inputs:{real:H,imag:Z},backend:u}),X=(0,p.multiply)({inputs:{a:K,b:G},backend:u}),Y=(0,s.add)({inputs:{a:M,b:X},backend:u}),J=(0,m.sub)({inputs:{a:M,b:X},backend:u}),Q=(0,f.real)({inputs:{input:Y},backend:u}),$=(0,f.real)({inputs:{input:J},backend:u}),ee=(0,l.imag)({inputs:{input:Y},backend:u}),et=(0,l.imag)({inputs:{input:J},backend:u}),er=(0,c.concat)({inputs:[Q,$],backend:u,attrs:{axis:0}}),en=(0,c.concat)({inputs:[ee,et],backend:u,attrs:{axis:0}}),ea=u.data.get(er.dataId).values,eo=u.data.get(en.dataId).values;return u.disposeIntermediateTensorInfo(y),u.disposeIntermediateTensorInfo(b),u.disposeIntermediateTensorInfo(k),u.disposeIntermediateTensorInfo(T),u.disposeIntermediateTensorInfo(N),u.disposeIntermediateTensorInfo(C),u.disposeIntermediateTensorInfo(R),u.disposeIntermediateTensorInfo(D),u.disposeIntermediateTensorInfo(M),u.disposeIntermediateTensorInfo(B),u.disposeIntermediateTensorInfo(z),u.disposeIntermediateTensorInfo(G),u.disposeIntermediateTensorInfo(H),u.disposeIntermediateTensorInfo(Z),u.disposeIntermediateTensorInfo(K),u.disposeIntermediateTensorInfo(X),u.disposeIntermediateTensorInfo(Y),u.disposeIntermediateTensorInfo(J),u.disposeIntermediateTensorInfo(Q),u.disposeIntermediateTensorInfo(ee),u.disposeIntermediateTensorInfo($),u.disposeIntermediateTensorInfo(et),u.disposeIntermediateTensorInfo(er),u.disposeIntermediateTensorInfo(en),{real:ea,imag:eo}}(g,v,a,t,r),x=[e.shape[0],e.shape[1]];if(t){var y=r.makeTensorInfo(x,"float32",_.real),b=r.makeTensorInfo(x,"float32",_.imag),k=r.makeTensorInfo([],"float32",o.util.createScalarValue(a,"float32")),j=(0,u.identity)({inputs:{x:k},backend:r}),w=d.realDivConfig.kernelFunc({inputs:{a:y,b:k},backend:r}),S=d.realDivConfig.kernelFunc({inputs:{a:b,b:j},backend:r}),I=r.data.get(w.dataId).values,T=r.data.get(S.dataId).values;return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(k),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(S),{real:I,imag:T}}return _}var N=function(e,t,r){for(var n=new Float32Array(2*t),a=0;a<t;a++){for(var s=0,i=0,c=0;c<t;c++){var u=o.backend_util.exponent(a*c,t,r),l=o.backend_util.getComplexWithIndex(e,c);s+=l.real*u.real-l.imag*u.imag,i+=l.real*u.imag+l.imag*u.real}r&&(s/=t,i/=t),o.backend_util.assignToTypedArray(n,s,i,a)}return n}(o.backend_util.mergeRealAndImagArrays(g,v),a,t);return o.backend_util.splitRealAndImagArrays(N)}},{"@tensorflow/tfjs-core":"1q0U8","../kernels/Add":"c644D","../kernels/Complex":"lGfJq","../kernels/Concat":"6eUup","../kernels/Identity":"egCYs","../kernels/Imag":"ea4z8","../kernels/Multiply":"7VqTl","../kernels/Real":"6qlpK","../kernels/RealDiv":"iUejT","../kernels/Slice":"iDxWd","../kernels/Sub":"jG0ti","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],iUejT:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"realDivImpl",function(){return c}),a.export(r,"div",function(){return u}),a.export(r,"realDivConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e/t}),u=(0,i.binaryKernelFunc)(o.RealDiv,c),l={kernelName:o.RealDiv,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5uq7y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fill",function(){return s}),a.export(r,"fillConfig",function(){return i});var o=e("@tensorflow/tfjs-core");function s(e){var t,r,n,a=e.backend,s=e.attrs,i=s.shape,c=s.value,u=s.dtype||o.util.inferDtype(c),l=o.util.getArrayFromDType(u,o.util.sizeFromShape(i));return t=l,r=c,n=0,t.fill(r),a.makeTensorInfo(i,u,l)}var i={kernelName:o.Fill,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ayHd4:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"flipLeftRightConfig",function(){return i});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i={kernelName:s.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=(e.attrs,e.backend),n=t.image,a=s.util.getTypedArrayFromDType(n.dtype,s.util.sizeFromShape(n.shape)),i=(0,o._)(n.shape,4),c=i[0],u=i[1],l=i[2],p=i[3],f=r.data.get(n.dataId).values,d=0;d<c;d++)for(var h=d*l*u*p,m=0;m<u;m++)for(var g=l*p*m,v=0;v<l;v++)for(var _=v*p,x=0;x<p;x++){var y=Math.round(l-v-1),b=h+g+_+x,k=f[b];y>=0&&y<l&&(k=f[h+g+y*p+x]),a[b]=k}return{dataId:r.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],aqTTi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedConv2D",function(){return l}),a.export(r,"fusedConv2DConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../utils/fused_utils"),i=e("./Add"),c=e("./Conv2D"),u=e("./Reshape");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.filter,l=t.bias,p=t.preluActivationWeights,f=n.strides,d=n.pad,h=n.dataFormat,m=n.dilations,g=n.dimRoundingMode,v=n.activation,_=n.leakyreluAlpha,x=(0,c.conv2D)({inputs:{x:a,filter:o},backend:r,attrs:{strides:f,pad:d,dataFormat:h,dilations:m,dimRoundingMode:g}});if(l){var y=x;if("NCHW"===h&&1===l.shape.length&&1!==l.shape[0]){var b=(0,u.reshape)({inputs:{x:l},backend:r,attrs:{shape:[l.shape[0],1,1]}});x=(0,i.add)({inputs:{a:x,b:b},backend:r}),r.disposeIntermediateTensorInfo(b)}else x=(0,i.add)({inputs:{a:x,b:l},backend:r});r.disposeIntermediateTensorInfo(y)}if(v){var k=x;if("NCHW"===h&&"prelu"===v&&1===p.shape.length&&1!==p.shape[0]){var j=(0,u.reshape)({inputs:{x:p},backend:r,attrs:{shape:[p.shape[0],1,1]}});x=(0,s.applyActivation)(r,x,v,j,_),r.disposeIntermediateTensorInfo(j)}else x=(0,s.applyActivation)(r,x,v,p,_);r.disposeIntermediateTensorInfo(k)}return x}var p={kernelName:o.FusedConv2D,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../utils/fused_utils":"jV4Ms","./Add":"c644D","./Conv2D":"7TlW9","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],IAXoF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"fusedDepthwiseConv2D",function(){return u}),a.export(r,"fusedDepthwiseConv2DConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/fused_utils"),i=e("./Add"),c=e("./DepthwiseConv2dNative");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=t.filter,u=t.bias,l=t.preluActivationWeights,p=n.strides,f=n.pad,d=n.dataFormat,h=n.dilations,m=n.dimRoundingMode,g=n.activation,v=n.leakyreluAlpha,_=(0,c.depthwiseConv2dNative)({inputs:{x:a,filter:o},backend:r,attrs:{strides:p,pad:f,dataFormat:d,dilations:h,dimRoundingMode:m}});if(u){var x=_;_=(0,i.add)({inputs:{a:_,b:u},backend:r}),r.disposeIntermediateTensorInfo(x)}if(g){var y=_;_=(0,s.applyActivation)(r,_,g,l,v),r.disposeIntermediateTensorInfo(y)}return _}var l={kernelName:o.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/fused_utils":"jV4Ms","./Add":"c644D","./DepthwiseConv2dNative":"h4ca7","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"37Mvh":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherNd",function(){return c}),a.export(r,"gatherNdConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./GatherNd_Impl");function c(e){var t=e.inputs,r=e.backend,n=t.params,a=t.indices,c=s.util.sizeFromShape(n.shape),u=a.shape,l=u[u.length-1],p=(0,o._)(s.backend_util.prepareAndValidate(n,a),4),f=p[0],d=p[1],h=p[2],m=p[3];if(0===d)return r.makeTensorInfo(f,n.dtype,[]);var g=r.data.get(a.dataId).values,v=r.bufferSync(n),_=(0,i.gatherNdImpl)(g,v,n.dtype,d,l,h,m,n.shape,c);return r.makeTensorInfo(f,n.dtype,_.values)}var u={kernelName:s.GatherNd,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./GatherNd_Impl":"kdGnX","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5NwqA":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"gatherV2",function(){return u}),a.export(r,"gatherV2Config",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./GatherV2_impl"),c=e("./Reshape");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=t.indices,l=n.axis,p=n.batchDims;(0,s.assertNotComplex)([a,u],"gatherV2");for(var f=o.util.parseAxisParam(l,a.shape)[0],d=r.data.get(u.dataId).values,h=a.shape[f],m=0;m<d.length;++m)!function(e){var t=d[e];o.util.assert(t<=h-1&&t>=0,function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(h-1,"]")})}(m);var g=p;null==p&&(g=0);var v=o.util.sizeFromShape(u.shape),_=o.backend_util.segment_util.collectGatherOpShapeInfo(a,u,f,g),x=(0,c.reshape)({inputs:{x:a},backend:r,attrs:{shape:[_.batchSize,_.outerSize,_.dimSize,_.sliceSize]}}),y=(0,c.reshape)({inputs:{x:u},backend:r,attrs:{shape:[_.batchSize,v/_.batchSize]}}),b=[_.batchSize,_.outerSize,v/_.batchSize,_.sliceSize],k=r.bufferSync(y),j=r.bufferSync(x),w=(0,i.gatherV2Impl)(j,k,b);return r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.makeTensorInfo(_.outputShape,w.dtype,w.values)}var l={kernelName:o.GatherV2,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./GatherV2_impl":"7K74R","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dqOgF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ifft",function(){return c}),a.export(r,"ifftConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../utils/fft_utils"),i=e("./Reshape");function c(e){var t=e.inputs,r=e.backend,n=t.input,a=o.util.sizeFromShape(n.shape),c=n.shape[n.shape.length-1],u=(0,i.reshape)({inputs:{x:n},backend:r,attrs:{shape:[a/c,c]}}),l=(0,s.fftBatch)(u,!0,r),p=(0,i.reshape)({inputs:{x:l},backend:r,attrs:{shape:n.shape}});return r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(l),p}var u={kernelName:o.IFFT,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../utils/fft_utils":"iwZ9F","./Reshape":"6H6hL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e1Md9:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isFinite",function(){return s}),a.export(r,"isFiniteConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.IsFinite,function(e){return+!!Number.isFinite(e)},"bool"),i={kernelName:o.IsFinite,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5osxa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isInf",function(){return s}),a.export(r,"isInfConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.IsInf,function(e){return+(Math.abs(e)===1/0)},"bool"),i={kernelName:o.IsInf,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],b7P9r:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"isNaN",function(){return s}),a.export(r,"isNaNConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.IsNan,function(e){return+!!Number.isNaN(e)},"bool"),i={kernelName:o.IsNan,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bxKPR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"linSpace",function(){return i}),a.export(r,"linSpaceConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./LinSpace_impl");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,o=r.num,i=(0,s.linSpaceImpl)(n,a,o);return t.makeTensorInfo([i.length],"float32",i)}var c={kernelName:o.LinSpace,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./LinSpace_impl":"k5EMU","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3c6Bp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"log1p",function(){return s}),a.export(r,"log1pConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Log1p,function(e){return Math.log1p(e)}),i={kernelName:o.Log1p,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"76uqO":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalAndImpl",function(){return c}),a.export(r,"logicalAnd",function(){return u}),a.export(r,"logicalAndConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e&&t}),u=(0,i.binaryKernelFunc)(o.LogicalAnd,c,null,"bool"),l={kernelName:o.LogicalAnd,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5xrJV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalNot",function(){return s}),a.export(r,"logicalNotConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.LogicalNot,function(e){return+!e},"bool"),i={kernelName:o.LogicalNot,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bUrRJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"logicalOrImpl",function(){return c}),a.export(r,"logicalOr",function(){return u}),a.export(r,"logicalOrConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return e||t}),u=(0,i.binaryKernelFunc)(o.LogicalOr,c,null,"bool"),l={kernelName:o.LogicalOr,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1CjBP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lRN",function(){return i}),a.export(r,"LRNConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.depthRadius,c=n.bias,u=n.alpha,l=n.beta;(0,s.assertNotComplex)(a,"LRN");for(var p=a.shape[3],f=p-1,d=r.data.get(a.dataId).values,h=o.util.sizeFromShape(a.shape),m=new Float32Array(h),g=0;g<h;g++){var v=function(e){for(var t=e%p,r=e-t+Math.max(0,t-i),n=e-t+Math.min(t+i,f),a=0;r<=n;r++){var o=d[r];a+=o*o}return a}(g),_=d[g]*Math.pow(c+u*v,-l);m[g]=_}return r.makeTensorInfo(a.shape,a.dtype,m)}var c={kernelName:o.LRN,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cj1al:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"lRNGrad",function(){return i}),a.export(r,"LRNGradConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=t.y,c=t.dy,u=n.depthRadius,l=n.bias,p=n.alpha,f=n.beta;(0,s.assertNotComplex)(c,"LRNGrad");for(var d=o.util.sizeFromShape(c.shape),h=c.shape[3],m=r.data.get(c.dataId).values,g=r.data.get(a.dataId).values,v=r.data.get(i.dataId).values,_=new Float32Array(d),x=0;x<d;x++){for(var y=x%h,b=x-y+Math.max(0,y-u),k=x-y+Math.min(h,y+u+1),j=0,w=b;w<k;w++)j+=Math.pow(g[w],2);j=p*j+l;for(var S=b;S<k;S++){var I=-2*p*f*g[S]*v[x]/j;x===S&&(I+=Math.pow(j,-f)),I*=m[x],_[S]+=I}}return r.makeTensorInfo(c.shape,a.dtype,_)}var c={kernelName:o.LRNGrad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3oRc2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"max",function(){return l}),a.export(r,"maxConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Max_impl"),u=e("./Transpose_impl");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.reductionIndices,p=n.keepDims,f=a.shape,d=f.length,h=s.util.parseAxisParam(l,f),m=h,g=s.backend_util.getAxesPermutation(m,d),v=r.data.get(a.dataId).values;if(null!=g){for(var _=Array(d),x=0;x<_.length;x++)_[x]=f[g[x]];v=(0,u.transposeImpl)(v,f,a.dtype,g,_),m=s.backend_util.getInnerMostAxes(m.length,d),f=_}(0,i.assertNotComplex)(a,"max"),s.backend_util.assertAxesAreInnerMostDims("max",m,d);var y=(0,o._)(s.backend_util.computeOutAndReduceShapes(f,m),2),b=y[0],k=y[1],j=s.util.sizeFromShape(k),w=(0,c.maxImpl)(v,j,b,a.dtype),S=r.write(w,b,a.dtype),I=b;return p&&(I=s.backend_util.expandShapeToKeepDim(b,h)),{dataId:S,shape:I,dtype:a.dtype}}var p={kernelName:s.Max,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Max_impl":"aPeNP","./Transpose_impl":"flS1X","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],l9OTl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool",function(){return u}),a.export(r,"maxPoolConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils"),c=e("./Identity");function u(e){var t,r=e.inputs,n=e.backend,a=e.attrs,u=r.x;(0,s.assertNotComplex)(u,"maxPool");var l=a.filterSize,p=a.strides,f=a.pad,d=a.dimRoundingMode;o.util.assert(o.backend_util.eitherStridesOrDilationsAreOne(p,1),function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(p," and dilations '").concat(1,"'")});var h=o.backend_util.computePool2DInfo(u.shape,l,p,1,f,d);if(1===h.filterWidth&&1===h.filterHeight&&o.util.arraysEqual(h.inShape,h.outShape))t=(0,c.identity)({inputs:{x:u},backend:n});else{var m=n.data.get(u.dataId).values,g=o.util.computeStrides(u.shape),v=(0,i.pool)(m,u.shape,u.dtype,g,h,"max");t=n.makeTensorInfo(h.outShape,u.dtype,v.values)}return t}var l={kernelName:o.MaxPool,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","./Identity":"egCYs","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i5zHp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3D",function(){return c}),a.export(r,"maxPool3DConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.filterSize,u=n.strides,l=n.pad,p=n.dimRoundingMode,f=n.dataFormat;(0,s.assertNotComplex)(a,"maxPool3d");var d=o.backend_util.computePool3DInfo(a.shape,c,u,1,l,p,f),h=r.data.get(a.dataId).values,m=(0,i.pool3d)(h,a.shape,a.dtype,o.util.computeStrides(a.shape),d,"max");return r.makeTensorInfo(m.shape,"float32",m.values)}var u={kernelName:o.MaxPool3D,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2S1mq":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPool3DGrad",function(){return c}),a.export(r,"maxPool3DGradConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=n.filterSize,l=n.strides,p=n.pad,f=n.dimRoundingMode;(0,s.assertNotComplex)([a,c],"maxPool3DGrad");for(var d=o.backend_util.computePool3DInfo(c.shape,u,l,1,p,f),h=r.bufferSync(c),m=(0,i.maxPool3dPositions)(h,d),g=d.strideDepth,v=d.strideHeight,_=d.strideWidth,x=d.dilationDepth,y=d.dilationHeight,b=d.dilationWidth,k=d.effectiveFilterDepth,j=d.effectiveFilterHeight,w=d.effectiveFilterWidth,S=k-1-d.padInfo.front,I=w-1-d.padInfo.left,T=j-1-d.padInfo.top,N=(0,o.buffer)(c.shape,"float32"),C=r.bufferSync(a),E=0;E<d.batchSize;++E)for(var F=0;F<d.inChannels;++F)for(var A=0;A<d.inDepth;++A)for(var P=0;P<d.inHeight;++P)for(var R=0;R<d.inWidth;++R){for(var D=A-S,M=P-T,O=R-I,L=0,V=0;V<k;V+=x){var U=(D+V)/g;if(!(U<0)&&!(U>=d.outDepth)&&Math.floor(U)===U)for(var B=0;B<j;B+=y){var z=(M+B)/v;if(!(z<0)&&!(z>=d.outHeight)&&Math.floor(z)===z)for(var G=0;G<w;G+=b){var W=(O+G)/_;if(!(W<0)&&!(W>=d.outWidth)&&Math.floor(W)===W){var q=+(k*j*w-1-m.get(E,U,z,W,F)===V*j*w+B*w+G);0!==q&&(L+=C.get(E,U,z,W,F)*q)}}}}N.set(L,E,A,P,R,F)}return r.makeTensorInfo(N.shape,N.dtype,N.values)}var u={kernelName:o.MaxPool3DGrad,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e191q:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolGrad",function(){return c}),a.export(r,"maxPoolGradConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("../utils/pool_utils");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.dy,c=t.input,u=t.output;(0,s.assertNotComplex)([c,u],"maxPoolGrad");for(var l=n.filterSize,p=n.strides,f=n.pad,d=n.dimRoundingMode,h=o.backend_util.computePool2DInfo(c.shape,l,p,1,f,d),m=r.data.get(c.dataId).values,g=(0,o.buffer)(h.outShape,c.dtype,(0,i.maxPoolPositions)(m,c.shape,c.dtype,h).values),v=h.strideHeight,_=h.strideWidth,x=h.dilationHeight,y=h.dilationWidth,b=h.effectiveFilterHeight,k=h.effectiveFilterWidth,j=k-1-h.padInfo.left,w=b-1-h.padInfo.top,S=(0,o.buffer)(c.shape,"float32"),I=r.data.get(a.dataId).values,T=(0,o.buffer)(a.shape,"float32",I),N=0;N<h.batchSize;++N)for(var C=0;C<h.inChannels;++C)for(var E=0;E<h.inHeight;++E)for(var F=0;F<h.inWidth;++F){for(var A=E-w,P=F-j,R=0,D=0;D<b;D+=x){var M=(A+D)/v;if(!(M<0)&&!(M>=h.outHeight)&&Math.floor(M)===M)for(var O=0;O<k;O+=y){var L=(P+O)/_;if(!(L<0)&&!(L>=h.outWidth)&&Math.floor(L)===L){var V=+(b*k-1-g.get(N,M,L,C)===D*k+O);0!==V&&(R+=T.get(N,M,L,C)*V)}}}S.set(R,N,E,F,C)}return r.makeTensorInfo(S.shape,S.dtype,S.values)}var u={kernelName:o.MaxPoolGrad,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","../utils/pool_utils":"bEi1m","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cjoi0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./MaxPoolWithArgmax_impl"),u={kernelName:s.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.x,u=r.filterSize,l=r.strides,p=r.pad,f=r.includeBatchInIndex;(0,i.assertNotComplex)(a,"MaxPoolWithArgmax");var d=n.data.get(a.dataId).values,h=s.backend_util.computePool2DInfo(a.shape,u,l,[1,1],p),m=(0,o._)((0,c.maxPoolWithArgmaxImpl)(d,a.shape,a.dtype,f,h),2),g=m[0],v=m[1],_=n.write(g,h.outShape,a.dtype),x=n.write(v,h.outShape,a.dtype);return[{dataId:_,shape:h.outShape,dtype:a.dtype},{dataId:x,shape:h.outShape,dtype:"int32"}]}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./MaxPoolWithArgmax_impl":"guxss","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],guxss:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"maxPoolWithArgmaxImpl",function(){return i});var o=e("@tensorflow/tfjs-core"),s=e("../utils/pool_utils");function i(e,t,r,n,a){var i=o.util.computeStrides(t),c=(0,s.pool)(e,t,r,i,a,"max"),u=(0,s.maxPoolPositions)(e,t,r,a,!0,n);return[c.values,u.values]}},{"@tensorflow/tfjs-core":"1q0U8","../utils/pool_utils":"bEi1m","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8AWm4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mean",function(){return u}),a.export(r,"meanConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("./Cast"),i=e("./RealDiv"),c=e("./Sum");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.axis,l=n.keepDims,p=o.util.parseAxisParam(u,a.shape),f=o.backend_util.computeOutAndReduceShapes(a.shape,p)[1],d=o.util.sizeFromShape(f),h=[],m=r.makeTensorInfo([],"float32",new Float32Array([d]));h.push(m);var g=(0,s.cast)({inputs:{x:a},backend:r,attrs:{dtype:"float32"}});h.push(g);var v=(0,i.div)({inputs:{a:g,b:m},backend:r});h.push(v);var _=(0,c.sum)({inputs:{x:v},backend:r,attrs:{axis:u,keepDims:l}});return h.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),_}var l={kernelName:o.Mean,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","./Cast":"frZja","./RealDiv":"iUejT","./Sum":"LM08R","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2hcJS":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"min",function(){return l}),a.export(r,"minConfig",function(){return p});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Reshape"),u=e("./Transpose");function l(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,l=n.axis,p=n.keepDims;(0,i.assertNotComplex)(a,"min");var f=s.util.parseAxisParam(l,a.shape),d=f,h=s.backend_util.getAxesPermutation(d,a.shape.length),m=a;null!=h&&(m=(0,u.transpose)({inputs:{x:a},backend:r,attrs:{perm:h}}),d=s.backend_util.getInnerMostAxes(d.length,a.shape.length)),s.backend_util.assertAxesAreInnerMostDims("min",d,m.shape.length);for(var g=(0,o._)(s.backend_util.computeOutAndReduceShapes(m.shape,d),2),v=g[0],_=g[1],x=s.util.sizeFromShape(_),y=s.util.makeZerosTypedArray(s.util.sizeFromShape(v),m.dtype),b=r.data.get(m.dataId).values,k=0;k<y.length;++k){for(var j=k*x,w=b[j],S=0;S<x;++S){var I=b[j+S];(Number.isNaN(I)||I<w)&&(w=I)}y[k]=w}null!=h&&r.disposeIntermediateTensorInfo(m);var T=r.makeTensorInfo(v,m.dtype,y);if(p){var N=s.backend_util.expandShapeToKeepDim(v,f),C=(0,c.reshape)({inputs:{x:T},backend:r,attrs:{shape:N}});return r.disposeIntermediateTensorInfo(T),C}return T}var p={kernelName:s.Min,backendName:"cpu",kernelFunc:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"850HP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"mirrorPad",function(){return i}),a.export(r,"mirrorPadConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.paddings,c=n.mode;(0,s.assertNotComplex)(a,"mirrorPad");for(var u=i.map(function(e,t){return e[0]+a.shape[t]+e[1]}),l=i.map(function(e){return e[0]}),p=i.map(function(e,t){return e[0]+a.shape[t]}),f=+("reflect"!==c),d=r.data.get(a.dataId).values,h=a.shape.length,m=o.util.computeStrides(a.shape),g=o.util.sizeFromShape(u),v=u.length,_=o.util.computeStrides(u),x=o.util.getTypedArrayFromDType(a.dtype,g),y=0;y<g;y++){for(var b=o.util.indexToLoc(y,v,_),k=0;k<v;k++)b[k]<l[k]?b[k]=2*l[k]-b[k]-f:b[k]>=p[k]&&(b[k]=(p[k]-1)*2-b[k]+f);b=b.map(function(e,t){return e-l[t]});var j=o.util.locToIndex(b,h,m);x[y]=d[j]}return{dataId:r.write(x,u,a.dtype),shape:u,dtype:a.dtype}}var c={kernelName:o.MirrorPad,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bmORh:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"modImpl",function(){return c}),a.export(r,"mod",function(){return u}),a.export(r,"modConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){var r=e%t;return e<0&&t<0||e>=0&&t>=0?r:(r+t)%t}),u=(0,i.binaryKernelFunc)(o.Mod,c),l={kernelName:o.Mod,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fmxKO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"multinomial",function(){return u}),a.export(r,"multinomialConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("seedrandom"),i=e("../cpu_util"),c=e("./Softmax");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,u=n.numSamples,l=n.seed,p=n.normalized;(0,i.assertNotComplex)(a,"multinomial");for(var f=p?a:(0,c.softmax)({inputs:{logits:a},backend:r,attrs:{dim:-1}}),d=f.shape[0],h=f.shape[1],m=r.data.get(f.dataId).values,g=[d,u],v=o.util.makeZerosTypedArray(o.util.sizeFromShape(g),"int32"),_=0;_<d;++_){var x=_*h,y=new Float32Array(h-1);y[0]=m[x];for(var b=1;b<y.length;++b)y[b]=y[b-1]+m[x+b];for(var k=s.alea(l.toString()),j=_*u,w=0;w<u;++w){var S=k();v[j+w]=y.length;for(var I=0;I<y.length;I++)if(S<y[I]){v[j+w]=I;break}}}return p||r.disposeIntermediateTensorInfo(f),r.makeTensorInfo(g,"int32",v)}var l={kernelName:o.Multinomial,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8",seedrandom:"cQeYB","../cpu_util":"j3IPL","./Softmax":"eJrLx","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eJrLx:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softmax",function(){return f}),a.export(r,"softmaxConfig",function(){return d});var o=e("@tensorflow/tfjs-core"),s=e("./Exp"),i=e("./Max"),c=e("./RealDiv"),u=e("./Reshape"),l=e("./Sub"),p=e("./Sum");function f(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.logits,f=n.dim,d=a.shape.length,h=f;if(-1===h&&(h=d-1),h!==d-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(d," and dim was ").concat(h));var m=o.util.parseAxisParam([h],a.shape),g=(0,i.max)({inputs:{x:a},backend:r,attrs:{reductionIndices:m,keepDims:!1}}),v=o.backend_util.expandShapeToKeepDim(g.shape,m),_=(0,u.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),x=(0,l.sub)({inputs:{a:a,b:_},backend:r}),y=(0,s.exp)({inputs:{x:x},backend:r}),b=(0,p.sum)({inputs:{x:y},backend:r,attrs:{axis:m,keepDims:!1}}),k=(0,u.reshape)({inputs:{x:b},backend:r,attrs:{shape:v}}),j=(0,c.div)({inputs:{a:y,b:k},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(k),j}var d={kernelName:o.Softmax,backendName:"cpu",kernelFunc:f}},{"@tensorflow/tfjs-core":"1q0U8","./Exp":"2rIvJ","./Max":"3oRc2","./RealDiv":"iUejT","./Reshape":"6H6hL","./Sub":"jG0ti","./Sum":"LM08R","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3DldC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV3",function(){return c}),a.export(r,"nonMaxSuppressionV3Config",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=o.kernel_impls.nonMaxSuppressionV3Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,o=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold;(0,s.assertNotComplex)(a,"NonMaxSuppression");var p=i(r.data.get(a.dataId).values,r.data.get(o.dataId).values,c,u,l).selectedIndices;return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}var u={kernelName:o.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eNfYu:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV4",function(){return c}),a.export(r,"nonMaxSuppressionV4Config",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=o.kernel_impls.nonMaxSuppressionV4Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,o=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.padToMaxOutputSize;(0,s.assertNotComplex)(a,"NonMaxSuppressionPadded");var f=i(r.data.get(a.dataId).values,r.data.get(o.dataId).values,c,u,l,p),d=f.selectedIndices,h=f.validOutputs;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([],"int32",new Int32Array([h]))]}var u={kernelName:o.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bFZW5:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"nonMaxSuppressionV5",function(){return c}),a.export(r,"nonMaxSuppressionV5Config",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=o.kernel_impls.nonMaxSuppressionV5Impl;function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.boxes,o=t.scores,c=n.maxOutputSize,u=n.iouThreshold,l=n.scoreThreshold,p=n.softNmsSigma;(0,s.assertNotComplex)(a,"NonMaxSuppressionWithScore");var f=i(r.data.get(a.dataId).values,r.data.get(o.dataId).values,c,u,l,p),d=f.selectedIndices,h=f.selectedScores;return[r.makeTensorInfo([d.length],"int32",new Int32Array(d)),r.makeTensorInfo([h.length],"float32",new Float32Array(h))]}var u={kernelName:o.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9UKsB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"oneHot",function(){return c}),a.export(r,"oneHotConfig",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,c=n.dtype,u=n.depth,l=n.onValue,p=n.offValue;(0,i.assertNotComplex)(a,"oneHot");var f=s.util.sizeFromShape(a.shape),d=new Float32Array(f*u);d.fill(p);for(var h=r.data.get(a.dataId).values,m=0;m<f;++m)h[m]>=0&&h[m]<u&&(d[m*u+h[m]]=l);return r.makeTensorInfo((0,o._)(a.shape).concat([u]),c,d)}var u={kernelName:s.OneHot,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5qzqZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"onesLike",function(){return p}),a.export(r,"onesLikeConfig",function(){return f});var o=e("@tensorflow/tfjs-core"),s=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real"),l=e("./ZerosLike");function p(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("onesLike is not supported for string tensors");if("complex64"!==n.dtype)return(0,i.fill)({backend:r,attrs:{shape:n.shape,value:1,dtype:n.dtype}});var a=(0,u.real)({inputs:{input:n},backend:r}),o=p({inputs:{x:a},backend:r}),f=(0,c.imag)({inputs:{input:n},backend:r}),d=(0,l.zerosLike)({inputs:{x:f},backend:r}),h=(0,s.complex)({inputs:{real:o,imag:d},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(d),h}var f={kernelName:o.OnesLike,backendName:"cpu",kernelFunc:p}},{"@tensorflow/tfjs-core":"1q0U8","./Complex":"lGfJq","./Fill":"5uq7y","./Imag":"ea4z8","./Real":"6qlpK","./ZerosLike":"6LVld","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6LVld":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"zerosLike",function(){return l}),a.export(r,"zerosLikeConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("./Complex"),i=e("./Fill"),c=e("./Imag"),u=e("./Real");function l(e){var t=e.inputs,r=e.backend,n=t.x;if("string"===n.dtype)throw Error("zerosLike is not supported for string tensors");if("complex64"!==n.dtype)return(0,i.fill)({backend:r,attrs:{shape:n.shape,value:0,dtype:n.dtype}});var a=(0,u.real)({inputs:{input:n},backend:r}),o=l({inputs:{x:a},backend:r}),p=(0,c.imag)({inputs:{input:n},backend:r}),f=l({inputs:{x:p},backend:r}),d=(0,s.complex)({inputs:{real:o,imag:f},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),d}var p={kernelName:o.ZerosLike,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","./Complex":"lGfJq","./Fill":"5uq7y","./Imag":"ea4z8","./Real":"6qlpK","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"285DF":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"pack",function(){return c}),a.export(r,"packConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./Concat"),i=e("./ExpandDims");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.axis;if(1===t.length)return(0,i.expandDims)({inputs:{input:t[0]},backend:r,attrs:{dim:n}});var a=t[0].shape,c=t[0].dtype;t.forEach(function(e){o.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),o.util.assert(c===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var u=[],l=t.map(function(e){var t=(0,i.expandDims)({inputs:{input:e},backend:r,attrs:{dim:n}});return u.push(t),t}),p=(0,s.concat)({inputs:l,backend:r,attrs:{axis:n}});return u.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),p}var u={kernelName:o.Pack,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","./Concat":"6eUup","./ExpandDims":"awARv","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cPM0f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"padV2",function(){return i}),a.export(r,"padV2Config",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,i=n.paddings,c=n.constantValue;(0,s.assertNotComplex)(a,"pad");var u=i.map(function(e,t){return e[0]+a.shape[t]+e[1]}),l=i.map(function(e){return e[0]}),p=r.data.get(a.dataId).values,f=o.util.sizeFromShape(a.shape),d=a.shape.length,h=o.util.computeStrides(a.shape),m=o.util.sizeFromShape(u),g=u.length,v=o.util.computeStrides(u),_=o.util.getTypedArrayFromDType(a.dtype,m);0!==c&&_.fill(c);for(var x=0;x<f;x++){var y=o.util.indexToLoc(x,d,h).map(function(e,t){return e+l[t]});_[o.util.locToIndex(y,g,v)]=p[x]}return{dataId:r.write(_,u,a.dtype),shape:u,dtype:a.dtype}}var c={kernelName:o.PadV2,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fjjJN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"powImpl",function(){return c}),a.export(r,"pow",function(){return u}),a.export(r,"powConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/binary_impl"),i=e("../utils/binary_utils"),c=(0,s.createSimpleBinaryKernelImpl)(function(e,t){return Math.pow(e,t)}),u=(0,i.binaryKernelFunc)(o.Pow,c),l={kernelName:o.Pow,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/binary_impl":"6UPuq","../utils/binary_utils":"6Q9Nd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],lO0id:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedGather",function(){return c}),a.export(r,"raggedGatherConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./RaggedGather_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.paramsNestedSplits,s=t.paramsDenseValues,c=t.indices,u=n.outputRaggedRank,l=a.map(function(e){return r.data.get(e.dataId).values}),p=a.map(function(e){return e.shape}),f=r.data.get(s.dataId).values,d=r.data.get(c.dataId).values,h=(0,o._)((0,i.raggedGatherImpl)(l,p,f,s.shape,s.dtype,d,c.shape,u),3),m=h[0],g=h[1],v=h[2],_=m.map(function(e){return r.makeTensorInfo([e.length],"int32",e)}),x=r.makeTensorInfo(v,s.dtype,g);return _.concat([x])}var u={kernelName:s.RaggedGather,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./RaggedGather_impl":"l2jss","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cnTNV:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedRange",function(){return c}),a.export(r,"raggedRangeConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./RaggedRange_impl");function c(e){var t=e.inputs,r=e.backend,n=t.starts,a=t.limits,s=t.deltas,c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(s.dataId).values,p=(0,o._)((0,i.raggedRangeImpl)(c,n.shape,n.dtype,u,a.shape,l,s.shape),2),f=p[0],d=p[1];return[r.makeTensorInfo([f.length],"int32",f),r.makeTensorInfo([d.length],n.dtype,d)]}var u={kernelName:s.RaggedRange,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./RaggedRange_impl":"eLh3J","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"81Cdw":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"raggedTensorToTensor",function(){return c}),a.export(r,"raggedTensorToTensorConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./RaggedTensorToTensor_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.shape,s=t.values,c=t.defaultValue,u=t.rowPartitionTensors,l=n.rowPartitionTypes,p=r.data.get(a.dataId).values,f=r.data.get(s.dataId).values,d=r.data.get(c.dataId).values,h=u.map(function(e){return r.data.get(e.dataId).values}),m=u.map(function(e){return e.shape}),g=(0,o._)((0,i.raggedTensorToTensorImpl)(p,a.shape,f,s.shape,s.dtype,d,c.shape,h,m,l),2),v=g[0],_=g[1];return r.makeTensorInfo(v,s.dtype,_)}var u={kernelName:s.RaggedTensorToTensor,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./RaggedTensorToTensor_impl":"iJqDs","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4h1hp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"range",function(){return i}),a.export(r,"rangeConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Range_impl");function i(e){var t=e.backend,r=e.attrs,n=r.start,a=r.stop,o=r.dtype,i=r.step,c=(0,s.rangeImpl)(n,a,i,o);return t.makeTensorInfo([c.length],o,c)}var c={kernelName:o.Range,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Range_impl":"iwBy3","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fNpIP:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reciprocal",function(){return s}),a.export(r,"reciprocalConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Reciprocal,function(e){return 1/e}),i={kernelName:o.Reciprocal,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dWc3N:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinear",function(){return c}),a.export(r,"resizeBilinearConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=n.alignCorners,u=n.halfPixelCenters,l=n.size;(0,i.assertNotComplex)(a,"resizeBilinear");for(var p=s.util.computeStrides(a.shape),f=(0,o._)(l,2),d=f[0],h=f[1],m=(0,o._)(a.shape,4),g=m[0],v=m[1],_=m[2],x=m[3],y=r.data.get(a.dataId).values,b=new Float32Array(s.util.sizeFromShape([g,d,h,x])),k=[c&&d>1?v-1:v,c&&h>1?_-1:_],j=[c&&d>1?d-1:d,c&&h>1?h-1:h],w=0,S=k[0]/j[0],I=k[1]/j[1],T=0;T<g;T++)for(var N=0;N<d;N++)for(var C=void 0,E=Math.max(0,Math.floor(C=u?S*(N+.5)-.5:S*N)),F=C-E,A=Math.min(v-1,Math.ceil(C)),P=T*p[0]+E*p[1],R=T*p[0]+A*p[1],D=0;D<h;D++)for(var M=void 0,O=Math.max(0,Math.floor(M=u?I*(D+.5)-.5:I*D)),L=M-O,V=Math.min(_-1,Math.ceil(M)),U=P+O*p[2],B=R+O*p[2],z=P+V*p[2],G=R+V*p[2],W=0;W<x;W++){var q=y[U+W],H=y[B+W],Z=y[z+W],K=y[G+W],X=q+(Z-q)*L,Y=X+(H+(K-H)*L-X)*F;b[w++]=Y}return r.makeTensorInfo([g,d,h,x],"float32",b)}var u={kernelName:s.ResizeBilinear,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],du8Jk:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeBilinearGrad",function(){return c}),a.export(r,"resizeBilinearGradConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=t.dy,u=n.alignCorners;(0,i.assertNotComplex)([c,a],"resizeBilinearGrad");for(var l=s.util.computeStrides(a.shape),p=(0,o._)(a.shape,4),f=p[0],d=p[1],h=p[2],m=p[3],g=(0,o._)(c.shape,3),v=g[1],_=g[2],x=new Float32Array(f*d*h*m),y=[u&&v>1?d-1:d,u&&_>1?h-1:h],b=[u&&v>1?v-1:v,u&&_>1?_-1:_],k=y[0]/b[0],j=y[1]/b[1],w=r.data.get(c.dataId).values,S=0,I=0;I<f;I++)for(var T=I*l[0],N=0;N<v;N++)for(var C=N*k,E=Math.floor(C),F=Math.min(Math.ceil(C),d-1),A=T+E*l[1],P=T+F*l[1],R=C-E,D=1-R,M=0;M<_;M++)for(var O=M*j,L=Math.floor(O),V=Math.min(Math.ceil(O),h-1),U=O-L,B=1-U,z=A+L*l[2],G=A+V*l[2],W=P+L*l[2],q=P+V*l[2],H=D*B,Z=D*U,K=R*B,X=R*U,Y=0;Y<m;Y++){var J=w[S++];x[z+Y]+=J*H,x[G+Y]+=J*Z,x[W+Y]+=J*K,x[q+Y]+=J*X}return r.makeTensorInfo([f,h,d,m],"float32",x)}var u={kernelName:s.ResizeBilinearGrad,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"7gECE":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighbor",function(){return c}),a.export(r,"resizeNearestNeighborConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=n.alignCorners,u=n.halfPixelCenters,l=n.size;(0,i.assertNotComplex)(a,"resizeNearestNeighbor");for(var p=s.util.computeStrides(a.shape),f=(0,o._)(l,2),d=f[0],h=f[1],m=(0,o._)(a.shape,4),g=m[0],v=m[1],_=m[2],x=m[3],y=r.data.get(a.dataId).values,b=new Float32Array(g*d*h*x),k=[c&&d>1?v-1:v,c&&h>1?_-1:_],j=[c&&d>1?d-1:d,c&&h>1?h-1:h],w=k[0]/j[0],S=k[1]/j[1],I=0,T=0;T<g;T++)for(var N=T*p[0],C=0;C<d;C++){var E=u?w*(C+.5):w*C,F=Math.min(v-1,c?Math.round(E):Math.floor(E));u&&(F=Math.max(0,F));for(var A=N+F*p[1],P=0;P<h;P++){var R=u?S*(P+.5):S*P,D=Math.min(_-1,c?Math.round(R):Math.floor(R));u&&(D=Math.max(0,D));for(var M=A+D*p[2],O=0;O<x;O++){var L=y[M+O];b[I++]=L}}}return r.makeTensorInfo([g,d,h,x],a.dtype,b)}var u={kernelName:s.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6VT1N":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"resizeNearestNeighborGrad",function(){return c}),a.export(r,"resizeNearestNeighborGradConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.images,c=t.dy,u=n.alignCorners;(0,i.assertNotComplex)([c,a],"resizeNearestNeighborGrad");for(var l=s.util.computeStrides(a.shape),p=s.util.computeStrides(c.shape),f=(0,o._)(a.shape,4),d=f[0],h=f[1],m=f[2],g=f[3],v=(0,o._)(c.shape,3),_=v[1],x=v[2],y=new Float32Array(d*h*m*g),b=r.data.get(c.dataId).values,k=[u&&_>1?h-1:h,u&&x>1?m-1:m],j=[u&&_>1?_-1:_,u&&x>1?x-1:x],w=k[0]/j[0],S=k[1]/j[1],I=1/w,T=1/S,N=2*Math.ceil(I)+2,C=2*Math.ceil(T)+2,E=0;E<d;E++)for(var F=E*l[0],A=0;A<h;A++)for(var P=F+A*l[1],R=Math.floor(Math.floor(A*I)-N/2),D=0;D<m;D++)for(var M=P+D*l[2],O=Math.floor(Math.floor(D*T)-C/2),L=0;L<g;L++){for(var V=0,U=0;U<N;U++){var B=U+R;if(!(B<0)&&!(B>=_)){var z=F+B*p[1],G=B*w;if(A===Math.min(h-1,u?Math.round(G):Math.floor(G)))for(var W=0;W<C;W++){var q=W+O;if(!(q<0)&&!(q>=x)){var H=z+q*p[2],Z=q*S;D===Math.min(m-1,u?Math.round(Z):Math.floor(Z))&&(V+=b[H+L])}}}}y[M+L]=V}return r.makeTensorInfo(a.shape,a.dtype,y)}var u={kernelName:s.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9FbSK":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"reverse",function(){return u}),a.export(r,"reverseConfig",function(){return l});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./Identity");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,u=n.dims;(0,i.assertNotComplex)(a,"reverse");var l=a.shape.length,p=s.util.parseAxisParam(u,a.shape);if(0===l)return(0,c.identity)({inputs:{x:a},backend:r});for(var f=new(0,s.TensorBuffer)(a.shape,a.dtype),d=r.bufferSync(a),h=0;h<f.size;h++)!function(e){var t=f.indexToLoc(e),r=t.slice();p.forEach(function(e){return r[e]=a.shape[e]-1-r[e]}),f.set.apply(f,[d.get.apply(d,(0,o._)(r))].concat((0,o._)(t)))}(h);return r.makeTensorInfo(f.shape,f.dtype,f.values)}var l={kernelName:s.Reverse,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Identity":"egCYs","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5kGb7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"rotateWithOffsetConfig",function(){return i});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i={kernelName:s.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,i=r.radians,c=r.fillValue,u=r.center,l=s.util.getTypedArrayFromDType(a.dtype,s.util.sizeFromShape(a.shape)),p=(0,o._)(a.shape,4),f=p[0],d=p[1],h=p[2],m=p[3],g=(0,o._)(s.backend_util.getImageCenter(u,d,h),2),v=g[0],_=g[1],x=Math.sin(i),y=Math.cos(i),b=n.data.get(a.dataId).values,k=0;k<f;k++)for(var j=k*h*d*m,w=0;w<d;w++)for(var S=h*m*w,I=0;I<h;I++)for(var T=I*m,N=0;N<m;N++){var C=[f,w,I,N],E=C[2],F=C[1],A=(E-v)*y-(F-_)*x,P=(E-v)*x+(F-_)*y;A=Math.round(A+v),P=Math.round(P+_);var R=c;"number"!=typeof c&&(R=3===N?255:c[N]),A>=0&&A<h&&P>=0&&P<d&&(R=b[j+h*m*P+A*m+N]),l[j+S+T+N]=R}return{dataId:n.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c5vi1:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"round",function(){return s}),a.export(r,"roundConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Round,function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1}),i={kernelName:o.Round,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9Rgfy":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"scatterNd",function(){return i}),a.export(r,"scatterNdConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Scatter_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.indices,i=t.updates,c=n.shape,u=o.backend_util.calculateShapes(i,a,c),l=u.sliceRank,p=u.numUpdates,f=u.sliceSize,d=u.strides,h=u.outputSize,m=r.bufferSync(a),g=r.bufferSync(i),v=(0,s.scatterImpl)(m,g,c,h,f,p,l,d,0,!0);return r.makeTensorInfo(c,v.dtype,v.values)}var c={kernelName:o.ScatterNd,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Scatter_impl":"73Ols","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"40J2J":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSorted",function(){return i}),a.export(r,"searchSortedConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./SearchSorted_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.sortedSequence,o=t.values,i=n.side,c=r.data.get(a.dataId).values,u=r.data.get(o.dataId).values,l=(0,s.searchSortedImpl)(c,u,a.shape[0],a.shape[1],o.shape[1],i);return r.makeTensorInfo(o.shape,"int32",l)}var c={kernelName:o.SearchSorted,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./SearchSorted_impl":"5Yr4k","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5Yr4k":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"searchSortedImpl",function(){return s});var o=e("@tensorflow/tfjs-core");function s(e,t,r,n,a,s){for(var i=o.util.getArrayFromDType("int32",r*a),c=0;c<r;++c)for(var u=e.slice(c*n,(c+1)*n),l=c*a,p=0;p<a;++p)i[l+p]="left"===s?function(e,t){for(var r=0,n=e.length,a=0;r<n;)e[a=Math.floor((r+n)/2)]<t?r=a+1:n=a;return n}(u,t[p+l]):function(e,t){for(var r=0,n=e.length,a=0;r<n;)e[a=Math.floor((r+n)/2)]<=t?r=a+1:n=a;return n}(u,t[p+l]);return i}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8Nz7e":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"select",function(){return i}),a.export(r,"selectConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util");function i(e){var t=e.inputs,r=e.backend,n=t.condition,a=t.t,i=t.e;(0,s.assertNotComplex)([n,a,i],"select");for(var c=n.shape.length,u=r.data.get(n.dataId).values,l=r.data.get(a.dataId).values,p=r.data.get(i.dataId).values,f=(0,o.upcastType)(a.dtype,i.dtype),d=o.util.makeZerosTypedArray(o.util.sizeFromShape(a.shape),f),h=0,m=0===c||c>1||1===a.shape.length?1:o.util.sizeFromShape(a.shape.slice(1)),g=0;g<u.length;g++)for(var v=0;v<m;v++)1===u[g]?d[h++]=l[g]:d[h++]=p[g];return r.makeTensorInfo(a.shape,f,d)}var c={kernelName:o.Select,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5NFoo":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"selu",function(){return u}),a.export(r,"seluConfig",function(){return l});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_utils"),i=o.backend_util.SELU_SCALEALPHA,c=o.backend_util.SELU_SCALE,u=(0,s.unaryKernelFunc)(o.Selu,function(e){return e>=0?c*e:i*(Math.exp(e)-1)}),l={kernelName:o.Selu,backendName:"cpu",kernelFunc:u}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4sUn8":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sign",function(){return s}),a.export(r,"signConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Sign,function(e){return e<0?-1:+(e>0)}),i={kernelName:o.Sign,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"62ANC":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sin",function(){return s}),a.export(r,"sinConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Sin,function(e){return Math.sin(e)}),i={kernelName:o.Sin,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8WaMI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sinh",function(){return s}),a.export(r,"sinhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Sinh,function(e){return Math.sinh(e)}),i={kernelName:o.Sinh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],PDFMR:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"softplus",function(){return c}),a.export(r,"softplusConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../utils/unary_utils"),i=Math.log(11920928955078125e-23)+2,c=(0,s.unaryKernelFunc)(o.Softplus,function(e){var t,r=Math.exp(e);return e<i?r:e>-i?e:Math.log(1+r)}),u={kernelName:o.Softplus,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bV1d7:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"spaceToBatchND",function(){return p}),a.export(r,"spaceToBatchNDConfig",function(){return f});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./PadV2"),u=e("./Reshape"),l=e("./Transpose");function p(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,p=n.blockShape,f=n.paddings;(0,i.assertNotComplex)([a],"spaceToBatchND");var d=s.util.sizeFromShape(p),h=[[0,0]];h.push.apply(h,(0,o._)(f));for(var m=1+p.length;m<a.shape.length;++m)h.push([0,0]);var g=c.padV2Config.kernelFunc({inputs:{x:a},backend:r,attrs:{paddings:h,constantValue:0}}),v=s.backend_util.getReshaped(g.shape,p,d,!1),_=s.backend_util.getPermuted(v.length,p.length,!1),x=s.backend_util.getReshapedPermuted(g.shape,p,d,!1),y=(0,u.reshape)({inputs:{x:g},backend:r,attrs:{shape:v}}),b=(0,l.transpose)({inputs:{x:y},backend:r,attrs:{perm:_}}),k=(0,u.reshape)({inputs:{x:b},backend:r,attrs:{shape:x}});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(b),k}var f={kernelName:s.SpaceToBatchND,backendName:"cpu",kernelFunc:p}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./PadV2":"cPM0f","./Reshape":"6H6hL","./Transpose":"4bepV","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8eMbs":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseFillEmptyRows",function(){return c}),a.export(r,"sparseFillEmptyRowsConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./SparseFillEmptyRows_impl");function c(e){var t=e.inputs,r=e.backend,n=t.indices,a=t.values,s=t.denseShape,c=t.defaultValue;if(1!==s.shape.length)throw Error("Dense shape must be a vector, saw:\n ".concat(s.shape));if(2!==n.shape.length)throw Error("Indices must be a matrix, saw:\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Values must be a vector, saw:\n ".concat(a.shape));if(0!==c.shape.length)throw Error("Default value must be a scalar, saw:\n ".concat(c.shape));var u=r.data.get(n.dataId).values,l=r.data.get(a.dataId).values,p=r.data.get(s.dataId).values,f=r.data.get(c.dataId).values[0],d=(0,o._)((0,i.sparseFillEmptyRowsImpl)(u,n.shape,n.dtype,l,a.dtype,p,f),5),h=d[0],m=d[1],g=d[2],v=d[3],_=d[4];return[r.makeTensorInfo(m,n.dtype,h),r.makeTensorInfo([m[0]],a.dtype,g),r.makeTensorInfo([v.length],"bool",new Uint8Array(v.map(function(e){return Number(e)}))),r.makeTensorInfo([_.length],n.dtype,new Int32Array(_))]}var u={kernelName:s.SparseFillEmptyRows,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./SparseFillEmptyRows_impl":"jkWia","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fk8tO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseReshape",function(){return c}),a.export(r,"sparseReshapeConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./SparseReshape_impl");function c(e){var t=e.inputs,r=e.backend,n=t.inputIndices,a=t.inputShape,s=t.newShape;if(2!==n.shape.length)throw Error("Input indices should be a matrix but received shape\n ".concat(n.shape));if(1!==a.shape.length)throw Error("Input shape should be a vector but received shape\n ".concat(a.shape));if(1!==s.shape.length)throw Error("Target shape should be a vector but received shape ".concat(s.shape));var c=Array.from(r.data.get(a.dataId).values),u=r.data.get(n.dataId).values,l=Array.from(r.data.get(s.dataId).values),p=(0,o._)((0,i.sparseReshapeImpl)(u,n.shape,n.dtype,c,l),3),f=p[0],d=p[1],h=p[2];return[r.makeTensorInfo(d,n.dtype,f),r.makeTensorInfo([h.length],s.dtype,new Int32Array(h))]}var u={kernelName:s.SparseReshape,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./SparseReshape_impl":"5Wb0v","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cQ2ya:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentMean",function(){return c}),a.export(r,"sparseSegmentMeanConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./SparseSegmentReduction_impl");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,s=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==s.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(s.shape));if(a.shape[0]!==s.shape[0])throw Error("segmentIds and indices should have same size.");var c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(s.dataId).values,p=(0,o._)((0,i.sparseSegmentReductionImpl)(c,n.shape,n.dtype,u,l,!0),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:s.SparseSegmentMean,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./SparseSegmentReduction_impl":"b035V","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"60YfT":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseSegmentSum",function(){return c}),a.export(r,"sparseSegmentSumConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./SparseSegmentReduction_impl");function c(e){var t=e.inputs,r=e.backend,n=t.data,a=t.indices,s=t.segmentIds;if(n.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw Error("Indices should be a vector but received shape\n ".concat(a.shape));if(1!==s.shape.length)throw Error("Segment ids should be a vector but received shape\n ".concat(s.shape));if(a.shape[0]!==s.shape[0])throw Error("segmentIds and indices should have same size.");var c=r.data.get(n.dataId).values,u=r.data.get(a.dataId).values,l=r.data.get(s.dataId).values,p=(0,o._)((0,i.sparseSegmentReductionImpl)(c,n.shape,n.dtype,u,l),2),f=p[0],d=p[1];return r.makeTensorInfo(d,n.dtype,f)}var u={kernelName:s.SparseSegmentSum,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./SparseSegmentReduction_impl":"b035V","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8t9gG":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"sparseToDense",function(){return i}),a.export(r,"sparseToDenseConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Scatter_impl");function i(e){var t,r=e.inputs,n=e.backend,a=e.attrs,i=r.sparseIndices,c=r.sparseValues,u=r.defaultValue,l=a.outputShape,p=o.backend_util.calculateShapes(c,i,l),f=p.sliceRank,d=p.numUpdates,h=p.sliceSize,m=p.strides,g=p.outputSize,v=n.bufferSync(i);switch(c.dtype){case"bool":var _=n.bufferSync(c),x=!!n.data.get(u.dataId).values[0];t=(0,s.scatterImpl)(v,_,l,g,h,d,f,m,x,!1);break;case"float32":var y=n.bufferSync(c),b=n.data.get(u.dataId).values[0];t=(0,s.scatterImpl)(v,y,l,g,h,d,f,m,b,!1);break;case"int32":var k=n.bufferSync(c),j=n.data.get(u.dataId).values[0];t=(0,s.scatterImpl)(v,k,l,g,h,d,f,m,j,!1);break;case"string":var w=n.bufferSync(c),S=o.util.decodeString(n.data.get(u.dataId).values[0]);t=(0,s.scatterImpl)(v,w,l,g,h,d,f,m,S,!1);break;default:throw Error("Unsupported type ".concat(c.dtype))}return n.makeTensorInfo(l,t.dtype,t.values)}var c={kernelName:o.SparseToDense,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Scatter_impl":"73Ols","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"62rfe":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"splitV",function(){return c}),a.export(r,"splitVConfig",function(){return u});var o=e("@swc/helpers/cjs/_to_consumable_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,c=n.numOrSizeSplits,u=n.axis,l=s.util.parseAxisParam(u,a.shape)[0],p=s.backend_util.prepareSplitSize(a,c,l),f=Array(a.shape.length).fill(0),d=a.shape.slice();return p.map(function(e){var t=(0,o._)(d);t[l]=e;var n=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:f,size:t}});return f[l]+=e,n})}var u={kernelName:s.SplitV,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./Slice":"iDxWd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],c826Z:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"squareConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i={kernelName:o.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x;(0,s.assertNotComplex)(n,"square");for(var a=r.data.get(n.dataId).values,o=new Float32Array(a.length),i=0;i<a.length;++i){var c=a[i];o[i]=c*c}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1y2AR":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"step",function(){return s}),a.export(r,"stepConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Step,function(e,t){return isNaN(e)?NaN:e>0?1:t.alpha}),i={kernelName:o.Step,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1z9YY":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stridedSlice",function(){return l}),a.export(r,"stridedSliceConfig",function(){return p});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Reshape"),c=e("./Slice"),u=e("./StridedSlice_impl");function l(e){var t,r=e.inputs,n=e.backend,a=e.attrs,l=r.x,p=a.begin,f=a.end,d=a.strides,h=a.beginMask,m=a.endMask,g=a.ellipsisMask,v=a.newAxisMask,_=a.shrinkAxisMask;(0,s.assertNotComplex)(l,"stridedSlice");var x=o.slice_util.sliceInfo(l.shape,p,f,d,h,m,g,v,_),y=x.finalShapeSparse,b=x.finalShape,k=x.isIdentity,j=x.sliceDim0,w=x.isSimpleSlice,S=x.begin,I=x.end,T=x.strides;if(k)t=(0,i.reshape)({inputs:{x:l},backend:n,attrs:{shape:b}});else if(j||w){o.util.assert(l.shape.length>=1,function(){return"Input must have rank at least 1, got: ".concat(l.shape.length)});var N=o.slice_util.computeOutShape(S,I,T),C=(0,c.slice)({inputs:{x:l},backend:n,attrs:{begin:S,size:N}});t=(0,i.reshape)({inputs:{x:C},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(C)}else{var E=n.bufferSync(l),F=(0,u.stridedSliceImpl)(y,E,T,S);t=n.makeTensorInfo(b,F.dtype,F.values)}return t}var p={kernelName:o.StridedSlice,backendName:"cpu",kernelFunc:l}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Reshape":"6H6hL","./Slice":"iDxWd","./StridedSlice_impl":"jnM1U","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hh0nK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringNGrams",function(){return c}),a.export(r,"stringNGramsConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./StringNGrams_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=n.separator,s=n.nGramWidths,c=n.leftPad,u=n.rightPad,l=n.padWidth,p=n.preserveShortSequences,f=t.data,d=t.dataSplits,h=r.data.get(f.dataId).values,m=r.data.get(d.dataId).values,g=(0,o._)((0,i.stringNGramsImpl)(h,m,a,s,c,u,l,p),2),v=g[0],_=g[1];return[r.makeTensorInfo([v.length],"string",v),r.makeTensorInfo(d.shape,"int32",_)]}var u={kernelName:s.StringNGrams,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./StringNGrams_impl":"8EtHw","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"49WWg":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringSplit",function(){return c}),a.export(r,"stringSplitConfig",function(){return u});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("./StringSplit_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs.skipEmpty,a=t.input,s=t.delimiter;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(1!==a.shape.length)throw Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==s.shape.length)throw Error("Delimiter must be a scalar, got shape: ".concat(s.shape));var c=r.data.get(a.dataId).values,u=r.data.get(s.dataId).values[0],l=(0,o._)((0,i.stringSplitImpl)(c,u,n),3),p=l[0],f=l[1],d=l[2],h=f.length;return[r.makeTensorInfo([h,2],"int32",p),r.makeTensorInfo([h],"string",f),r.makeTensorInfo([2],"int32",new Int32Array(d))]}var u={kernelName:s.StringSplit,backendName:"cpu",kernelFunc:c}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","./StringSplit_impl":"jn5zy","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2jBtc":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"stringToHashBucketFast",function(){return i}),a.export(r,"stringToHashBucketFastConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./StringToHashBucketFast_impl");function i(e){var t=e.inputs,r=e.backend,n=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");var o=r.data.get(a.dataId).values,i=(0,s.stringToHashBucketFastImpl)(o,n);return r.makeTensorInfo(a.shape,"int32",i)}var c={kernelName:o.StringToHashBucketFast,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./StringToHashBucketFast_impl":"f0pOh","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5vSLP":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tan",function(){return s}),a.export(r,"tanConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Tan,function(e){return Math.tan(e)}),i={kernelName:o.Tan,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gP7aC:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tanh",function(){return s}),a.export(r,"tanhConfig",function(){return i});var o=e("@tensorflow/tfjs-core"),s=(0,e("../utils/unary_utils").unaryKernelFunc)(o.Tanh,function(e){return Math.tanh(e)}),i={kernelName:o.Tanh,backendName:"cpu",kernelFunc:s}},{"@tensorflow/tfjs-core":"1q0U8","../utils/unary_utils":"3jjTJ","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f7tv2:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tensorScatterUpdate",function(){return i}),a.export(r,"tensorScatterUpdateConfig",function(){return c});var o=e("@tensorflow/tfjs-core"),s=e("./Scatter_impl");function i(e){var t=e.inputs,r=e.backend,n=t.tensor,a=t.indices,i=t.updates,c=o.backend_util.calculateShapes(i,a,n.shape),u=c.sliceRank,l=c.numUpdates,p=c.sliceSize,f=c.strides,d=c.outputSize,h=r.bufferSync(a),m=r.bufferSync(i),g=r.bufferSync(n),v=(0,s.scatterImpl)(h,m,n.shape,d,p,l,u,f,g,!1);return r.makeTensorInfo(n.shape,v.dtype,v.values)}var c={kernelName:o.TensorScatterUpdate,backendName:"cpu",kernelFunc:i}},{"@tensorflow/tfjs-core":"1q0U8","./Scatter_impl":"73Ols","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eQPoO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"tile",function(){return c}),a.export(r,"tileConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Tile_impl");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,o=n.reps;(0,s.assertNotComplex)(a,"tile");var c=(0,i.tileImpl)(r.bufferSync(a),o);return r.makeTensorInfo(c.shape,c.dtype,c.values)}var u={kernelName:o.Tile,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Tile_impl":"bK8zP","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fWPAl:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"topK",function(){return u}),a.export(r,"topKConfig",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core"),i=e("../cpu_util"),c=e("./TopK_impl");function u(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,s=n.k,u=n.sorted;(0,i.assertNotComplex)(a,"topk");var l=r.data.get(a.dataId).values,p=(0,o._)((0,c.topKImpl)(l,a.shape,a.dtype,s,u),2),f=p[0],d=p[1];return[r.makeTensorInfo(f.shape,f.dtype,f.values),r.makeTensorInfo(d.shape,d.dtype,d.values)]}var l={kernelName:s.TopK,backendName:"cpu",kernelFunc:u}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./TopK_impl":"bBgHE","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1V89n":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"transform",function(){return i}),a.export(r,"transformConfig",function(){return c});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e){var t=e.inputs,r=e.attrs,n=e.backend,a=t.image,i=t.transforms,c=r.interpolation,p=r.fillMode,f=r.fillValue,d=r.outputShape,h=(0,o._)(a.shape,4),m=h[0],g=h[1],v=h[2],_=h[3],x=(0,o._)(null!=d?d:[g,v],2),y=x[0],b=x[1],k=[m,y,b,_],j=s.util.computeStrides(a.shape),w=j[0],S=j[1],I=j[2],T=s.util.computeStrides(k),N=T[0],C=T[1],E=T[2],F=s.util.getTypedArrayFromDType(a.dtype,s.util.sizeFromShape(k));F.fill(f);for(var A=n.data.get(a.dataId).values,P=n.data.get(i.dataId).values,R=0;R<m;++R){for(var D=1===i.shape[0]?P:P.subarray(8*R,8*R+8),M=0;M<y;++M)for(var O=0;O<b;++O)for(var L=0;L<_;++L){var V=void 0,U=D[6]*O+D[7]*M+1;if(0!==U){var B=(D[0]*O+D[1]*M+D[2])/U,z=(D[3]*O+D[4]*M+D[5])/U,G=u(B,v,p),W=u(z,g,p);switch(c){case"nearest":V=l(A,g,v,w,S,I,R,Math.round(W),Math.round(G),L,f);break;case"bilinear":V=function(e,t,r,n,a,o,s,i,c,u,p){var f=Math.floor(i),d=Math.floor(c),h=f+1,m=d+1,g=(m-c)*l(e,t,r,n,a,o,s,f,d,u,p)+(c-d)*l(e,t,r,n,a,o,s,f,m,u,p),v=(m-c)*l(e,t,r,n,a,o,s,h,d,u,p)+(c-d)*l(e,t,r,n,a,o,s,h,m,u,p);return(h-i)*g+(i-f)*v}(A,g,v,w,S,I,R,W,G,L,f);break;default:throw Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(c))}F[R*N+M*C+O*E+L]=V}}return n.makeTensorInfo(k,a.dtype,F)}return{dataId:n.write(F,k,a.dtype),shape:a.shape,dtype:a.dtype}}var c={kernelName:s.Transform,backendName:"cpu",kernelFunc:i};function u(e,t,r){switch(r){case"reflect":var n,a,o,i,c,u,l=e,p=t,f=l;if(f<0)if(p<=1)f=0;else{var d=2*p;f<d&&(f=d*Math.trunc(-f/d)+f),f=f<-p?f+d:-f-1}else if(f>p-1)if(p<=1)f=0;else{var h=2*p;(f-=h*Math.trunc(f/h))>=p&&(f=h-f-1)}return s.util.clamp(0,f,p-1);case"wrap":return n=e,a=t,(o=n)<0?a<=1?o=0:o+=a*(Math.trunc(-o/(a-1))+1):o>a-1&&(a<=1?o=0:o-=a*Math.trunc(o/(a-1))),s.util.clamp(0,o,a-1);case"nearest":return i=e,c=t,s.util.clamp(0,i,c-1);default:return u=0,e}}function l(e,t,r,n,a,o,s,i,c,u,l){return 0<=i&&i<t&&0<=c&&c<r?e[s*n+i*a+c*o+u]:l}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],kjOyo:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unique",function(){return c}),a.export(r,"uniqueConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Unique_impl");function c(e){var t=e.inputs,r=e.attrs,n=e.backend,a=r.axis,o=t.x;(0,s.assertNotComplex)(o,"unique");var c=n.data.get(o.dataId).values,u=(0,i.uniqueImpl)(c,a,o.shape,o.dtype),l=u.outputValues,p=u.outputShape,f=u.indices;return[n.makeTensorInfo(p,o.dtype,l),n.makeTensorInfo([f.length],"int32",f)]}var u={kernelName:o.Unique,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Unique_impl":"8lLtN","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8R0DV":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unpack",function(){return c}),a.export(r,"unpackConfig",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("./Reshape"),i=e("./Slice");function c(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.value,o=n.axis;o<0&&(o+=a.shape.length);for(var c=a.shape.length,u=a.shape[o],l=Array(c-1),p=0,f=0;f<c;f++)f!==o&&(l[p++]=a.shape[f]);var d=Array(c).fill(0),h=a.shape.slice();h[o]=1;for(var m=Array(u),g=0;g<m.length;g++){d[o]=g;var v=(0,i.slice)({inputs:{x:a},backend:r,attrs:{begin:d,size:h}});m[g]=(0,s.reshape)({inputs:{x:v},backend:r,attrs:{shape:l}}),r.disposeIntermediateTensorInfo(v)}return m}var u={kernelName:o.Unpack,backendName:"cpu",kernelFunc:c}},{"@tensorflow/tfjs-core":"1q0U8","./Reshape":"6H6hL","./Slice":"iDxWd","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ewYer:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"unsortedSegmentSum",function(){return d}),a.export(r,"unsortedSegmentSumConfig",function(){return h});var o=e("@tensorflow/tfjs-core"),s=e("../cpu_util"),i=e("./Cast"),c=e("./Equal"),u=e("./ExpandDims"),l=e("./Multiply"),p=e("./Pack"),f=e("./Sum");function d(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.x,d=t.segmentIds,h=n.numSegments;(0,s.assertNotComplex)(a,"unsortedSegmentSum");for(var m=a.shape.length,g=d.shape.length,v=[],_=[],x=m-g,y=d,b=0;b<x;++b){var k=(0,u.expandDims)({inputs:{input:y},backend:r,attrs:{dim:b+1}});y=k,_.push(k)}for(var j=0;j<h;++j){var w=o.util.createScalarValue(j,"int32"),S=r.makeTensorInfo([],"int32",w),I=(0,c.equal)({inputs:{a:S,b:y},backend:r}),T=(0,i.cast)({inputs:{x:I},backend:r,attrs:{dtype:"float32"}}),N=(0,l.multiply)({inputs:{a:T,b:a},backend:r}),C=(0,f.sum)({inputs:{x:N},backend:r,attrs:{axis:0,keepDims:!1}});v.push(C),_.push(S),_.push(I),_.push(T),_.push(N),_.push(C)}var E=(0,p.pack)({inputs:v,backend:r,attrs:{axis:0}});return _.forEach(function(e){return r.disposeIntermediateTensorInfo(e)}),E}var h={kernelName:o.UnsortedSegmentSum,backendName:"cpu",kernelFunc:d}},{"@tensorflow/tfjs-core":"1q0U8","../cpu_util":"j3IPL","./Cast":"frZja","./Equal":"5rwFz","./ExpandDims":"awARv","./Multiply":"7VqTl","./Pack":"285DF","./Sum":"LM08R","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dwX2g:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SupportedModels",function(){return eP}),o.export(r,"blurBodyPart",function(){return e$}),o.export(r,"bodyPixMaskValueToRainbowColor",function(){return y}),o.export(r,"createSegmenter",function(){return eD}),o.export(r,"drawBokehEffect",function(){return eQ}),o.export(r,"drawMask",function(){return eY}),o.export(r,"drawPixelatedMask",function(){return eJ}),o.export(r,"toBinaryMask",function(){return eK}),o.export(r,"toColoredMask",function(){return eX});var s=e("@tensorflow/tfjs-core"),i=e("@tensorflow/tfjs-converter"),c=e("@mediapipe/selfie_segmentation"),u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function f(e,t,r,n){return new(r||(r=Promise))(function(a,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function i(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,i)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){var c=[o,i];if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(6===c[0]&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function h(e){return e instanceof SVGAnimatedLength?e.baseVal.value:e}function m(e){return f(this,void 0,void 0,function(){var t,r;return d(this,function(n){switch(n.label){case 0:return t=document.createElement("canvas"),e instanceof s.Tensor?[4,s.browser.toPixels(e,t)]:[3,2];case 1:return n.sent(),[3,3];case 2:t.width=h(e.width),t.height=h(e.height),r=t.getContext("2d"),e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0),n.label=3;case 3:return[2,t]}})})}function g(e){return f(this,void 0,void 0,function(){var t,r,n,a,o,i;return d(this,function(c){switch(c.label){case 0:return e instanceof s.Tensor?(r=(t=e.shape.slice(0,2))[0],n=t[1],a=ImageData.bind,[4,s.browser.toPixels(e)]):[3,2];case 1:return[2,new(a.apply(ImageData,[void 0,c.sent(),n,r]))];case 2:return i=(o=document.createElement("canvas")).getContext("2d"),o.width=h(e.width),o.height=h(e.height),i.drawImage(e,0,0),[2,i.getImageData(0,0,o.width,o.height)]}})})}function v(e){return f(this,void 0,void 0,function(){var t,r;return d(this,function(n){switch(n.label){case 0:return e instanceof SVGImageElement||e instanceof OffscreenCanvas?[4,m(e)]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=e,n.label=3;case 3:return t=r,[2,s.browser.fromPixels(t,4)]}})})}function _(e){if(e<0||e>=256)throw Error("Mask value must be in range [0, 255] but got "+e);if(!Number.isInteger(e))throw Error("Mask value must be an integer but got "+e)}var x=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function y(e){if(_(e),e<x.length){var t=x[e];return{r:t[0],g:t[1],b:t[2],a:255}}throw Error("Mask value must be in range [0, "+x.length+")")}function b(e){var t=e.shape[2],r=(0,s.argMax)(e,2),n=(0,s.reshape)(r,[-1]);return(0,s.oneHot)(n,t)}function k(e,t){return(0,s.tidy)(function(){return(0,s.cast)((0,s.greater)(e,(0,s.scalar)(t)),"int32")})}var j=function(){function e(e,t){this.model=e,this.outputStride=t;var r=this.model.inputs[0].shape;s.util.assert(-1===r[1]&&-1===r[2],function(){return"Input shape ["+r[1]+", "+r[2]+"] must both be equal to or -1"})}return e.prototype.predict=function(e){var t=this;return(0,s.tidy)(function(){var r=t.preprocessInput((0,s.cast)(e,"float32")),n=(0,s.expandDims)(r,0),a=t.model.predict(n).map(function(e){return(0,s.squeeze)(e,[0])}),o=t.nameOutputResults(a);return{heatmapScores:(0,s.sigmoid)(o.heatmap),offsets:o.offsets,displacementFwd:o.displacementFwd,displacementBwd:o.displacementBwd,segmentation:o.segmentation,partHeatmaps:o.partHeatmaps,longOffsets:o.longOffsets,partOffsets:o.partOffsets}})},e.prototype.dispose=function(){this.model.dispose()},e}(),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.preprocessInput=function(e){return(0,s.tidy)(function(){return(0,s.sub)((0,s.div)(e,127.5),1)})},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(j),S=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],I=S.length,T=S.reduce(function(e,t,r){return e[t]=r,e},{});function N(e,t,r){var n=e[0],a=e[1],o=t[0],s=t[1],i=r.top,c=r.bottom;return[s/(r.left+r.right+a),o/(i+c+n)]}function C(e,t,r,n){return{y:n.get(e,t,r),x:n.get(e,t,r+I)}}function E(e,t,r){var n=C(e.heatmapY,e.heatmapX,e.id,r),a=n.y,o=n.x;return{x:e.heatmapX*t+o,y:e.heatmapY*t+a}}function F(e,t){return{x:e.x+t.x,y:e.y+t.y}}function A(e,t,r,n,a,o,s,i,c,u){for(var l=a[0],p=a[1],f=o[0],d=o[1],h=i[0],m=i[1],g=[],v=function(e){var t,r,n,a,o,s,i;return t=[l,p],r=[f,d],n=t[0],a=t[1],o=r[0],s=r[1],i=Math.round(((n+e.y+1)*s-1)/c),{x:Math.round(((a+e.x+1)*o-1)/c),y:i}},_=0;_<n;_++){var x=function(e,t,r,n,a,o,s){for(var i=s[0],c=s[1],u=r(e),l=u.y*n+u.x,p=a[2*l*I+t],f=a[I*(2*l+1)+t],d=e.y+p,h=e.x+f,m=0;m<o;m++){d=Math.min(d,i-1);var g=r({x:h=Math.min(h,c-1),y:d}),v=g.y*n+g.x;d+=p=a[2*v*I+t],h+=f=a[I*(2*v+1)+t]}return{x:h,y:d}}(e,_,v,s,t,u,[h,m]);g.push(x)}for(var y=-1,b=1/0,k=0;k<r.length;k++){var j=function(e,t,r){void 0===r&&(r=.3);for(var n=0,a=0,o=0;o<e.length;o++)t.keypoints[o].score>r&&(a+=1,n+=Math.pow(e[o].x-t.keypoints[o].position.x,2)+Math.pow(e[o].y-t.keypoints[o].position.y,2));return 0===a?n=1/0:n/=a,n}(g,r[k]);j<b&&(y=k,b=j)}return y}function P(e,t){var r=e[0];return[Math.round((e[1]-1)/t+1),Math.round((r-1)/t+1)]}function R(e,t,r,n,a,o,i,c,u,l,p){for(var f=i[0],d=i[1],h=e.shape,m=h[0],g=h[1],v=t.shape.slice(0,2),_=v[0],x=v[1],y=(0,s.reshape)(t,[_,x,2,I]),b=new Float32Array(p*I*3).fill(0),k=0;k<r.length;k++)for(var j=k*I*3,w=r[k],S=0;S<I;S++){var T=w.keypoints[S],C=j+3*S;b[C]=T.score,b[C+1]=T.position.y,b[C+2]=T.position.x}var E=N([n,a],[f,d],c),F=E[0],A=E[1],P=(0,s.tensor)(b,[p,I,3]),R=c.top,D=c.left,M={variableNames:["segmentation","longOffsets","poses"],outputShape:[m,g],userCode:"\n int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n }\n\n float convertToPositionInOutputFloat(\n int pos, int pad, float scale, int stride) {\n return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n }\n\n float dist(float x1, float y1, float x2, float y2) {\n return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n }\n\n float sampleLongOffsets(float h, float w, int d, int k) {\n float fh = fract(h);\n float fw = fract(w);\n int clH = int(ceil(h));\n int clW = int(ceil(w));\n int flH = int(floor(h));\n int flW = int(floor(w));\n float o11 = getLongOffsets(flH, flW, d, k);\n float o12 = getLongOffsets(flH, clW, d, k);\n float o21 = getLongOffsets(clH, flW, d, k);\n float o22 = getLongOffsets(clH, clW, d, k);\n float o1 = mix(o11, o12, fw);\n float o2 = mix(o21, o22, fw);\n return mix(o1, o2, fh);\n }\n\n int findNearestPose(int h, int w) {\n float prob = getSegmentation(h, w);\n if (prob < 1.0) {\n return -1;\n }\n\n // Done(Tyler): convert from output space h/w to strided space.\n float stridedH = convertToPositionInOutputFloat(\n h, "+R+", "+A+", "+o+");\n float stridedW = convertToPositionInOutputFloat(\n w, "+D+", "+F+", "+o+");\n\n float minDist = 1000000.0;\n int iMin = -1;\n for (int i = 0; i < "+p+"; i++) {\n float curDistSum = 0.0;\n int numKpt = 0;\n for (int k = 0; k < "+I+"; k++) {\n float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n float y = float(h) + dy;\n float x = float(w) + dx;\n\n for (int s = 0; s < "+u+"; s++) {\n int yRounded = round(min(y, float("+(n-1)+")));\n int xRounded = round(min(x, float("+(a-1)+")));\n\n float yStrided = convertToPositionInOutputFloat(\n yRounded, "+R+", "+A+", "+o+");\n float xStrided = convertToPositionInOutputFloat(\n xRounded, "+D+", "+F+", "+o+");\n\n float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n y = y + dy;\n x = x + dx;\n }\n\n float poseScore = getPoses(i, k, 0);\n float poseY = getPoses(i, k, 1);\n float poseX = getPoses(i, k, 2);\n if (poseScore >"+l+") {\n numKpt = numKpt + 1;\n curDistSum = curDistSum + dist(x, y, poseX, poseY);\n }\n }\n if (numKpt > 0 && curDistSum / float(numKpt)< minDist) {\n minDist = curDistSum / float(numKpt);\n iMin = i;\n }\n }\n return iMin;\n }\n\n void main() {\n ivec2 coords = getOutputCoords();\n int nearestPose = findNearestPose(coords[0], coords[1]);\n setOutput(float(nearestPose));\n }\n "};return(0,s.backend)().compileAndRun(M,[e,y,P])}function D(){return"webgl"===(0,s.getBackend)()}function M(e){return Math.floor(e/2)}[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map(function(e){var t=e[0],r=e[1];return[T[t],T[r]]});var O=function(){function e(e,t){this.priorityQueue=Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return -1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(M(e),e);)this.exchange(e,M(e)),e=M(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=r},e}(),L=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map(function(e){var t=e[0],r=e[1];return[T[t],T[r]]}),V=L.map(function(e){return e[1]}),U=L.map(function(e){return e[0]});function B(e,t,r,n){var a,o,s,i;return{y:(a=Math.round(e.y/t),o=r-1,a<0?0:a>o?o:a),x:(s=Math.round(e.x/t),i=n-1,s<0?0:s>i?i:s)}}function z(e,t,r,n,a,o,s,i){void 0===i&&(i=2);for(var c,u,l=n.shape,p=l[0],f=l[1],d=(c=B(t.position,o,p,f),u=s.shape[2]/2,{y:s.get(c.y,c.x,e),x:s.get(c.y,c.x,u+e)}),h=F(t.position,d),m=0;m<i;m++){var g=B(h,o,p,f),v=C(g.y,g.x,r,a);h=F({x:g.x*o,y:g.y*o},{x:v.x,y:v.y})}var _=B(h,o,p,f),x=n.get(_.y,_.x,r);return{position:h,part:S[r],score:x}}function G(e,t,r,n){var a=r.x,o=r.y;return e.some(function(e){var r,s,i,c,u=e.keypoints[n].position;return r=u.y,s=u.x,(i=r-o)*i+(c=s-a)*c<=t})}function W(e,t,r,n,a,o,s,i){void 0===s&&(s=.5),void 0===i&&(i=20);for(var c=[],u=function(e,t,r){for(var n=r.shape,a=n[0],o=n[1],s=n[2],i=new O(a*o*s,function(e){return e.score}),c=0;c<a;++c)for(var u=0;u<o;++u)for(var l=0;l<s;++l){var p=r.get(c,u,l);p<e||function(e,t,r,n,a,o){for(var s=o.shape,i=s[0],c=s[1],u=!0,l=Math.max(r-1,0),p=Math.min(r+a+1,i),f=l;f<p;++f){for(var d=Math.max(n-a,0),h=Math.min(n+a+1,c),m=d;m<h;++m)if(o.get(f,m,e)>t){u=!1;break}if(!u)break}return u}(l,p,c,u,1,r)&&i.enqueue({score:p,part:{heatmapY:c,heatmapX:u,id:l}})}return i}(s,0,e),l=i*i;c.length<o&&!u.empty();){var p=u.dequeue();if(!G(c,l,E(p.part,a,t),p.part.id)){var f=function(e,t,r,n,a,o){var s=t.shape[2],i=V.length,c=Array(s),u=e.part,l=e.score,p=E(u,n,r);c[u.id]={score:l,part:S[u.id],position:p};for(var f=i-1;f>=0;--f){var d=V[f],h=U[f];c[d]&&!c[h]&&(c[h]=z(f,c[d],h,t,r,n,o))}for(f=0;f<i;++f)d=U[f],h=V[f],c[d]&&!c[h]&&(c[h]=z(f,c[d],h,t,r,n,a));return c}(p,e,t,a,r,n),d=function(e,t,r){return r.reduce(function(r,n,a){var o=n.position,s=n.score;return G(e,t,o,a)||(r+=s),r},0)/r.length}(c,l,f);c.push({keypoints:f,score:d})}}return c}var q,H=[-123.15,-115.9,-103.06],Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.preprocessInput=function(e){return(0,s.add)(e,H)},t.prototype.nameOutputResults=function(e){var t=e[0],r=e[1],n=e[2],a=e[3],o=e[4],s=e[5];return{offsets:o,segmentation:e[6],partHeatmaps:s,longOffsets:a,heatmap:n,displacementFwd:r,displacementBwd:t,partOffsets:e[7]}},t}(j),K="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",X="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Y(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw Error("HTMLImageElement must have height and width attributes set.")}if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth];if(e instanceof s.Tensor)return[e.shape[0],e.shape[1]];throw Error("error: Unknown input type: "+e+".")}function J(e,t){return(e-1)%t==0?e:Math.floor(e/t)*t+1}var Q={low:"low",medium:"medium",high:"high",full:"full"},$=((q={})[Q.low]=.25,q[Q.medium]=.5,q[Q.high]=.75,q[Q.full]=1,q);function ee(e,t,r){var n=r[0],a=r[1],o=function(e){if("string"==typeof e){var t=$[e];return s.util.assert("number"==typeof t,function(){return"string value of inputResolution must be one of "+Object.values(Q).join(",")+" but was "+e+"."}),t}return s.util.assert("number"==typeof e&&e<=2&&e>=.1,function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e}),e}(e);return[J(n*o,t),J(a*o,t)]}function et(e,t,r,n,a){var o=t[0],i=t[1],c=r[0],u=r[1],l=n[0],p=l[0],f=l[1],d=n[1],h=d[0],m=d[1];return void 0===a&&(a=!1),(0,s.tidy)(function(){var t,r,n,l,d,g,v,_,x,y,b,k=s.image.resizeBilinear(e,[c,u],!0);return a&&(k=(0,s.sigmoid)(k)),t=k,r=[o,i],n=[[p,f],[h,m]],l=r[0],d=r[1],v=(g=n[0])[0],_=g[1],y=(x=n[1])[0],b=x[1],(0,s.tidy)(function(){var e=(0,s.expandDims)(t);return(0,s.squeeze)(s.image.cropAndResize(e,[[v/(l+v+_-1),y/(d+y+b-1),(v+l-1)/(l+v+_-1),(y+d-1)/(d+y+b-1)]],[0],[l,d]),[0])})})}function er(e,t){var r=t[0],n=t[1],a=Y(e),o=a[0],i=a[1],c=n/r,u=0,l=0,p=0,f=0;return i/o<c?(u=0,l=0,p=Math.round(.5*(c*o-i)),f=Math.round(.5*(c*o-i))):(u=Math.round(.5*(1/c*i-o)),l=Math.round(.5*(1/c*i-o)),p=0,f=0),{resized:(0,s.tidy)(function(){var t=e instanceof s.Tensor?e:s.browser.fromPixels(e);return t=(0,s.pad3d)(t,[[u,l],[p,f],[0,0]]),s.image.resizeBilinear(t,[r,n])}),padding:{top:u,left:p,right:f,bottom:l}}}function en(e){return f(this,void 0,void 0,function(){return d(this,function(t){return[2,Promise.all(e.map(function(e){return e.buffer()}))]})})}function ea(e,t,r,n,a){var o,s,i,c,u=t[0],l=t[1],p=r[0],f=r[1],d=(o=(u+n.top+n.bottom)/p,s=(l+n.left+n.right)/f,i=-n.top,c=-n.left,void 0===i&&(i=0),void 0===c&&(c=0),1===s&&1===o&&0===i&&0===c?e:e.map(function(e){var t,r;return void 0===(t=i)&&(t=0),void 0===(r=c)&&(r=0),{score:e.score,keypoints:e.keypoints.map(function(e){var n=e.score,a=e.part,i=e.position;return{score:n,part:a,position:{x:i.x*s+r,y:i.y*o+t}}})}}));return a?l<=0?d:d.map(function(e){return{score:e.score,keypoints:e.keypoints.map(function(e){var t=e.score,r=e.part,n=e.position;return{score:t,part:r,position:{x:l-1-n.x,y:n.y}}})}}):d}var eo={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},es=["MobileNetV1","ResNet50"],ei={MobileNetV1:[8,16,32],ResNet50:[32,16]},ec={MobileNetV1:[.5,.75,1],ResNet50:[1]},eu=[1,2,4],el={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},ep={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function ef(e){var t=e.segmentationThreshold,r=e.maxDetections,n=e.scoreThreshold,a=e.nmsRadius;if(t<0||t>1)throw Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(r<=0)throw Error("Invalid maxDetections "+r+". Should be >0");if(n<0||n>1)throw Error("Invalid scoreThreshold "+n+". Should be in range [0.0, 1.0]");if(a<=0)throw Error("Invalid nmsRadius "+a+".")}function ed(e){var t=e.segmentationThreshold,r=e.maxDetections,n=e.scoreThreshold,a=e.nmsRadius,o=e.minKeypointScore,s=e.refineSteps;if(t<0||t>1)throw Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(r<=0)throw Error("Invalid maxDetections "+r+". Should be >0");if(n<0||n>1)throw Error("Invalid scoreThreshold "+n+". Should be in range [0.0, 1.0]");if(a<=0)throw Error("Invalid nmsRadius "+a+".");if(o<0||o>1)throw Error("Invalid minKeypointScore "+o+".Should be in range [0.0, 1.0]");if(s<=0||s>20)throw Error("Invalid refineSteps "+s+".Should be in range [1, 20]")}var eh=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,r){var n=this;void 0===r&&(r=.5);var a=Y(e),o=a[0],i=a[1],c=ee(t,this.baseModel.outputStride,[o,i]),u=er(e,c),l=u.resized,p=u.padding,f=(0,s.tidy)(function(){var e=n.predictForPersonSegmentation(l),t=e.segmentLogits,a=e.heatmapScores,c=e.offsets,u=e.displacementFwd,f=e.displacementBwd,d=l.shape,h=et(t,[o,i],[d[0],d[1]],[[p.top,p.bottom],[p.left,p.right]],!0);return{segmentation:k((0,s.squeeze)(h),r),heatmapScores:a,offsets:c,displacementFwd:u,displacementBwd:f}}),d=f.segmentation,h=f.heatmapScores,m=f.offsets,g=f.displacementFwd,v=f.displacementBwd;return l.dispose(),{segmentation:d,heatmapScores:h,offsets:m,displacementFwd:g,displacementBwd:v,padding:p,internalResolutionHeightAndWidth:c}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=el),f(this,void 0,void 0,function(){var r,n,a,o,s,i,c,u,l,f,h,m,g,v,_,x;return d(this,function(d){switch(d.label){case 0:return ef(t=p(p({},el),t)),n=(r=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold)).segmentation,a=r.heatmapScores,o=r.offsets,s=r.displacementFwd,i=r.displacementBwd,c=r.padding,u=r.internalResolutionHeightAndWidth,f=(l=n.shape)[0],h=l[1],[4,n.data()];case 1:return m=d.sent(),n.dispose(),[4,en([a,o,s,i])];case 2:return v=(g=d.sent())[0],_=g[1],x=ea(x=W(v,_,g[2],g[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,h],u,c,!1),a.dispose(),o.dispose(),s.dispose(),i.dispose(),[2,{height:f,width:h,data:m,allPoses:x}]}})})},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=ep),f(this,void 0,void 0,function(){var r,n,a,o,i,c,u,l,h,m,g,v,_,x,y,b,j,w,S,I=this;return d(this,function(T){switch(T.label){case 0:return ed(t=p(p({},ep),t)),n=(r=Y(e))[0],a=r[1],c=(i=er(e,o=ee(t.internalResolution,this.baseModel.outputStride,[n,a]))).resized,u=i.padding,h=(l=(0,s.tidy)(function(){var e=I.predictForMultiPersonInstanceSegmentationAndPart(c),r=e.segmentLogits,i=e.longOffsets,l=e.heatmapScores,p=e.offsets,f=e.displacementFwd,d=e.displacementBwd,h=et(r,[n,a],o,[[u.top,u.bottom],[u.left,u.right]],!0);return{segmentation:k((0,s.squeeze)(h),t.segmentationThreshold),longOffsets:i,heatmapScoresRaw:l,offsetsRaw:p,displacementFwdRaw:f,displacementBwdRaw:d}})).segmentation,m=l.longOffsets,g=l.heatmapScoresRaw,v=l.offsetsRaw,_=l.displacementFwdRaw,x=l.displacementBwdRaw,[4,en([g,v,_,x])];case 1:return b=(y=T.sent())[0],j=y[1],w=ea(w=W(b,j,y[2],y[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,a],o,u,!1),[4,function(e,t,r,n,a,o,i,c,u,l,p,h){var m=i[0],g=i[1];return void 0===u&&(u=.2),void 0===l&&(l=8),void 0===p&&(p=.3),void 0===h&&(h=10),f(this,void 0,void 0,function(){var i,f,v,_,x;return d(this,function(d){switch(d.label){case 0:return i=r.filter(function(e){return e.score>=u}),D()?[4,Promise.all((v=(0,s.tidy)(function(){var r=R(e,t,i,n,a,o,[m,g],c,l,p,h),u=(0,s.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return i.map(function(e,t){return(0,s.tidy)(function(){return(0,s.cast)((0,s.equal)(u,(0,s.scalar)(t)),"int32")})})})).map(function(e){return e.data()}))]:[3,2];case 1:return f=d.sent(),v.forEach(function(e){return e.dispose()}),[3,5];case 2:return[4,e.data()];case 3:return _=d.sent(),[4,t.data()];case 4:x=d.sent(),f=function(e,t,r,n,a,o,s,i,c,u){var l=s[0],p=s[1];void 0===u&&(u=5);for(var f=r.map(function(e){return new Uint8Array(n*a).fill(0)}),d=i.top,h=i.left,m=N([n,a],[l,p],i),g=m[0],v=m[1],_=P([l,p],o)[0],x=0;x<n;x+=1)for(var y=0;y<a;y+=1){var b=x*a+y;if(1===e[b]){var k=A({x:y,y:x},t,r,u,[d,h],[g,v],_,[n,a],o,c);k>=0&&(f[k][b]=1)}}return f}(_,x,i,n,a,o,[m,g],c,l),d.label=5;case 5:return[2,f.map(function(e,t){return{data:e,pose:i[t],width:a,height:n}})]}})})}(h,m,w,n,a,this.baseModel.outputStride,o,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return S=T.sent(),c.dispose(),h.dispose(),m.dispose(),g.dispose(),v.dispose(),_.dispose(),x.dispose(),[2,S]}})})},e.prototype.segmentPersonPartsActivation=function(e,t,r){var n=this;void 0===r&&(r=.5);var a=Y(e),o=a[0],i=a[1],c=ee(t,this.baseModel.outputStride,[o,i]),u=er(e,c),l=u.resized,p=u.padding,f=(0,s.tidy)(function(){var e,t,a,c,u,f=n.predictForPersonSegmentationAndPart(l),d=f.segmentLogits,h=f.partHeatmapLogits,m=f.heatmapScores,g=f.offsets,v=f.displacementFwd,_=f.displacementBwd,x=l.shape,y=x[0],j=x[1],w=et(d,[o,i],[y,j],[[p.top,p.bottom],[p.left,p.right]],!0),S=et(h,[o,i],[y,j],[[p.top,p.bottom],[p.left,p.right]],!0);return{partSegmentation:(e=k((0,s.squeeze)(w),r),a=(t=S.shape)[0],c=t[1],u=t[2],(0,s.tidy)(function(){var t=b(S),r=(0,s.expandDims)((0,s.range)(0,u,1,"int32"),1),n=(0,s.cast)((0,s.matMul)(t,r),"int32"),o=(0,s.reshape)(n,[a,c]),i=(0,s.add)(o,(0,s.scalar)(1,"int32"));return(0,s.sub)((0,s.mul)(i,e),(0,s.scalar)(1,"int32"))})),heatmapScores:m,offsets:g,displacementFwd:v,displacementBwd:_}}),d=f.partSegmentation,h=f.heatmapScores,m=f.offsets,g=f.displacementFwd,v=f.displacementBwd;return l.dispose(),{partSegmentation:d,heatmapScores:h,offsets:m,displacementFwd:g,displacementBwd:v,padding:p,internalResolutionHeightAndWidth:c}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=el),f(this,void 0,void 0,function(){var r,n,a,o,s,i,c,u,l,f,h,m,g,v,_,x;return d(this,function(d){switch(d.label){case 0:return ef(t=p(p({},el),t)),n=(r=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold)).partSegmentation,a=r.heatmapScores,o=r.offsets,s=r.displacementFwd,i=r.displacementBwd,c=r.padding,u=r.internalResolutionHeightAndWidth,f=(l=n.shape)[0],h=l[1],[4,n.data()];case 1:return m=d.sent(),n.dispose(),[4,en([a,o,s,i])];case 2:return v=(g=d.sent())[0],_=g[1],x=ea(x=W(v,_,g[2],g[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,h],u,c,!1),a.dispose(),o.dispose(),s.dispose(),i.dispose(),[2,{height:f,width:h,data:m,allPoses:x}]}})})},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=ep),f(this,void 0,void 0,function(){var r,n,a,o,i,c,u,l,h,m,g,v,_,x,y,j,w,S,I,T,C=this;return d(this,function(E){switch(E.label){case 0:return ed(t=p(p({},ep),t)),n=(r=Y(e))[0],a=r[1],c=(i=er(e,o=ee(t.internalResolution,this.baseModel.outputStride,[n,a]))).resized,u=i.padding,h=(l=(0,s.tidy)(function(){var e,r,i,l,p=C.predictForMultiPersonInstanceSegmentationAndPart(c),f=p.segmentLogits,d=p.longOffsets,h=p.heatmapScores,m=p.offsets,g=p.displacementFwd,v=p.displacementBwd,_=p.partHeatmaps,x=et(f,[n,a],o,[[u.top,u.bottom],[u.left,u.right]],!0),y=et(_,[n,a],o,[[u.top,u.bottom],[u.left,u.right]],!0);return{segmentation:k((0,s.squeeze)(x),t.segmentationThreshold),longOffsets:d,heatmapScoresRaw:h,offsetsRaw:m,displacementFwdRaw:g,displacementBwdRaw:v,partSegmentation:(r=(e=y.shape)[0],i=e[1],l=e[2],(0,s.tidy)(function(){var e=b(y),t=(0,s.expandDims)((0,s.range)(0,l,1,"int32"),1),n=(0,s.cast)((0,s.matMul)(e,t),"int32");return(0,s.reshape)(n,[r,i])}))}})).segmentation,m=l.longOffsets,g=l.heatmapScoresRaw,v=l.offsetsRaw,_=l.displacementFwdRaw,x=l.displacementBwdRaw,y=l.partSegmentation,[4,en([g,v,_,x])];case 1:return w=(j=E.sent())[0],S=j[1],I=ea(I=W(w,S,j[2],j[3],this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[n,a],o,u,!1),[4,function(e,t,r,n,a,o,i,c,u,l,p,h,m){var g=c[0],v=c[1];return void 0===l&&(l=.2),void 0===p&&(p=8),void 0===h&&(h=.3),void 0===m&&(m=10),f(this,void 0,void 0,function(){var c,f,_,x,y,b;return d(this,function(d){switch(d.label){case 0:return c=n.filter(function(e){return e.score>=l}),D()?[4,Promise.all((_=(0,s.tidy)(function(){var n=R(e,t,c,a,o,i,[g,v],u,p,h,m),l=(0,s.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return c.map(function(e,t){return(0,s.tidy)(function(){return(0,s.sub)((0,s.mul)((0,s.cast)((0,s.equal)(l,(0,s.scalar)(t)),"int32"),(0,s.add)(r,1)),1)})})})).map(function(e){return e.data()}))]:[3,2];case 1:return f=d.sent(),_.forEach(function(e){return e.dispose()}),[3,6];case 2:return[4,e.data()];case 3:return x=d.sent(),[4,t.data()];case 4:return y=d.sent(),[4,r.data()];case 5:b=d.sent(),f=function(e,t,r,n,a,o,s,i,c,u,l){var p=i[0],f=i[1];void 0===l&&(l=5);for(var d=n.map(function(e){return new Int32Array(a*o).fill(-1)}),h=c.top,m=c.left,g=N([a,o],[p,f],c),v=g[0],_=g[1],x=P([p,f],s)[0],y=0;y<a;y+=1)for(var b=0;b<o;b+=1){var k=y*o+b;if(1===e[k]){var j=A({x:b,y:y},t,n,l,[h,m],[v,_],x,[a,o],s,u);j>=0&&(d[j][k]=r[k])}}return d}(x,y,b,c,a,o,i,[g,v],u,p),d.label=6;case 6:return[2,f.map(function(e,t){return{pose:c[t],data:e,height:a,width:o}})]}})})}(h,m,y,I,n,a,this.baseModel.outputStride,o,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return T=E.sent(),c.dispose(),h.dispose(),m.dispose(),g.dispose(),v.dispose(),_.dispose(),x.dispose(),y.dispose(),[2,T]}})})},e.prototype.dispose=function(){this.baseModel.dispose()},e}(),em=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],eg=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,m(this.mask)]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,v(this.mask)]})})},e.prototype.getUnderlyingType=function(){return"imagedata"},e}();function ev(e){if(_(e),255!==e)throw Error("Foreground id must be 255 but got "+e);return"person"}function e_(e){if(_(e),e>=em.length)throw Error("Invalid body part value "+e);return em[e]}var ex=function(){function e(e){this.bodyPixModel=e}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r,n,a,o;return d(this,function(s){switch(s.label){case 0:return e instanceof ImageBitmap&&((r=document.createElement("canvas")).getContext("2d").drawImage(e,0,0),e=r),t.segmentBodyParts?t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPersonParts(e,t)]:[3,2]:[3,5];case 1:return a=s.sent(),[3,4];case 2:return[4,this.bodyPixModel.segmentPersonParts(e,t)];case 3:a=[s.sent()],s.label=4;case 4:return n=a.map(function(e){var t=e.data,r=e.width,n=e.height,a=new Uint8ClampedArray(r*n*4).fill(0);return t.forEach(function(e,t){-1===e?(a[4*t]=em.length,a[4*t+3]=0):(a[4*t]=e,a[4*t+3]=255)}),{maskValueToLabel:e_,mask:new eg(new ImageData(a,r,n))}}),[3,10];case 5:return t.multiSegmentation?[4,this.bodyPixModel.segmentMultiPerson(e,t)]:[3,7];case 6:return o=s.sent(),[3,9];case 7:return[4,this.bodyPixModel.segmentPerson(e,t)];case 8:o=[s.sent()],s.label=9;case 9:n=o.map(function(e){var t=e.data,r=e.width,n=e.height,a=new Uint8ClampedArray(r*n*4).fill(0);return t.forEach(function(e,t){0===e?(a[4*t]=0,a[4*t+3]=0):(a[4*t]=255,a[4*t+3]=255)}),{maskValueToLabel:ev,mask:new eg(new ImageData(a,r,n))}}),s.label=10;case 10:return[2,n]}})})},e.prototype.dispose=function(){this.bodyPixModel.dispose()},e.prototype.reset=function(){},e}(),ey={runtime:"mediapipe",modelType:"general"},eb=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,g(this.mask)]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,v(this.mask)]})})},e.prototype.getUnderlyingType=function(){return"canvasimagesource"},e}();function ek(e){return _(e),"person"}var ej=function(){function e(e){var t,r,n=this;this.selfieMode=!1,t=+(this.selfieSegmentationSolution=new(0,c.SelfieSegmentation)({locateFile:null!=(r=e.locateFile)?r:function(t,r){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:r+"/"+t}}),"landscape"===e.modelType),this.selfieSegmentationSolution.setOptions({modelSelection:t,selfieMode:this.selfieMode}),this.selfieSegmentationSolution.onResults(function(e){n.segmentation=[{maskValueToLabel:ek,mask:new eb(e.segmentationMask)}]})}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r,n;return d(this,function(a){switch(a.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.selfieSegmentationSolution.setOptions({selfieMode:this.selfieMode})),e instanceof s.Tensor?(n=ImageData.bind,[4,s.browser.toPixels(e)]):[3,2];case 1:return r=new(n.apply(ImageData,[void 0,a.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,a.label=3;case 3:return e=r,[4,this.selfieSegmentationSolution.send({image:e})];case 4:return a.sent(),[2,this.segmentation]}})})},e.prototype.dispose=function(){this.selfieSegmentationSolution.close()},e.prototype.reset=function(){this.selfieSegmentationSolution.reset(),this.segmentation=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.selfieSegmentationSolution.initialize()},e}();function ew(e){return e instanceof s.Tensor?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function eS(e,t){s.util.assert(0!==e.width,function(){return t+" width cannot be 0."}),s.util.assert(0!==e.height,function(){return t+" height cannot be 0."})}var eI={runtime:"tfjs",modelType:"general",modelUrl:"https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1"},eT={flipHorizontal:!1},eN={outputTensorSize:{width:256,height:256},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},eC={outputTensorSize:{width:256,height:144},keepAspectRatio:!1,borderMode:"zero",outputTensorFloatRange:[0,1]},eE={activation:"none"},eF=function(){function e(e){this.mask=e}return e.prototype.toCanvasImageSource=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,m(this.mask)]})})},e.prototype.toImageData=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,g(this.mask)]})})},e.prototype.toTensor=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return[2,this.mask]})})},e.prototype.getUnderlyingType=function(){return"tensor"},e}();function eA(e){return _(e),"person"}var eP,eR=function(){function e(e,t){this.modelType=e,this.model=t}return e.prototype.segmentPeople=function(e,t){return f(this,void 0,void 0,function(){var r=this;return d(this,function(n){return t=function(e){if(null==e)return p({},eT);var t=p({},e);return null==t.flipHorizontal&&(t.flipHorizontal=eT.flipHorizontal),t}(t),null==e?(this.reset(),[2,[]]):[2,[{maskValueToLabel:eA,mask:new eF((0,s.tidy)(function(){var t,n,a,o,i,c,u,l,p,f,d,h,m,g,v,_,x,y,b,k,j,w,S=(v=(t="general"===r.modelType?eN:eC).outputTensorSize,_=t.keepAspectRatio,x=t.borderMode,y=t.outputTensorFloatRange,j=function(e,t,r){if(void 0===r&&(r=!1),!r)return{top:0,left:0,right:0,bottom:0};var n=t.height,a=t.width;eS(t,"targetSize"),eS(e,"roi");var o,s,i=n/a,c=e.height/e.width,u=0,l=0;return i>c?(o=e.width,s=e.width*i,l=(1-c/i)/2):(o=e.height/i,s=e.height,u=(1-i/c)/2),e.width=o,e.height=s,{top:l,left:u,right:u,bottom:l}}((n=b=ew(e),k={xCenter:.5*n.width,yCenter:.5*n.height,width:n.width,height:n.height,rotation:0}),v,_),a=b.width,o=b.height,i=k.width,c=k.height,u=1,l=Math.cos(k.rotation),p=Math.sin(k.rotation),f=k.xCenter,d=k.yCenter,h=1/a,m=1/o,(g=Array(16))[0]=i*l*u*h,g[1]=-c*p*h,g[2]=0,g[3]=(-.5*i*l*u+.5*c*p+f)*h,g[4]=i*p*u*m,g[5]=c*l*m,g[6]=0,g[7]=(-.5*c*l-.5*i*p*u+d)*m,g[8]=0,g[9]=0,g[10]=i*h,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,w=function(e){if(16!==e.length)throw Error("Array length must be 16 but got "+e.length);return[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}(g),{imageTensor:(0,s.tidy)(function(){var t,r=e instanceof s.Tensor?e:s.browser.fromPixels(e),n=(0,s.tensor2d)((eS(v,"inputResolution"),[1/v.width*w[0][0]*b.width,1/v.height*w[0][1]*b.width,w[0][3]*b.width,1/v.width*w[1][0]*b.height,1/v.height*w[1][1]*b.height,w[1][3]*b.height,0,0]),[1,8]),a=s.image.transform((0,s.expandDims)((0,s.cast)(r,"float32")),n,"bilinear","zero"===x?"constant":"nearest",0,[v.height,v.width]);return null!=y?(t=function(e,t,r,n){!1;var a=(n-r)/255;return{scale:a,offset:r-e*a}}(0,0,y[0],y[1]),(0,s.tidy)(function(){return(0,s.add)((0,s.mul)(a,t.scale),t.offset)})):a}),padding:j,transformationMatrix:w}).imageTensor,I=(0,s.slice)(r.model.predict(S),[0,0,0,1],-1),T=ew(e),N=(0,s.tidy)(function(){var e=(0,s.squeeze)(I,[0]),t=e.shape[2];if(1===t){var r=e;switch(eE.activation){case"none":break;case"sigmoid":r=(0,s.sigmoid)(r);break;case"softmax":throw Error("Softmax activation requires two channels.");default:throw Error("Activation not supported ("+eE.activation+")")}var n=T?s.image.resizeBilinear(r,[T.height,T.width]):r;return(0,s.squeeze)(n,[2])}throw Error("Unsupported number of tensor channels "+t)}),C=(0,s.expandDims)(N,2),E=(0,s.pad)(C,[[0,0],[0,0],[0,1]]);return(0,s.mirrorPad)(E,[[0,0],[0,0],[0,2]],"symmetric")}))}]]})})},e.prototype.dispose=function(){this.model.dispose()},e.prototype.reset=function(){},e}();function eD(e,t){return f(this,void 0,void 0,function(){var r,n;return d(this,function(a){switch(e){case eP.MediaPipeSelfieSegmentation:if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,function(e){return f(this,void 0,void 0,function(){var t,r,n;return d(this,function(a){switch(a.label){case 0:return r="string"==typeof(t=function(e){if(null==e)return p({},eI);var t=p({},e);if(t.runtime="tfjs",null==t.modelType&&(t.modelType=eI.modelType),"general"!==t.modelType&&"landscape"!==t.modelType)throw Error("Model type must be one of general or landscape, but got "+t.modelType);return null==t.modelUrl&&("general"===t.modelType?t.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/general/1":t.modelUrl="https://tfhub.dev/mediapipe/tfjs-model/selfie_segmentation/landscape/1"),t}(e)).modelUrl&&t.modelUrl.indexOf("https://tfhub.dev")>-1,[4,(0,i.loadGraphModel)(t.modelUrl,{fromTFHub:r})];case 1:return n=a.sent(),[2,new eR(t.modelType,n)]}})})}(n)];if("mediapipe"===n.runtime)return[2,function(e){return f(this,void 0,void 0,function(){var t;return d(this,function(r){switch(r.label){case 0:return[4,(t=new ej(function(e){if(null==e)return p({},ey);var t=p({},e);return t.runtime="mediapipe",null==t.modelType&&(t.modelType=ey.modelType),t}(e))).initialize()];case 1:return r.sent(),[2,t]}})})}(n)];r=n.runtime}throw Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r);case eP.BodyPix:return[2,function(e){return f(this,void 0,void 0,function(){return d(this,function(t){return[2,(function(e){return void 0===e&&(e=eo),f(this,void 0,void 0,function(){return d(this,function(t){return"ResNet50"===(e=function(e){if(null==(e=e||eo).architecture&&(e.architecture="MobileNetV1"),0>es.indexOf(e.architecture))throw Error("Invalid architecture "+e.architecture+". Should be one of "+es);if(null==e.outputStride&&(e.outputStride=16),0>ei[e.architecture].indexOf(e.outputStride))throw Error("Invalid outputStride "+e.outputStride+". Should be one of "+ei[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),0>ec[e.architecture].indexOf(e.multiplier))throw Error("Invalid multiplier "+e.multiplier+". Should be one of "+ec[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),0>eu.indexOf(e.quantBytes))throw Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+eu+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,function(e){return f(this,void 0,void 0,function(){var t,r,n;return d(this,function(a){switch(a.label){case 0:var o;if(t=e.outputStride,r=e.quantBytes,null==s)throw Error("Cannot find TensorFlow.js. If you are using a<script>tag, please also include @tensorflow/tfjs on the page before using this\n model.");return o="model-stride"+t+".json",n=4===r?K+"float/"+o:K+"quant"+r+"/"+o,[4,(0,i.loadGraphModel)(e.modelUrl||n)];case 1:return[2,new eh(new Z(a.sent(),t))]}})})}(e)]:"MobileNetV1"===e.architecture?[2,function(e){return f(this,void 0,void 0,function(){var t,r,n,a;return d(this,function(o){switch(o.label){case 0:var c,u;if(t=e.outputStride,r=e.quantBytes,n=e.multiplier,null==s)throw Error("Cannot find TensorFlow.js. If you are using a<script>tag, please also include @tensorflow/tfjs on the page before using this\n model.");return c={1:"100",.75:"075",.5:"050"},u="model-stride"+t+".json",a=4===r?X+"float/"+c[n]+"/"+u:X+"quant"+r+"/"+c[n]+"/"+u,[4,(0,i.loadGraphModel)(e.modelUrl||a)];case 1:return[2,new eh(new w(o.sent(),t))]}})})}(e)]:[2,null]})})})(e).then(function(e){return new ex(e)})]})})}(n=t)];default:throw Error(e+" is not a supported model name.")}})})}(a=eP||(eP={})).BodyPix="BodyPix",a.MediaPipeSelfieSegmentation="MediaPipeSelfieSegmentation";var eM="blurred",eO="blurred-mask",eL="mask",eV={};function eU(e,t,r,n){var a=e.width,o=e.height,s=t.width,i=t.height;if(a!==s||o!==i)throw Error("error: dimensions must match. "+r+" has dimensions "+a+"x"+o+", "+n+" has dimensions "+s+"x"+i)}function eB(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw Error("HTMLImageElement must have height and width attributes set.")}if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth];if(e instanceof s.Tensor)return[e.shape[0],e.shape[1]];throw Error("error: Unknown input type: "+e+".")}function ez(e){return eV[e]||(eV[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw Error("Cannot create a canvas in this context")}()),eV[e]}function eG(e,t){var r=ez(t);return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r}function eW(e,t,r,n,a,o){return f(this,void 0,void 0,function(){var i,c,u;return d(this,function(l){switch(l.label){case 0:return t instanceof s.Tensor?[4,s.browser.toPixels(t)]:[3,2];case 1:i=l.sent(),u=(c=eB(t))[0],t=new ImageData(i,c[1],u),l.label=2;case 2:return t instanceof ImageData&&(t=eG(t,"draw-image")),null==a||null==o?e.drawImage(t,r,n):e.drawImage(t,r,n,a,o),[2]}})})}function eq(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function eH(e,t,r){return f(this,void 0,void 0,function(){return d(this,function(n){switch(n.label){case 0:return e.globalCompositeOperation=r,[4,eW(e,t,0,0)];case 1:return n.sent(),[2]}})})}function eZ(e,t,r){return f(this,void 0,void 0,function(){var n;return d(this,function(a){switch(a.label){case 0:return n=ez(r),0!==t?[3,2]:[4,function(e,t){return f(this,void 0,void 0,function(){var r,n,a;return d(this,function(o){switch(o.label){case 0:return n=(r=eB(e))[0],t.width=a=r[1],t.height=n,[4,eW(t.getContext("2d"),e,0,0,a,n)];case 1:return o.sent(),[2]}})})}(e,n)];case 1:return a.sent(),[3,4];case 2:return[4,function(e,t,r){return f(this,void 0,void 0,function(){var n,a,o,s;return d(this,function(i){switch(i.label){case 0:return a=(n=eB(e))[0],o=n[1],s=r.getContext("2d"),r.width=o,r.height=a,s.clearRect(0,0,o,a),s.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?[4,function(e,t,r){return f(this,void 0,void 0,function(){var n,a,o,s,i,c,u,l;return d(this,function(p){switch(p.label){case 0:for(n=e.getContext("2d"),a=0,s=1/(2*Math.PI*(o=5)*o),i=r<3?1:2,u=-r;u<=r;u+=i)for(l=-r;l<=r;l+=i)c=s*Math.exp(-(l*l+u*u)/(2*o*o)),a+=c;u=-r,p.label=1;case 1:if(!(u<=r))return[3,6];l=-r,p.label=2;case 2:return l<=r?(n.globalAlpha=s*Math.exp(-(l*l+u*u)/(2*o*o))/a*r,[4,eW(n,t,l,u)]):[3,5];case 3:p.sent(),p.label=4;case 4:return l+=i,[3,2];case 5:return u+=i,[3,1];case 6:return n.globalAlpha=1,[2]}})})}(r,e,t)]:[3,2];case 1:return i.sent(),[3,4];case 2:return s.filter="blur("+t+"px)",[4,eW(s,e,0,0,o,a)];case 3:i.sent(),i.label=4;case 4:return s.restore(),[2]}})})}(e,t,n)];case 3:a.sent(),a.label=4;case 4:return[2,n]}})})}function eK(e,t,r,n,a,o){return void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===r&&(r={r:0,g:0,b:0,a:255}),void 0===n&&(n=!1),void 0===a&&(a=.5),void 0===o&&(o=Array.from(Array(256).keys())),f(this,void 0,void 0,function(){var s,i,c,u,l,p,f,h,m,g,v,_,x,y;return d(this,function(d){switch(d.label){case 0:return 0===(s=Array.isArray(e)?e:[e]).length?[2,null]:[4,Promise.all(s.map(function(e){return e.mask.toImageData()}))];case 1:for(p=new Uint8ClampedArray((u=(c=(i=d.sent())[0]).width)*(l=c.height)*4),f=Math.round(255*a),h=Array(256).fill(!1),o.forEach(function(e){return h[e]=!0}),m=0;m<l;m++)for(g=0;g<u;g++)for(p[4*(v=m*u+g)+0]=r.r,p[4*v+1]=r.g,p[4*v+2]=r.b,p[4*v+3]=r.a,_=0,x=i;_<x.length;_++)h[(y=x[_]).data[4*v]]&&y.data[4*v+3]>=f&&(p[4*v]=t.r,p[4*v+1]=t.g,p[4*v+2]=t.b,p[4*v+3]=t.a,n&&m-1>=0&&m+1<l&&g-1>=0&&g+1<u&&function(e,t,r,n,a,o,s){void 0===s&&(s=1);for(var i=0,c=-s;c<=s;c++)for(var u=-s;u<=s;u++)if(0!==c&&0!==u){var l=(t+c)*n+(r+u);(!a[e[4*l]]||e[4*l+3]<o)&&(i+=1)}return i>0}(y.data,m,g,u,h,f)&&function(e,t,r,n,a,o){void 0===o&&(o={r:0,g:255,b:255,a:255});for(var s=-1;s<=1;s++)for(var i=-a;i<=a;i++)if(0!==s&&0!==i){var c=(t+s)*n+(r+i);e[4*c+0]=o.r,e[4*c+1]=o.g,e[4*c+2]=o.b,e[4*c+3]=o.a}}(p,m,g,u,1));return[2,new ImageData(p,u,l)]}})})}function eX(e,t,r,n){return void 0===r&&(r={r:0,g:0,b:0,a:255}),void 0===n&&(n=.5),f(this,void 0,void 0,function(){var a,o,s,i,c,u,l,p,f,h,m,g,v;return d(this,function(d){switch(d.label){case 0:return 0===(a=Array.isArray(e)?e:[e]).length?[2,null]:[4,Promise.all(a.map(function(e){return e.mask.toImageData()}))];case 1:for(u=new Uint8ClampedArray((i=(s=(o=d.sent())[0]).width)*(c=s.height)*4),l=Math.round(255*n),p=0;p<c*i;++p)for(u[(f=4*p)+0]=r.r,u[f+1]=r.g,u[f+2]=r.b,u[f+3]=r.a,h=0,m=o;h<m.length;h++)(g=m[h]).data[f+3]>=l&&(v=t(g.data[f]),u[f+0]=v.r,u[f+1]=v.g,u[f+2]=v.b,u[f+3]=v.a);return[2,new ImageData(u,i,c)]}})})}function eY(e,t,r,n,a,o){return void 0===n&&(n=.7),void 0===a&&(a=0),void 0===o&&(o=!1),f(this,void 0,void 0,function(){var s,i,c,u,l;return d(this,function(p){switch(p.label){case 0:return i=(s=eB(t))[0],e.width=c=s[1],e.height=i,(u=e.getContext("2d")).save(),o&&eq(e),[4,eW(u,t,0,0)];case 1:return p.sent(),u.globalAlpha=n,r?(eU({width:c,height:i},r,"image","mask"),[4,eZ(eG(r,eL),a,eO)]):[3,3];case 2:l=p.sent(),u.drawImage(l,0,0,c,i),p.label=3;case 3:return u.restore(),[2]}})})}function eJ(e,t,r,n,a,o,s){return void 0===n&&(n=.7),void 0===a&&(a=0),void 0===o&&(o=!1),void 0===s&&(s=10),f(this,void 0,void 0,function(){var i,c,u,l,p,f,h;return d(this,function(d){switch(d.label){case 0:return c=(i=eB(t))[0],eU({width:i[1],height:c},r,"image","mask"),[4,eZ(eG(r,eL),a,eO)];case 1:for(e.width=(u=d.sent()).width,e.height=u.height,(l=e.getContext("2d")).save(),o&&eq(e),f=(p=ez("lowres-part-mask")).getContext("2d"),p.width=u.width*(1/s),p.height=u.height*(1/s),f.drawImage(u,0,0,u.width,u.height,0,0,p.width,p.height),l.imageSmoothingEnabled=!1,l.drawImage(p,0,0,p.width,p.height,0,0,e.width,e.height),h=0;h<p.width;h++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(s*h,0),l.lineTo(s*h,e.height),l.stroke();for(h=0;h<p.height;h++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(0,s*h),l.lineTo(e.width,s*h),l.stroke();return l.globalAlpha=1-n,[4,eW(l,t,0,0,u.width,u.height)];case 2:return d.sent(),l.restore(),[2]}})})}function eQ(e,t,r,n,a,o,s){return void 0===n&&(n=.5),void 0===a&&(a=3),void 0===o&&(o=3),void 0===s&&(s=!1),f(this,void 0,void 0,function(){var i,c,u,l,p,h;return d(this,function(m){switch(m.label){case 0:return[4,eZ(t,a,eM)];case 1:return e.width=(i=m.sent()).width,e.height=i.height,c=e.getContext("2d"),Array.isArray(r)&&0===r.length?(c.drawImage(i,0,0),[2]):[4,function(e,t,r){return f(this,void 0,void 0,function(){var n;return d(this,function(a){switch(a.label){case 0:return[4,eK(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0},!1,t)];case 1:return n=eG(a.sent(),eL),0===r?[2,n]:[2,eZ(n,r,eO)]}})})}(r,n,o)];case 2:return u=m.sent(),c.save(),s&&eq(e),p=(l=eB(t))[0],h=l[1],[4,eW(c,t,0,0,h,p)];case 3:return m.sent(),[4,eH(c,u,"destination-in")];case 4:return m.sent(),[4,eH(c,i,"destination-over")];case 5:return m.sent(),c.restore(),[2]}})})}function e$(e,t,r,n,a,o,s,i){return void 0===a&&(a=.5),void 0===o&&(o=3),void 0===s&&(s=3),void 0===i&&(i=!1),f(this,void 0,void 0,function(){var c,u,l,p,h,m;return d(this,function(g){switch(g.label){case 0:return[4,eZ(t,o,eM)];case 1:return e.width=(c=g.sent()).width,e.height=c.height,u=e.getContext("2d"),Array.isArray(r)&&0===r.length?(u.drawImage(c,0,0),[2]):[4,function(e,t,r,n){return f(this,void 0,void 0,function(){var a;return d(this,function(o){switch(o.label){case 0:return[4,eK(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,r,t)];case 1:return a=eG(o.sent(),eL),0===n?[2,a]:[2,eZ(a,n,eO)]}})})}(r,n,a,s)];case 2:return l=g.sent(),u.save(),i&&eq(e),h=(p=eB(t))[0],m=p[1],[4,eW(u,t,0,0,m,h)];case 3:return g.sent(),[4,eH(u,l,"destination-in")];case 4:return g.sent(),[4,eH(u,c,"destination-over")];case 5:return g.sent(),u.restore(),[2]}})})}},{"@tensorflow/tfjs-core":"1q0U8","@tensorflow/tfjs-converter":"frfgJ","@mediapipe/selfie_segmentation":"3SVQT","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],frfgJ:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GraphModel",function(){return o.GraphModel}),a.export(r,"loadGraphModel",function(){return o.loadGraphModel}),a.export(r,"loadGraphModelSync",function(){return o.loadGraphModelSync}),a.export(r,"deregisterOp",function(){return s.deregisterOp}),a.export(r,"registerOp",function(){return s.registerOp}),a.export(r,"version_converter",function(){return i.version}),e("./flags");var o=e("./executor/graph_model"),s=e("./operations/custom_op/register"),i=e("./version")},{"./flags":"hUDuy","./executor/graph_model":"eR3Jb","./operations/custom_op/register":"37JUp","./version":"2NuVm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hUDuy:[function(e,t,r,n){(0,e("@tensorflow/tfjs-core").env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",function(){return!1},function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})},{"@tensorflow/tfjs-core":"1q0U8"}],eR3Jb:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TFHUB_SEARCH_PARAM",function(){return m}),a.export(r,"DEFAULT_MODEL_NAME",function(){return g}),a.export(r,"GraphModel",function(){return v}),a.export(r,"loadGraphModel",function(){return _}),a.export(r,"loadGraphModelSync",function(){return y});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_ts_generator.cjs"),l=e("@tensorflow/tfjs-core"),p=e("../operations/operation_mapper"),f=e("./graph_executor"),d=e("./resource_manager"),h=e("@tensorflow/tfjs-core/dist/io/io_utils"),m="?tfjs-format=file",g="model.json",v=function(){"use strict";function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.io;(0,s._)(this,e),this.modelUrl=t,this.loadOptions=r,this.version="n/a",this.io=n,null==r&&(this.loadOptions={}),this.resourceManager=new(0,d.ResourceManager)}return(0,i._)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return l.util.isPromise(t)?t.then(function(t){return null==t.getWeightStream?e.loadSync(t):e.loadStreaming(t)}):this.loadSync(t)}},{key:"loadSync",value:function(e){var t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}},{key:"loadStreaming",value:function(e){var t=this;return(0,o._)(function(){var r;return(0,u._)(this,function(n){switch(n.label){case 0:if(null==e.getWeightStream)throw Error("Model artifacts missing streamWeights function");return[4,(0,h.decodeWeightsStream)(e.getWeightStream(),e.weightSpecs)];case 1:return r=n.sent(),[2,t.loadWithWeightMap(e,r)]}})})()}},{key:"loadWithWeightMap",value:function(e,t){this.artifacts=e;var r=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var a=this.artifacts.userDefinedMetadata;null!=a.signature&&(n=a.signature),null!=a.structuredOutputKeys&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=n,this.version="".concat(r.versions.producer,".").concat(r.versions.minConsumer),this.executor=new(0,f.GraphExecutor)(p.OperationMapper.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var o=p.OperationMapper.Instance.transformGraph(e.modelInitializer);this.initializer=new(0,f.GraphExecutor)(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}},{key:"save",value:function(e,t){var r=this;return(0,o._)(function(){var t;return(0,u._)(this,function(n){if("string"==typeof e){if(0===(t=r.io.getSaveHandlers(e)).length)throw Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(r.artifacts)]})})()}},{key:"addStructuredOutputNames",value:function(e){var t=this;if(this.structuredOutputKeys){var r=e instanceof l.Tensor?[e]:e,n={};return r.forEach(function(e,r){return n[t.structuredOutputKeys[r]]=e}),n}return e}},{key:"predict",value:function(e,t){var r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}},{key:"predictAsync",value:function(e,t){var r=this;return(0,o._)(function(){var t;return(0,u._)(this,function(n){switch(n.label){case 0:return[4,r.executeAsync(e,r.outputNodes)];case 1:return t=n.sent(),[2,r.addStructuredOutputNames(t)]}})})()}},{key:"normalizeInputs",value:function(e){var t,r=this;if(!(e instanceof l.Tensor)&&!Array.isArray(e)){var n=null==(t=this.signature)?void 0:t.inputs;if(null!=n)for(var a in n){var o=n[a];null!=o.resourceId&&(e[a]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];var s=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+s!==this.inputNodes.length)throw Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-s," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));var i=0;return this.inputNodes.reduce(function(t,n){var a,o,s,c=null==(s=null==(o=null==(a=r.signature)?void 0:a.inputs)?void 0:o[n])?void 0:s.resourceId;return null!=c?t[n]=r.resourceIdToCapturedInput[c]:t[n]=e[i++],t},{})}},{key:"normalizeOutputs",value:function(e){return Array.isArray(e=e||this.outputNodes)?e:[e]}},{key:"executeInitializerGraph",value:function(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}},{key:"executeInitializerGraphAsync",value:function(){var e=this;return(0,o._)(function(){return(0,u._)(this,function(t){return null==e.initializer?[2,[]]:null==e.initializerSignature?[2,e.initializer.executeAsync({},[])]:[2,e.initializer.executeAsync({},Object.keys(e.initializerSignature.outputs))]})})()}},{key:"setResourceIdToCapturedInput",value:function(e){if(this.resourceIdToCapturedInput={},this.initializerSignature)for(var t=this.initializerSignature.outputs,r=Object.keys(t),n=0;n<r.length;n++){var a=t[r[n]];this.resourceIdToCapturedInput[a.resourceId]=e[n]}}},{key:"execute",value:function(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var r=this.executor.execute(e,t);return r.length>1?r:r[0]}},{key:"executeAsync",value:function(e,t){var r=this;return(0,o._)(function(){var n,a;return(0,u._)(this,function(o){switch(o.label){case 0:if(null!=r.resourceIdToCapturedInput)return[3,2];return n=r.setResourceIdToCapturedInput,[4,r.executeInitializerGraphAsync()];case 1:n.apply(r,[o.sent()]),o.label=2;case 2:return e=r.normalizeInputs(e),t=r.normalizeOutputs(t),[4,r.executor.executeAsync(e,t)];case 3:return[2,(a=o.sent()).length>1?a:a[0]]}})})()}},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce(function(t,r){return t[r]=[e[r]],t},{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&(0,l.dispose)(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}]),e}();function _(e){return x.apply(this,arguments)}function x(){return(x=(0,o._)(function(e){var t,r,n,a=arguments;return(0,u._)(this,function(o){switch(o.label){case 0:var s;if(t=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:l.io,null==e)throw Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");return null==t&&(t={}),t.fromTFHub&&"string"==typeof e&&((s=e).endsWith("/")||(s+="/"),e="".concat(s).concat(g).concat(m)),[4,(n=new v(e,t,r)).load()];case 1:return o.sent(),[2,n]}})})).apply(this,arguments)}function y(e){if(null==e)throw Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");if(e instanceof Array){var t,r=(0,c._)(e,2),n=r[0],a=r[1];if(!n)throw Error("modelJSON must be the first element of the array");if(!a||!(a instanceof ArrayBuffer))throw Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in n))throw Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in n))throw Error("Model JSON is missing 'weightsManifest'");var o=l.io.getWeightSpecs(n.weightsManifest),s=l.io.getModelArtifactsForJSONSync(n,o,a);t=l.io.fromMemorySync(s)}else if("load"in e)t=e;else if("modelTopology"in e&&"weightSpecs"in e&&"weightData"in e)t=l.io.fromMemorySync(e);else throw Error("Unknown model format");var i=new v(t);return i.load(),i}},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","../operations/operation_mapper":"icRvI","./graph_executor":"d8Hwg","./resource_manager":"m37Rj","@tensorflow/tfjs-core/dist/io/io_utils":"hm6ro","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],icRvI:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"OperationMapper",function(){return A}),a.export(r,"decodeBase64",function(){return P}),a.export(r,"parseStringParam",function(){return R}),a.export(r,"getStringParam",function(){return D}),a.export(r,"getBoolParam",function(){return M}),a.export(r,"getNumberParam",function(){return O}),a.export(r,"parseDtypeParam",function(){return L}),a.export(r,"getFuncParam",function(){return V}),a.export(r,"getDtypeParam",function(){return U}),a.export(r,"getDtypeArrayParam",function(){return B}),a.export(r,"parseTensorShapeParam",function(){return z}),a.export(r,"getTensorShapeParam",function(){return G}),a.export(r,"getNumericArrayParam",function(){return W}),a.export(r,"getStringArrayParam",function(){return q}),a.export(r,"getTensorShapeArrayParam",function(){return H}),a.export(r,"getBoolArrayParam",function(){return Z});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_sliced_to_array.cjs"),c=e("@swc/helpers/cjs/_to_consumable_array.cjs"),u=e("@tensorflow/tfjs-core"),l=e("../data/compiled_api"),p=e("./custom_op/register"),f=e("./executors/utils"),d=e("./op_list/arithmetic"),h=e("./op_list/basic_math"),m=e("./op_list/control"),g=e("./op_list/convolution"),v=e("./op_list/creation"),_=e("./op_list/dynamic"),x=e("./op_list/evaluation"),y=e("./op_list/graph"),b=e("./op_list/hash_table"),k=e("./op_list/image"),j=e("./op_list/logical"),w=e("./op_list/matrices"),S=e("./op_list/normalization"),I=e("./op_list/reduction"),T=e("./op_list/slice_join"),N=e("./op_list/sparse"),C=e("./op_list/spectral"),E=e("./op_list/string"),F=e("./op_list/transformation"),A=function(){"use strict";function e(){(0,o._)(this,e);var t,r=(t=[]).concat.apply(t,(0,c._)([d,h,m,g,v,_,x,y,b,k,j,w,S,I,T,N,C,E,F].map(function(e){return e.json})));this.opMappers=r.reduce(function(e,t){return e[t.tfOpName]=t,e},{})}return(0,s._)(e,[{key:"transformGraph",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.node,a=[],o=[],s=[],c=n.reduce(function(e,r){return e[r.name]=t.mapNode(r),r.op.startsWith("Placeholder")?a.push(e[r.name]):"Const"===r.op?o.push(e[r.name]):(null==r.input||0===r.input.length)&&s.push(e[r.name]),e},{}),u=[],l=[],p={},d={};null!=r&&(p=this.mapSignatureEntries(r.inputs),d=this.mapSignatureEntries(r.outputs));var h=Object.keys(c);h.forEach(function(e){var t=c[e];t.inputNames.forEach(function(e,r){var n=(0,i._)((0,f.getNodeNameAndIndex)(e),3),a=n[0],o=n[2],s=c[a];if(null!=s.outputs){var u=s.outputs.indexOf(o);if(-1!==u){var l="".concat(a,":").concat(u);t.inputNames[r]=l}}t.inputs.push(s),s.children.push(t)})}),0===Object.keys(d).length?h.forEach(function(e){var t=c[e];0===t.children.length&&l.push(t)}):Object.keys(d).forEach(function(e){var t=c[(0,i._)((0,f.getNodeNameAndIndex)(e),1)[0]];null!=t&&(t.signatureKey=d[e],l.push(t))}),Object.keys(p).length>0?Object.keys(p).forEach(function(e){var t=c[(0,i._)((0,f.getNodeNameAndIndex)(e),1)[0]];t&&(t.signatureKey=p[e],u.push(t))}):u=a;var m={};null!=e.library&&null!=e.library.function&&(m=e.library.function.reduce(function(e,r){return e[r.signature.name]=t.mapFunction(r),e},{}));var g={nodes:c,inputs:u,outputs:l,weights:o,placeholders:a,signature:r,functions:m};return s.length>0&&(g.initNodes=s),g}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce(function(t,r){return t[e[r].name]=r,t},{})}},{key:"mapNode",value:function(e){var t=(0,p.getRegisteredOp)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var r={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(function(e){return e.startsWith("^")?e.slice(1):e}),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(r.inputParams=t.inputs.reduce(function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e},{})),null!=t.attrs&&(r.attrParams=t.attrs.reduce(function(t,r){var n=r.type,a=void 0;switch(r.type){case"string":void 0===(a=D(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=D(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"string[]":void 0===(a=q(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=q(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number":void 0===(a=O(e.attr,r.tfName,r.defaultValue||0))&&r.tfDeprecatedName&&(a=O(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number[]":void 0===(a=W(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=W(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool":void 0===(a=M(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=M(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool[]":void 0===(a=Z(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=Z(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape":void 0===(a=G(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=G(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape[]":void 0===(a=H(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=H(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype":void 0===(a=U(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=U(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype[]":void 0===(a=B(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=B(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"func":void 0===(a=V(e.attr,r.tfName,r.defaultValue))&&r.tfDeprecatedName&&(a=V(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"tensor":case"tensors":break;default:throw Error("Unsupported param type: ".concat(r.type," for op: ").concat(e.op))}return t[r.name]={value:a,type:n},t},{})),r}},{key:"mapFunction",value:function(e){var t=this,r=e.nodeDef,n=[],a={};null!=r&&(a=r.reduce(function(e,r){return e[r.name]=t.mapNode(r),"Const"===r.op&&n.push(e[r.name]),e},{}));var o=[],s=[];e.signature.inputArg.forEach(function(e){var t=(0,i._)((0,f.getNodeNameAndIndex)(e.name),1)[0],r={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:L(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,o.push(r),a[t]=r}),Object.keys(a).forEach(function(e){var t=a[e];t.inputNames.forEach(function(e,r){var n=(0,i._)((0,f.getNodeNameAndIndex)(e),3),o=n[0],s=n[2],c=a[o];if(null!=c.outputs){var u=c.outputs.indexOf(s);if(-1!==u){var l="".concat(o,":").concat(u);t.inputNames[r]=l}}t.inputs.push(c),c.children.push(t)})});var c=e.ret;e.signature.outputArg.forEach(function(e){var t=(0,i._)((0,f.getNodeNameAndIndex)(c[e.name]),2),r=t[0],n=t[1],o=a[r];null!=o&&(o.defaultOutput=n,s.push(o))});var u=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:s,weights:n,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(function(e,r){return e[r.name]=t.mapArgToTensorInfo(r),e},{}),outputs:e.signature.outputArg.reduce(function(r,n){return r[n.name]=t.mapArgToTensorInfo(n,e.ret),r},{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var r=e.name;return null!=t&&(r=t[r]),{name:r,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function P(e){var t=(0,u.env)().global;if(void 0!==t.atob)return t.atob(e);if("undefined"!=typeof Buffer)return new Buffer(e,"base64").toString();throw Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function R(e,t){var r=Array.isArray(e)?String.fromCharCode.apply(null,e):P(e);return t?r:r.toLowerCase()}function D(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?R(a.s,n):r}function M(e,t,r){var n=e[t];return n?n.b:r}function O(e,t,r){var n=e[t]||{},a=null!=n.i?n.i:null!=n.f?n.f:r;return"number"==typeof a?a:parseInt(a,10)}function L(e){switch("string"==typeof e&&(e=l.DataType[e]),e){case l.DataType.DT_FLOAT:case l.DataType.DT_HALF:return"float32";case l.DataType.DT_INT32:case l.DataType.DT_INT64:case l.DataType.DT_INT8:case l.DataType.DT_UINT8:return"int32";case l.DataType.DT_BOOL:return"bool";case l.DataType.DT_DOUBLE:return"float32";case l.DataType.DT_STRING:return"string";case l.DataType.DT_COMPLEX64:case l.DataType.DT_COMPLEX128:return"complex64";default:return null}}function V(e,t,r){var n=e[t];return n&&n.func?n.func.name:r}function U(e,t,r){var n=e[t];return n&&n.type?L(n.type):r}function B(e,t,r){var n=e[t];return n&&n.list&&n.list.type?n.list.type.map(function(e){return L(e)}):r}function z(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)}):[]}function G(e,t,r){var n=e[t];return n&&n.shape?z(n.shape):r}function W(e,t,r){var n=e[t];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(function(e){return"number"==typeof e?e:parseInt(e,10)}):r}function q(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map(function(e){return R(e,n)}):r}function H(e,t,r){var n=e[t];return n&&n.list&&n.list.shape?n.list.shape.map(function(e){return z(e)}):r}function Z(e,t,r){var n=e[t];return n&&n.list&&n.list.b?n.list.b:r}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","../data/compiled_api":"i8YHZ","./custom_op/register":"37JUp","./executors/utils":"gidoF","./op_list/arithmetic":"f2CCz","./op_list/basic_math":"bEDGi","./op_list/control":"8wYd2","./op_list/convolution":"1uuRb","./op_list/creation":"3KJVa","./op_list/dynamic":"18Mv7","./op_list/evaluation":"40b7y","./op_list/graph":"d06YK","./op_list/hash_table":"6Hk1v","./op_list/image":"5Udti","./op_list/logical":"cQlDg","./op_list/matrices":"cNBjA","./op_list/normalization":"bGNnq","./op_list/reduction":"d2utD","./op_list/slice_join":"dt94j","./op_list/sparse":"3YufZ","./op_list/spectral":"26YAu","./op_list/string":"4Hy28","./op_list/transformation":"ecKAN","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],i8YHZ:[function(e,t,r,n){var a,o,s,i,c,u=e("@parcel/transformer-js/src/esmodule-helpers.js");u.defineInteropFlag(r),u.export(r,"DataType",function(){return i}),u.export(r,"SaverDef",function(){return c}),(a=i||(i={}))[a.DT_INVALID=0]="DT_INVALID",a[a.DT_FLOAT=1]="DT_FLOAT",a[a.DT_DOUBLE=2]="DT_DOUBLE",a[a.DT_INT32=3]="DT_INT32",a[a.DT_UINT8=4]="DT_UINT8",a[a.DT_INT16=5]="DT_INT16",a[a.DT_INT8=6]="DT_INT8",a[a.DT_STRING=7]="DT_STRING",a[a.DT_COMPLEX64=8]="DT_COMPLEX64",a[a.DT_INT64=9]="DT_INT64",a[a.DT_BOOL=10]="DT_BOOL",a[a.DT_QINT8=11]="DT_QINT8",a[a.DT_QUINT8=12]="DT_QUINT8",a[a.DT_QINT32=13]="DT_QINT32",a[a.DT_BFLOAT16=14]="DT_BFLOAT16",a[a.DT_QINT16=15]="DT_QINT16",a[a.DT_QUINT16=16]="DT_QUINT16",a[a.DT_UINT16=17]="DT_UINT16",a[a.DT_COMPLEX128=18]="DT_COMPLEX128",a[a.DT_HALF=19]="DT_HALF",a[a.DT_RESOURCE=20]="DT_RESOURCE",a[a.DT_VARIANT=21]="DT_VARIANT",a[a.DT_UINT32=22]="DT_UINT32",a[a.DT_UINT64=23]="DT_UINT64",a[a.DT_FLOAT_REF=101]="DT_FLOAT_REF",a[a.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",a[a.DT_INT32_REF=103]="DT_INT32_REF",a[a.DT_UINT8_REF=104]="DT_UINT8_REF",a[a.DT_INT16_REF=105]="DT_INT16_REF",a[a.DT_INT8_REF=106]="DT_INT8_REF",a[a.DT_STRING_REF=107]="DT_STRING_REF",a[a.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",a[a.DT_INT64_REF=109]="DT_INT64_REF",a[a.DT_BOOL_REF=110]="DT_BOOL_REF",a[a.DT_QINT8_REF=111]="DT_QINT8_REF",a[a.DT_QUINT8_REF=112]="DT_QUINT8_REF",a[a.DT_QINT32_REF=113]="DT_QINT32_REF",a[a.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",a[a.DT_QINT16_REF=115]="DT_QINT16_REF",a[a.DT_QUINT16_REF=116]="DT_QUINT16_REF",a[a.DT_UINT16_REF=117]="DT_UINT16_REF",a[a.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",a[a.DT_HALF_REF=119]="DT_HALF_REF",a[a.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",a[a.DT_VARIANT_REF=121]="DT_VARIANT_REF",a[a.DT_UINT32_REF=122]="DT_UINT32_REF",a[a.DT_UINT64_REF=123]="DT_UINT64_REF",(s=(o=c||(c={})).CheckpointFormatVersion||(o.CheckpointFormatVersion={}))[s.LEGACY=0]="LEGACY",s[s.V1=1]="V1",s[s.V2=2]="V2"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"37JUp":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"registerOp",function(){return s}),a.export(r,"getRegisteredOp",function(){return i}),a.export(r,"deregisterOp",function(){return c});var o={};function s(e,t){o[e]={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t}}function i(e){return o[e]}function c(e){delete o[e]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gidoF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getParamValue",function(){return i}),a.export(r,"getTensor",function(){return c}),a.export(r,"getTensorsForCurrentContext",function(){return u}),a.export(r,"getNodeNameAndIndex",function(){return l}),a.export(r,"parseNodeName",function(){return f}),a.export(r,"split",function(){return d}),a.export(r,"getPadding",function(){return h}),a.export(r,"cloneTensor",function(){return m});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core");function i(e,t,r,n,a){var o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){var i=o.inputIndexStart,u=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?i+1:o.inputIndexEnd,l=i<0?t.inputNames.length+i:i;if("tensor"===o.type)return c(t.inputNames[l],r,n,a);if("tensors"===o.type){var p=t.inputs.slice(i,u);return t.inputNames.slice(i,u).filter(function(e,t){var r;return(null==(r=p[t])?void 0:r.op)!=="NoOp"}).map(function(e){return c(e,r,n,a)})}var f=c(t.inputNames[l],r,n,a),d=f.dataSync();return"number"===o.type?d[0]:s.util.toNestedArray(f.shape,d)}var h=t.attrParams[e];return h&&h.value}function c(e,t,r,n){var a=(0,o._)(f(e,r),2),s=a[0],i=a[1];if(null!=n){var c=n.getHashTableHandleByName(s);if(null!=c)return c}var u=r.currentContextIds.find(function(e){return!!t[p(s,e)]});return void 0!==u?t[p(s,u)][i]:void 0}function u(e,t,r){return t[p(e,r.currentContextId)]}function l(e,t){var r=(0,o._)(f(e,t),3),n=r[0],a=r[1],s=r[2];return[p(n,t&&t.currentContextId),a,s]}function p(e,t){return t?"".concat(e,"-").concat(t):e}function f(e,t){if(""===e)return["",0,void 0];var r,n=null!=t&&null!=t.parseNodeNameCache;if(n){var a=t.parseNodeNameCache.get(e);if(null!=a)return a}var o=e.split(":");if(1===o.length)r=[e,0,void 0];else{var s=o[0],i=3===o.length?o[1]:void 0;r=[s,Number(o[o.length-1]),i]}return n&&t.parseNodeNameCache.set(e,r),r}function d(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function h(e,t,r){var n=i("pad",e,t,r);if("explicit"===n){n=i("explicitPaddings",e,t,r);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=n[2*o],a[o][1]=n[2*o+1];return a}return n}function m(e){return e.kept?e:(0,s.clone)(e)}},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f2CCz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bEDGi:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8wYd2":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"1uuRb":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3KJVa":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"18Mv7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"40b7y":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d06YK:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6Hk1v":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"5Udti":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cQlDg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],cNBjA:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bGNnq:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d2utD:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],dt94j:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3YufZ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"26YAu":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4Hy28":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ecKAN:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"json",function(){return o});var o=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],d8Hwg:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GraphExecutor",function(){return g});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_ts_generator.cjs"),p=e("@tensorflow/tfjs-core"),f=e("../operations/executors/utils"),d=e("../operations/operation_executor"),h=e("./execution_context"),m=e("./model_analysis"),g=function(){"use strict";function e(t,r){var n=this;(0,s._)(this,e),this.graph=t,this.parent=r,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach(function(r){n._functionExecutorMap[r]=new e(t.functions[r],n)})}return(0,i._)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,r=Object.keys(e).map(function(t){return e[t].map(function(e){return e.id})});this._weightIds=(t=[]).concat.apply(t,(0,u._)(r)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})}},{key:"outputs",get:function(){return this._outputs.map(function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}})}},{key:"inputNodes",get:function(){return this._inputs.map(function(e){return e.signatureKey||e.name})}},{key:"outputNodes",get:function(){return this._outputs.map(function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t})}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce(function(t,r){return t[r]=e._functions[r].signature,t},{})}},{key:"getCompilationKey",value:function(e,t){var r=e.map(function(e){return e.name}).sort(),n=t.map(function(e){return e.name}).sort();return r.join(this.SEPARATOR)+"--"+n.join(this.SEPARATOR)}},{key:"compile",value:function(e,t){var r=(0,m.getExecutionSubgraph)(e,t,this.weightMap,this._initNodes),n=r.missingInputs,a=r.dynamicNode,o=r.syncInputs;if(null!=a)throw Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(n.length>0){var s=t.map(function(e){return e.name}),i=Object.keys(e);throw Error("Cannot compute the outputs [".concat(s,"] from the provided inputs ")+"[".concat(i,"]. Missing the following inputs: [").concat(n,"]"))}var c=(0,m.getNodesInTopologicalOrder)(this.graph,r),u=(0,m.getNodeLiveUntilMap)(c);return{orderedNodes:c,nodeLiveUntilMap:u}}},{key:"cloneAndKeepTensor",value:function(e){if(null==e)return null;var t=e.clone();return(0,p.keep)(t),t}},{key:"cloneTensorList",value:function(e){var t=this;return e?e.map(function(e){return t.cloneAndKeepTensor(e)}):null}},{key:"cloneTensorMap",value:function(e){var t=this;return Object.fromEntries(Object.entries(e).map(function(e){var r=(0,c._)(e,2),n=r[0],a=r[1];return[n,t.cloneTensorList(a)]}))}},{key:"execute",value:function(e,t){var r=this;this.disposeIntermediateTensors();var n=Object.keys(e=this.mapInputs(e)).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=n.map(function(e){return r.graph.nodes[(0,f.parseNodeName)(e)[0]]}),o=t.map(function(e){return(0,f.parseNodeName)(e)[0]}),s=new Set(o),i=o.map(function(e){return r.graph.nodes[e]});0===i.length&&(i=this._outputs);var u=this.getCompilationKey(a,i),l=this.compiledMap.get(u);null==l&&(l=this.compile(e,i),this.compiledMap.set(u,l));try{this.keepIntermediateTensors=(0,p.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){this.keepIntermediateTensors=!1,console.warn(e.message)}var m={},g={};return(0,p.tidy)(function(){var n=new(0,h.ExecutionContext)(r.weightMap,m,g,r.functionExecutorMap,r.parseNodeNameCache),a=Object.assign({},r.weightMap);r.keepIntermediateTensors&&(r.clonedTensorsMap=r.cloneTensorMap(r.weightMap)),Object.keys(e).forEach(function(t){var o=(0,c._)((0,f.parseNodeName)(t,n),2),s=o[0],i=o[1],u=[];u[i]=e[t],a[s]=u,r.keepIntermediateTensors&&(r.clonedTensorsMap[s]=r.cloneTensorList(u))});var o=r.getFrozenTensorIds(a),i=l.orderedNodes,u=l.nodeLiveUntilMap,v=!0,_=!1,x=void 0;try{for(var y,b=i[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var k=y.value;if(!a[k.name]){var j=(0,d.executeOp)(k,a,n,r._resourceManager);if(p.util.isPromise(j))throw Error("The execution of the op '".concat(k.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[k.name]=j,r.keepIntermediateTensors&&(r.clonedTensorsMap[k.name]=r.cloneTensorList(j)),r.checkTensorForDisposalWithNodeLiveUntilInfo(k,a,n,o,s,u.get(k.name))}}}catch(e){_=!0,x=e}finally{try{v||null==b.return||b.return()}finally{if(_)throw x}}return null==r.parent&&n.dispose(o),t.map(function(e){return(0,f.getTensor)(e,a,n)})})}},{key:"getFrozenTensorIds",value:function(e){return new Set([].concat.apply([],Object.keys(e).map(function(t){return e[t]}).map(function(e){return e.map(function(e){return e.id})})))}},{key:"checkTensorForDisposal",value:function(e,t,r,n,a,o,s){if(!((0,m.isControlFlow)(t)||o.has(e))){var i=!0,c=!1,u=void 0;try{for(var l,p=r[e][Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var d=l.value;null!=d&&(s[d.id]=(s[d.id]||0)+t.children.length)}}catch(e){c=!0,u=e}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}var h=!0,g=!1,v=void 0;try{for(var _,x=t.inputs[Symbol.iterator]();!(h=(_=x.next()).done);h=!0){var y=_.value;if(!(0,m.isControlFlow)(y)){var b=(0,f.getTensorsForCurrentContext)(y.name,r,n);if(null!=b){var k=!0,j=!1,w=void 0;try{for(var S,I=b[Symbol.iterator]();!(k=(S=I.next()).done);k=!0){var T=S.value;if(!(!T||T.kept||a.has(T.id))){var N=s[T.id];1===N?(T.dispose(),delete s[T.id]):null!=N&&s[T.id]--}}}catch(e){j=!0,w=e}finally{try{k||null==I.return||I.return()}finally{if(j)throw w}}}}}}catch(e){g=!0,v=e}finally{try{h||null==x.return||x.return()}finally{if(g)throw v}}}}},{key:"checkTensorForDisposalWithNodeLiveUntilInfo",value:function(e,t,r,n,a,o){if(!(0,m.isControlFlow)(e)&&null!=o){var s=!0,i=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var p=u.value;if(!((0,m.isControlFlow)(p)||a.has(p.name))){var d=(0,f.getTensorsForCurrentContext)(p.name,t,r),h=!0,g=!1,v=void 0;try{for(var _,x=d[Symbol.iterator]();!(h=(_=x.next()).done);h=!0){var y=_.value;!y||y.kept||n.has(y.id)||y.dispose()}}catch(e){g=!0,v=e}finally{try{h||null==x.return||x.return()}finally{if(g)throw v}}}}}catch(e){i=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(i)throw c}}}}},{key:"executeAsync",value:function(e,t){var r=this;return(0,o._)(function(){return(0,l._)(this,function(n){return[2,r._executeAsync(e,t)]})})()}},{key:"disposeIntermediateTensors",value:function(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(function(e){var t=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;s&&!s.isDisposed&&s.dispose()}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}),this.clonedTensorsMap=null)}},{key:"getIntermediateTensors",value:function(){return this.clonedTensorsMap}},{key:"_executeAsync",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=this;return(0,o._)(function(){var o,i,c,d,m,g;return(0,l._)(this,function(l){switch(l.label){case 0:s.disposeIntermediateTensors(),r||(e=s.mapInputs(e),s.checkInputs(e),s.checkInputShapeAndType(e),t=s.mapOutputs(t),s.checkOutputs(t));try{s.keepIntermediateTensors=(0,p.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){s.keepIntermediateTensors=!1,console.warn(e.message)}return o=new(0,h.ExecutionContext)(s.weightMap,n,a,s.functionExecutorMap,s.parseNodeNameCache),s.keepIntermediateTensors&&(s.clonedTensorsMap=s.cloneTensorMap(s.weightMap)),[4,s.executeWithControlFlow(e,o,t,r)];case 1:return i=l.sent(),d=(c=t.map(function(e){return(0,f.getTensor)(e,i,o)})).map(function(e){return e.id}),m=Object.keys(e).map(function(t){return e[t].id}),g=new Set((0,u._)(d).concat((0,u._)(m),(0,u._)(s.weightIds))),Object.values(i).forEach(function(e){e.forEach(function(e){!e||e.isDisposed||g.has(e.id)||e.dispose()})}),null==s.parent&&o.dispose(g),[2,c]}})})()}},{key:"executeFunctionAsync",value:function(e,t,r){var n=this;return(0,o._)(function(){var a;return(0,l._)(this,function(o){return a=e.reduce(function(e,t,r){return e[n.inputs[r].name]=t,e},{}),[2,n._executeAsync(a,n.outputNodes,!0,t,r)]})})()}},{key:"executeWithControlFlow",value:function(e,t,r,n){var a=this;return(0,o._)(function(){var o,s,i,p,d,h,g,v,_,x,y,b,k,j,w,S,I;return(0,l._)(this,function(l){switch(l.label){case 0:s=(o=Object.keys(e)).map(function(e){return a.graph.nodes[(0,f.parseNodeName)(e)[0]]}),p=new Set(i=r.map(function(e){return(0,f.parseNodeName)(e)[0]})),0===(d=i.map(function(e){return a.graph.nodes[e]})).length&&(d=a._outputs),g=(h=(0,m.getExecutionSubgraph)(e,d,a.weightMap,a._initNodes)).usedNodes,v=h.missingInputs,_=h.dynamicNode,x=h.syncInputs,y=(0,u._)(s).concat((0,u._)(a.graph.weights),(0,u._)(a._initNodes||[])).map(function(e){return{node:e,contexts:t.currentContext}}),b=Object.assign({},a.weightMap),Object.keys(e).forEach(function(t){var r=(0,c._)((0,f.parseNodeName)(t),2),n=r[0],a=r[1],o=[];o[a]=e[t],b[n]=o}),k={},j=a.getFrozenTensorIds(b),w={},l.label=1;case 1:if(!(y.length>0))return[3,3];return[4,Promise.all(a.processStack(s,y,t,b,w,j,p,k,g))];case 2:return l.sent(),[3,1];case 3:if(null!=_||n||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(S=d.filter(function(e){return!(0,m.isControlFlow)(e)&&!(0,f.getTensor)(e.name,b,t)}).map(function(e){return e.name})).length>0)throw I="",null!=_&&(I="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(x,"]")),Error("Cannot compute the outputs [".concat(S,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(v,"]. ").concat(I));return[2,b]}})})()}},{key:"processStack",value:function(e,t,r,n,a,o,s,i,u){for(var l,h=this,m=[];t.length>0;)l=this,function(){var e=t.pop();r.currentContext=e.contexts;var g="";if("Enter"===e.node.op&&(0,f.getParamValue)("isConstant",e.node,n,r)&&(g=(0,c._)((0,f.getNodeNameAndIndex)(e.node.name,r),1)[0]),null==n[e.node.name]){var v=(0,d.executeOp)(e.node,n,r,l._resourceManager);g||(g=(0,c._)((0,f.getNodeNameAndIndex)(e.node.name,r),1)[0]);var _=r.currentContext;p.util.isPromise(v)?m.push(v.then(function(c){return n[g]=c,h.keepIntermediateTensors&&(h.clonedTensorsMap[g]=h.cloneTensorList(c)),r.currentContext=_,h.checkTensorForDisposal(g,e.node,n,r,o,s,i),h.processChildNodes(e.node,t,r,n,a,u),c})):(n[g]=v,l.keepIntermediateTensors&&(l.clonedTensorsMap[g]=l.cloneTensorList(v)),l.checkTensorForDisposal(g,e.node,n,r,o,s,i),l.processChildNodes(e.node,t,r,n,a,u))}else l.processChildNodes(e.node,t,r,n,a,u)}();return m}},{key:"processChildNodes",value:function(e,t,r,n,a,o){e.children.forEach(function(e){var s=(0,c._)((0,f.getNodeNameAndIndex)(e.name,r),1)[0];!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some(function(e){return!!(0,f.getTensor)(e,n,r)})&&(a[s]=!0,t.push({contexts:r.currentContext,node:e})):e.inputNames.every(function(e){return!!(0,f.getTensor)(e,n,r)})&&(a[s]=!0,t.push({contexts:r.currentContext,node:e})))})}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach(function(t){return e.weightMap[t].forEach(function(e){return e.dispose()})})}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r],a=(0,c._)((0,f.parseNodeName)(r),1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,i=s.length===n.shape.length&&n.shape.every(function(e,t){return -1===s[t]||s[t]===e});p.util.assert(i,function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(n.shape,"]")})}o.attrParams.dtype&&o.attrParams.dtype.value&&p.util.assert(n.dtype===o.attrParams.dtype.value,function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(n.dtype)})})}},{key:"mapInputs",value:function(e){var t,r,n={};for(var a in e){var o=null==(r=null==(t=this._signature)?void 0:t.inputs)?void 0:r[a];null!=o?n[o.name]=e[a]:n[a]=e[a]}return n}},{key:"checkInputs",value:function(e){var t=this,r=Object.keys(e).filter(function(e){var r=(0,c._)((0,f.parseNodeName)(e),1)[0];return null==t.graph.nodes[r]});if(r.length>0)throw Error("The dict provided in model.execute(dict) has "+"keys: [".concat(r,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map(function(e){var r,n,a=null==(n=null==(r=t._signature)?void 0:r.outputs)?void 0:n[e];return null!=a?a.name:e},{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach(function(e){var r=(0,c._)((0,f.parseNodeName)(e),1)[0];if(!t.graph.nodes[r])throw Error("The output '".concat(e,"' is not found in the graph"))})}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","../operations/executors/utils":"gidoF","../operations/operation_executor":"ejtTs","./execution_context":"k2wHF","./model_analysis":"eMTGW","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],ejtTs:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return N});var o=e("@tensorflow/tfjs-core"),s=e("./custom_op/node_value_impl"),i=e("./custom_op/register"),c=e("./executors/arithmetic_executor"),u=e("./executors/basic_math_executor"),l=e("./executors/control_executor"),p=e("./executors/convolution_executor"),f=e("./executors/creation_executor"),d=e("./executors/dynamic_executor"),h=e("./executors/evaluation_executor"),m=e("./executors/graph_executor"),g=e("./executors/hash_table_executor"),v=e("./executors/image_executor"),_=e("./executors/logical_executor"),x=e("./executors/matrices_executor"),y=e("./executors/normalization_executor"),b=e("./executors/ragged_executor"),k=e("./executors/reduction_executor"),j=e("./executors/slice_join_executor"),w=e("./executors/sparse_executor"),S=e("./executors/spectral_executor"),I=e("./executors/string_executor"),T=e("./executors/transformation_executor");function N(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.tidy,N=function(e,t,r){switch(e.category){case"arithmetic":return a(function(){return c.executeOp(e,t,r)});case"basic_math":return a(function(){return u.executeOp(e,t,r)});case"control":return l.executeOp(e,t,r);case"convolution":return a(function(){return p.executeOp(e,t,r)});case"creation":return a(function(){return f.executeOp(e,t,r)});case"dynamic":return d.executeOp(e,t,r);case"evaluation":return a(function(){return h.executeOp(e,t,r)});case"image":return a(function(){return v.executeOp(e,t,r)});case"graph":return a(function(){return m.executeOp(e,t,r)});case"logical":return a(function(){return _.executeOp(e,t,r)});case"matrices":return a(function(){return x.executeOp(e,t,r)});case"normalization":return a(function(){return y.executeOp(e,t,r)});case"ragged":return a(function(){return b.executeOp(e,t,r)});case"reduction":return a(function(){return k.executeOp(e,t,r)});case"slice_join":return a(function(){return j.executeOp(e,t,r)});case"sparse":return a(function(){return w.executeOp(e,t,r)});case"spectral":return a(function(){return S.executeOp(e,t,r)});case"string":return a(function(){return I.executeOp(e,t,r)});case"transformation":return a(function(){return T.executeOp(e,t,r)});case"hash_table":return g.executeOp(e,t,r,n);case"custom":var o=(0,i.getRegisteredOp)(e.op);if(o&&o.customExecutor)return o.customExecutor(new(0,s.NodeValueImpl)(e,t,r));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,r);return o.util.isPromise(N)?N.then(function(e){return[].concat(e)}):[].concat(N)}},{"@tensorflow/tfjs-core":"1q0U8","./custom_op/node_value_impl":"2iCO7","./custom_op/register":"37JUp","./executors/arithmetic_executor":"khMxz","./executors/basic_math_executor":"9hMgQ","./executors/control_executor":"6gj0O","./executors/convolution_executor":"jP5rz","./executors/creation_executor":"gu7BO","./executors/dynamic_executor":"fc2on","./executors/evaluation_executor":"gsY5f","./executors/graph_executor":"57wt4","./executors/hash_table_executor":"8LQHU","./executors/image_executor":"9FNPm","./executors/logical_executor":"8SQ3p","./executors/matrices_executor":"4tSsI","./executors/normalization_executor":"U4uzY","./executors/ragged_executor":"bxvBp","./executors/reduction_executor":"4T1WD","./executors/slice_join_executor":"bCMSG","./executors/sparse_executor":"f9RxH","./executors/spectral_executor":"3T6zB","./executors/string_executor":"fq1rm","./executors/transformation_executor":"fnP0b","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2iCO7":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"NodeValueImpl",function(){return u});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("../executors/utils"),c=e("../operation_mapper"),u=function(){"use strict";function e(t,r,n){var a=this;(0,o._)(this,e),this.node=t,this.tensorMap=r,this.context=n,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(function(e){return a.getInput(e)}),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce(function(e,t){return e[t]=a.getAttr(t),e},{}))}return(0,s._)(e,[{key:"getInput",value:function(e){return(0,i.getTensor)(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var r=this.node.rawAttrs[e];if(null!=r.tensor)return(0,i.getTensor)(e,this.tensorMap,this.context);if(null!=r.i||null!=r.f)return(0,c.getNumberParam)(this.node.rawAttrs,e,t);if(null!=r.s)return(0,c.getStringParam)(this.node.rawAttrs,e,t);if(null!=r.b)return(0,c.getBoolParam)(this.node.rawAttrs,e,t);if(null!=r.shape)return(0,c.getTensorShapeParam)(this.node.rawAttrs,e,t);if(null!=r.type)return(0,c.getDtypeParam)(this.node.rawAttrs,e,t);if(null!=r.list){if(null!=r.list.i||null!=r.list.f)return(0,c.getNumericArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.s)return(0,c.getStringArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.shape)return(0,c.getTensorShapeArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.b)return(0,c.getBoolArrayParam)(this.node.rawAttrs,e,t);if(null!=r.list.type)return(0,c.getDtypeArrayParam)(this.node.rawAttrs,e,t)}return t}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","../executors/utils":"gidoF","../operation_mapper":"icRvI","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],khMxz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[n.add((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"AddN":return[n.addN((0,s.getParamValue)("tensors",e,t,r))];case"FloorMod":case"Mod":return[n.mod((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Mul":return[n.mul((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"RealDiv":case"Div":return[n.div((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"DivNoNan":return[n.divNoNan((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"FloorDiv":return[n.floorDiv((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Sub":return[n.sub((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Minimum":return[n.minimum((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Maximum":return[n.maximum((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Pow":return[n.pow((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"SquaredDifference":return[n.squaredDifference((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="arithmetic"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],hJ0Hm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r);var o=e("./ops");a.exportAll(o,r)},{"./ops":"hDvbm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9hMgQ":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Abs":case"ComplexAbs":return[n.abs((0,s.getParamValue)("x",e,t,r))];case"Acos":return[n.acos((0,s.getParamValue)("x",e,t,r))];case"Acosh":return[n.acosh((0,s.getParamValue)("x",e,t,r))];case"Asin":return[n.asin((0,s.getParamValue)("x",e,t,r))];case"Asinh":return[n.asinh((0,s.getParamValue)("x",e,t,r))];case"Atan":return[n.atan((0,s.getParamValue)("x",e,t,r))];case"Atan2":return[n.atan2((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("y",e,t,r))];case"Atanh":return[n.atanh((0,s.getParamValue)("x",e,t,r))];case"Ceil":return[n.ceil((0,s.getParamValue)("x",e,t,r))];case"Complex":return[n.complex((0,s.getParamValue)("real",e,t,r),(0,s.getParamValue)("imag",e,t,r))];case"Cos":return[n.cos((0,s.getParamValue)("x",e,t,r))];case"Cosh":return[n.cosh((0,s.getParamValue)("x",e,t,r))];case"Elu":return[n.elu((0,s.getParamValue)("x",e,t,r))];case"Erf":return[n.erf((0,s.getParamValue)("x",e,t,r))];case"Exp":return[n.exp((0,s.getParamValue)("x",e,t,r))];case"Expm1":return[n.expm1((0,s.getParamValue)("x",e,t,r))];case"Floor":return[n.floor((0,s.getParamValue)("x",e,t,r))];case"Log":return[n.log((0,s.getParamValue)("x",e,t,r))];case"Log1p":return[n.log1p((0,s.getParamValue)("x",e,t,r))];case"Imag":return[n.imag((0,s.getParamValue)("x",e,t,r))];case"Neg":return[n.neg((0,s.getParamValue)("x",e,t,r))];case"Reciprocal":return[n.reciprocal((0,s.getParamValue)("x",e,t,r))];case"Real":return[n.real((0,s.getParamValue)("x",e,t,r))];case"Relu":return[n.relu((0,s.getParamValue)("x",e,t,r))];case"Round":return[n.round((0,s.getParamValue)("x",e,t,r))];case"Selu":return[n.selu((0,s.getParamValue)("x",e,t,r))];case"Sigmoid":return[n.sigmoid((0,s.getParamValue)("x",e,t,r))];case"Sin":return[n.sin((0,s.getParamValue)("x",e,t,r))];case"Sign":return[n.sign((0,s.getParamValue)("x",e,t,r))];case"Sinh":return[n.sinh((0,s.getParamValue)("x",e,t,r))];case"Softplus":return[n.softplus((0,s.getParamValue)("x",e,t,r))];case"Sqrt":return[n.sqrt((0,s.getParamValue)("x",e,t,r))];case"Square":return[n.square((0,s.getParamValue)("x",e,t,r))];case"Tanh":return[n.tanh((0,s.getParamValue)("x",e,t,r))];case"Tan":return[n.tan((0,s.getParamValue)("x",e,t,r))];case"ClipByValue":return[n.clipByValue((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("clipValueMin",e,t,r),(0,s.getParamValue)("clipValueMax",e,t,r))];case"Relu6":return[n.relu6((0,s.getParamValue)("x",e,t,r))];case"Rsqrt":return[n.rsqrt((0,s.getTensor)(e.inputNames[0],t,r))];case"LeakyRelu":return[n.leakyRelu((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("alpha",e,t,r))];case"Prelu":return[n.prelu((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("alpha",e,t,r))];case"IsNan":return[n.isNaN((0,s.getTensor)(e.inputNames[0],t,r))];case"IsInf":return[n.isInf((0,s.getTensor)(e.inputNames[0],t,r))];case"IsFinite":return[n.isFinite((0,s.getTensor)(e.inputNames[0],t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="basic_math"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"6gj0O":[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"executeOp",function(){return d}),o.export(r,"CATEGORY",function(){return h});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),c=e("@swc/helpers/cjs/_ts_values.cjs"),u=e("@tensorflow/tfjs-core"),l=e("../../executor/tensor_array"),p=e("../../executor/tensor_list"),f=e("./utils"),d=(a=(0,s._)(function(e,t,r){var n,a,o,s,d,h,m,g,v,_,x,y,b,k,j,w,S,I,T,N,C,E,F,A,P,R,D,M,O,L,V,U,B,z,G,W,q,H,Z,K,X,Y,J,Q,$,ee,et,er,en,ea,eo,es,ei,ec,eu,el,ep,ef,ed,eh,em,eg,ev,e_,ex,ey,eb,ek,ej,ew,eS,eI,eT,eN,eC,eE,eF,eA,eP,eR,eD,eM,eO,eL,eV,eU,eB,ez,eG,eW,eq,eH,eZ,eK,eX,eY,eJ,eQ,e$,e0,e1,e2,e3;return(0,i._)(this,function(e4){switch(e4.label){case 0:switch(e.op){case"If":case"StatelessIf":return[3,1];case"While":case"StatelessWhile":return[3,3];case"LoopCond":return[3,9];case"Switch":return[3,10];case"Merge":return[3,12];case"Enter":return[3,13];case"Exit":return[3,14];case"NextIteration":return[3,15];case"TensorArrayV3":return[3,16];case"TensorArrayWriteV3":return[3,17];case"TensorArrayReadV3":return[3,18];case"TensorArrayGatherV3":return[3,19];case"TensorArrayScatterV3":return[3,20];case"TensorArrayConcatV3":return[3,21];case"TensorArraySplitV3":return[3,22];case"TensorArraySizeV3":return[3,23];case"TensorArrayCloseV3":return[3,24];case"TensorListSetItem":return[3,25];case"TensorListGetItem":return[3,26];case"TensorListScatterV2":case"TensorListScatter":return[3,27];case"TensorListReserve":case"EmptyTensorList":return[3,28];case"TensorListGather":return[3,29];case"TensorListStack":return[3,30];case"TensorListFromTensor":return[3,31];case"TensorListConcat":case"TensorListConcatV2":return[3,32];case"TensorListPushBack":return[3,33];case"TensorListPopBack":return[3,34];case"TensorListSplit":return[3,35];case"TensorListLength":return[3,36];case"TensorListResize":return[3,37]}return[3,38];case 1:return n=(0,f.getParamValue)("thenBranch",e,t,r),a=(0,f.getParamValue)("elseBranch",e,t,r),o=(0,f.getParamValue)("cond",e,t,r),s=(0,f.getParamValue)("args",e,t,r),[4,o.data()];case 2:if(e4.sent()[0])return[2,r.functionMap[n].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap)];return[2,r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap)];case 3:return d=function(){var e,t,n;return(0,i._)(this,function(a){switch(a.label){case 0:return e=y,[4,r.functionMap[h].executeFunctionAsync(y,r.tensorArrayMap,r.tensorListMap)];case 1:return t=(y=a.sent()).map(function(e){return e.id}),e.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}),[4,r.functionMap[m].executeFunctionAsync(y,r.tensorArrayMap,r.tensorListMap)];case 2:return[4,(n=a.sent())[0].data()];case 3:return x=a.sent(),n.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}),[2]}})},h=(0,f.getParamValue)("body",e,t,r),m=(0,f.getParamValue)("cond",e,t,r),g=(0,f.getParamValue)("args",e,t,r),[4,r.functionMap[m].executeFunctionAsync(g,r.tensorArrayMap,r.tensorListMap)];case 4:return v=e4.sent(),_=g.map(function(e){return e.id}),[4,v[0].data()];case 5:x=e4.sent(),v.forEach(function(e){e.kept||-1!==_.indexOf(e.id)||e.dispose()}),y=g,e4.label=6;case 6:if(!x[0])return[3,8];return[5,(0,c._)(d())];case 7:return e4.sent(),[3,6];case 8:return[2,y];case 9:return b=(0,f.getParamValue)("pred",e,t,r),[2,[(0,f.cloneTensor)(b)]];case 10:return k=(0,f.getParamValue)("pred",e,t,r),(j=(0,f.getParamValue)("data",e,t,r)).kept||(j=(0,f.cloneTensor)(j)),[4,k.data()];case 11:return[2,e4.sent()[0]?[void 0,j]:[j,void 0]];case 12:if(w=e.inputNames.find(function(e){return void 0!==(0,f.getTensor)(e,t,r)}))return S=(0,f.getTensor)(w,t,r),[2,[(0,f.cloneTensor)(S)]];return[2,void 0];case 13:return I=(0,f.getParamValue)("frameName",e,t,r),T=(0,f.getParamValue)("tensor",e,t,r),r.enterFrame(I),[2,[(0,f.cloneTensor)(T)]];case 14:return N=(0,f.getParamValue)("tensor",e,t,r),r.exitFrame(),[2,[(0,f.cloneTensor)(N)]];case 15:return C=(0,f.getParamValue)("tensor",e,t,r),r.nextIteration(),[2,[(0,f.cloneTensor)(C)]];case 16:return E=(0,f.getParamValue)("size",e,t,r),F=(0,f.getParamValue)("dtype",e,t,r),A=(0,f.getParamValue)("elementShape",e,t,r),P=(0,f.getParamValue)("dynamicSize",e,t,r),R=(0,f.getParamValue)("clearAfterRead",e,t,r),D=(0,f.getParamValue)("identicalElementShapes",e,t,r),M=(0,f.getParamValue)("name",e,t,r),O=new(0,l.TensorArray)(M,F,E,A,D,P,R),r.addTensorArray(O),[2,[O.idTensor,(0,u.scalar)(1)]];case 17:return L=(0,f.getParamValue)("tensorArrayId",e,t,r),V=(0,f.getParamValue)("index",e,t,r),U=(0,f.getParamValue)("tensor",e,t,r),(B=r.getTensorArray(L.id)).write(V,U),[2,[B.idTensor]];case 18:return z=(0,f.getParamValue)("tensorArrayId",e,t,r),G=(0,f.getParamValue)("index",e,t,r),[2,[r.getTensorArray(z.id).read(G)]];case 19:return W=(0,f.getParamValue)("tensorArrayId",e,t,r),q=(0,f.getParamValue)("indices",e,t,r),H=(0,f.getParamValue)("dtype",e,t,r),[2,[r.getTensorArray(W.id).gather(q,H)]];case 20:return Z=(0,f.getParamValue)("tensorArrayId",e,t,r),K=(0,f.getParamValue)("indices",e,t,r),X=(0,f.getParamValue)("tensor",e,t,r),(Y=r.getTensorArray(Z.id)).scatter(K,X),[2,[Y.idTensor]];case 21:return J=(0,f.getParamValue)("tensorArrayId",e,t,r),Q=r.getTensorArray(J.id),$=(0,f.getParamValue)("dtype",e,t,r),[2,[Q.concat($)]];case 22:return ee=(0,f.getParamValue)("tensorArrayId",e,t,r),et=(0,f.getParamValue)("tensor",e,t,r),er=(0,f.getParamValue)("lengths",e,t,r),(en=r.getTensorArray(ee.id)).split(er,et),[2,[en.idTensor]];case 23:return ea=(0,f.getParamValue)("tensorArrayId",e,t,r),eo=r.getTensorArray(ea.id),[2,[(0,u.scalar)(eo.size(),"int32")]];case 24:return es=(0,f.getParamValue)("tensorArrayId",e,t,r),(ei=r.getTensorArray(es.id)).clearAndClose(),[2,[ei.idTensor]];case 25:return ec=(0,f.getParamValue)("tensorListId",e,t,r),eu=(0,f.getParamValue)("index",e,t,r),el=(0,f.getParamValue)("tensor",e,t,r),(ep=r.getTensorList(ec.id)).setItem(eu,el),[2,[ep.idTensor]];case 26:return ef=(0,f.getParamValue)("tensorListId",e,t,r),ed=(0,f.getParamValue)("index",e,t,r),eh=(0,f.getParamValue)("elementShape",e,t,r),em=(0,f.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(ef.id).getItem(ed,eh,em)]];case 27:return eg=(0,f.getParamValue)("indices",e,t,r),ev=(0,f.getParamValue)("tensor",e,t,r),e_=(0,f.getParamValue)("elementShape",e,t,r),ex=(0,f.getParamValue)("numElements",e,t,r),ey=(0,p.scatter)(ev,eg,e_,ex),r.addTensorList(ey),[2,[ey.idTensor]];case 28:return eb=(0,f.getParamValue)("elementShape",e,t,r),ek=(0,f.getParamValue)("elementDType",e,t,r),ej="TensorListReserve"===e.op?"numElements":"maxNumElements",ew=(0,f.getParamValue)(ej,e,t,r),eS="TensorListReserve"===e.op?-1:ew,eI=(0,p.reserve)(eb,ek,ew,eS),r.addTensorList(eI),[2,[eI.idTensor]];case 29:return eT=(0,f.getParamValue)("tensorListId",e,t,r),eN=(0,f.getParamValue)("indices",e,t,r),eC=(0,f.getParamValue)("elementShape",e,t,r),eE=(0,f.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(eT.id).gather(eN,eE,eC)]];case 30:return eF=(0,f.getParamValue)("tensorListId",e,t,r),eA=(0,f.getParamValue)("elementShape",e,t,r),eP=(0,f.getParamValue)("elementDType",e,t,r),eR=(0,f.getParamValue)("numElements",e,t,r),[2,[r.getTensorList(eF.id).stack(eA,eP,eR)]];case 31:return eD=(0,f.getParamValue)("tensor",e,t,r),eM=(0,f.getParamValue)("elementShape",e,t,r),eO=(0,f.getParamValue)("elementDType",e,t,r),eL=(0,p.fromTensor)(eD,eM,eO),r.addTensorList(eL),[2,[eL.idTensor]];case 32:return eV=(0,f.getParamValue)("tensorListId",e,t,r),eU=r.getTensorList(eV.id),eB=(0,f.getParamValue)("dtype",e,t,r),ez=(0,f.getParamValue)("elementShape",e,t,r),[2,[eU.concat(eB,ez)]];case 33:return eG=(0,f.getParamValue)("tensorListId",e,t,r),eW=(0,f.getParamValue)("tensor",e,t,r),(eq=r.getTensorList(eG.id)).pushBack(eW),[2,[eq.idTensor]];case 34:return eH=(0,f.getParamValue)("tensorListId",e,t,r),eZ=(0,f.getParamValue)("elementShape",e,t,r),eK=(0,f.getParamValue)("elementDType",e,t,r),[2,[r.getTensorList(eH.id).popBack(eZ,eK)]];case 35:return eX=(0,f.getParamValue)("tensor",e,t,r),eY=(0,f.getParamValue)("elementShape",e,t,r),eJ=(0,f.getParamValue)("lengths",e,t,r),eQ=(0,p.split)(eX,eJ,eY),r.addTensorList(eQ),[2,[eQ.idTensor]];case 36:return e$=(0,f.getParamValue)("tensorListId",e,t,r),e0=r.getTensorList(e$.id),[2,[(0,u.scalar)(e0.size(),"int32")]];case 37:return e1=(0,f.getParamValue)("tensorListId",e,t,r),e2=(0,f.getParamValue)("size",e,t,r),e3=r.getTensorList(e1.id).resize(e2),r.addTensorList(e3),[2,[e3.idTensor]];case 38:throw TypeError("Node type ".concat(e.op," is not implemented"));case 39:return[2]}})}),function(e,t,r){return a.apply(this,arguments)}),h="control"},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@swc/helpers/cjs/_ts_values.cjs":"93wb8","@tensorflow/tfjs-core":"1q0U8","../../executor/tensor_array":"j95fy","../../executor/tensor_list":"h2Lie","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"93wb8":[function(e,t,r,n){"use strict";r._=e("6d81bb6ef126ff94").__values},{"6d81bb6ef126ff94":"36MWs"}],j95fy:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorArray",function(){return l});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./tensor_utils"),l=function(){"use strict";function e(t,r,n,a,s,i,u){(0,o._)(this,e),this.name=t,this.dtype=r,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=s,this.dynamicSize=i,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=(0,c.scalar)(0),(0,c.keep)(this.idTensor)}return(0,s._)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach(function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map(function(e){return t.read(e)})}},{key:"write",value:function(e,t){if(this.closed_)throw Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var r=this.tensors[e]||{};if(t.dtype!==this.dtype)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=t.shape),(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),r.read)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(r.written)throw Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));r.tensor=t,(0,c.keep)(t),r.written=!0,this.tensors[e]=r}},{key:"writeMany",value:function(e,t){var r=this;if(e.length!==t.length)throw Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(function(e,n){return r.write(e,t[n])})}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var r=0;r<this.size();r++)e.push(r)}if(0===e.length)return(0,c.tensor)([],[0].concat(this.elementShape));var n=this.readMany(e);return(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,c.stack)(n,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,c.tensor)([],[0].concat(this.elementShape));for(var t=[],r=0;r<this.size();r++)t.push(r);var n=this.readMany(t);return(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),(0,c.concat)(n,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var r,n=(r=Math).max.apply(r,(0,i._)(e));if(!this.dynamicSize&&n>=this.maxSize)throw Error("Max index must be< array size (".concat(n," vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,c.unstack)(t,0))}},{key:"split",value:function(e,t){var r=this;if(t.dtype!==this.dtype)throw Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var n=0,a=e.map(function(e){return n+=e});if(n!==t.shape[0])throw Error("Expected sum of lengths to be equal to\n tensor.shape[0], but sum of lengths is\n ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===n?0:t.size/n,s=[];(0,c.tidy)(function(){t=(0,c.reshape)(t,[1,n,o]);for(var i=0;i<e.length;++i){var u=[0,0===i?0:a[i-1],0],l=[1,e[i],o];s[i]=(0,c.reshape)((0,c.slice)(t,u,l),r.elementShape)}return s});for(var i=[],u=0;u<e.length;u++)i[u]=u;this.writeMany(i,s)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./tensor_utils":"e7Fw0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],e7Fw0:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"assertShapesMatchAllowUndefinedSize",function(){return s}),a.export(r,"fullDefinedShape",function(){return i}),a.export(r,"inferElementShape",function(){return c}),a.export(r,"mergeElementShape",function(){return u});var o=e("@tensorflow/tfjs-core");function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!=typeof e&&"number"!=typeof t){o.util.assert(e.length===t.length,function(){return r+" Shapes ".concat(e," and ").concat(t," must match")});for(var n=0;n<e.length;n++){var a=e[n],s=t[n];o.util.assert(a<0||s<0||a===s,function(){return r+" Shapes ".concat(e," and ").concat(t," must match")})}}}function i(e){return!("number"==typeof e||e.some(function(e){return e<0}))}function c(e,t,r){var n=u(e,r),a=!i(n);if(a&&0===t.length)throw Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(n));if(a&&t.forEach(function(e){n=u(e.shape,n)}),!i(n))throw Error("Non-fully-defined elementShape: ".concat(n));return n}function u(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var r=[],n=0;n<e.length;++n){var a=e[n],o=t[n];if(a>=0&&o>=0&&a!==o)throw Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));r[n]=a>=0?a:o}return r}},{"@tensorflow/tfjs-core":"1q0U8","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],h2Lie:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"TensorList",function(){return l}),a.export(r,"fromTensor",function(){return p}),a.export(r,"reserve",function(){return f}),a.export(r,"scatter",function(){return d}),a.export(r,"split",function(){return h});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=e("@swc/helpers/cjs/_to_consumable_array.cjs"),c=e("@tensorflow/tfjs-core"),u=e("./tensor_utils"),l=function(){"use strict";function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,o._)(this,e),this.tensors=t,this.elementShape=r,this.elementDtype=n,null!=t&&t.forEach(function(e){if(n!==e.dtype)throw Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));(0,u.assertShapesMatchAllowUndefinedSize)(r,e.shape,"TensorList shape mismatch: "),(0,c.keep)(e)}),this.idTensor=(0,c.scalar)(0),this.maxNumElements=a,(0,c.keep)(this.idTensor)}return(0,s._)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,i._)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach(function(t){null!=e&&e.has(t.id)||t.dispose()}),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));(0,u.assertShapesMatchAllowUndefinedSize)(e,this.elementShape,"TensorList shape mismatch: ");var a=(0,u.inferElementShape)(this.elementShape,this.tensors,e);return(0,c.tidy)(function(){var e=r.tensors.map(function(e){return(0,c.reshape)(e,a)});return(0,c.stack)(e,0)})}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw Error("Trying to pop from an empty list.");var r=(0,u.inferElementShape)(this.elementShape,this.tensors,e),n=this.tensors.pop();return n.kept=!1,(0,u.assertShapesMatchAllowUndefinedSize)(n.shape,e,"TensorList shape mismatch: "),(0,c.reshape)(n,r)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if((0,u.assertShapesMatchAllowUndefinedSize)(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw Error("Trying to push element into a full list.");(0,c.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var r=new e([],this.elementShape,this.elementDtype,this.maxNumElements);r.tensors.length=t;for(var n=0;n<Math.min(this.tensors.length,t);++n)r.tensors[n]=this.tensors[n];return r}},{key:"getItem",value:function(e,t,r){if(r!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw Error("element at index ".concat(e," is null."));(0,u.assertShapesMatchAllowUndefinedSize)(this.tensors[e].shape,t,"TensorList shape mismatch: ");var n=(0,u.inferElementShape)(this.elementShape,this.tensors,t);return(0,c.reshape)(this.tensors[e],n)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,c.keep)(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,r){var n=this;if(t!==this.elementDtype)throw Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=(0,u.inferElementShape)(this.elementShape,this.tensors,r);return 0===e.length?(0,c.tensor)([],[0].concat(a)):(0,c.tidy)(function(){var t=e.map(function(e){return(0,c.reshape)(n.tensors[e],a)});return(0,c.stack)(t,0)})}},{key:"concat",value:function(e,t){var r=this;if(e&&e!==this.elementDtype)throw Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));(0,u.assertShapesMatchAllowUndefinedSize)(this.elementShape,t,"TensorList shape mismatch: ");var n=(0,u.inferElementShape)(this.elementShape,this.tensors,t);return 0===this.size()?(0,c.tensor)([],[0].concat(n)):(0,c.tidy)(function(){var e=r.tensors.map(function(e){return(0,c.reshape)(e,n)});return(0,c.concat)(e,0)})}}]),e}();function p(e,t,r){var n=e.dtype;if(e.shape.length<1)throw Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==r)throw Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(r));var a=e.shape.slice(1);return(0,u.assertShapesMatchAllowUndefinedSize)(a,t,"TensorList shape mismatch: "),new l((0,c.unstack)(e),t,n)}function f(e,t,r,n){return new l([],e,t,n)}function d(e,t,r,n){if(t.length!==e.shape[0])throw Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a,o=(a=Math).max.apply(a,(0,i._)(t));if(null!=n&&-1!==n&&o>=n)throw Error("Max index must be< array size (".concat(o," vs. ").concat(n,")"));var s=new l([],r,e.dtype,n),u=(0,c.unstack)(e,0);return t.forEach(function(e,t){s.setItem(e,u[t])}),s}function h(e,t,r){var n=0,a=t.map(function(e){return n+=e});if(n!==e.shape[0])throw Error("Expected sum of lengths to be equal to\n tensor.shape[0], but sum of lengths is\n ".concat(n,", and tensor's shape is: ").concat(e.shape));for(var o=e.shape.slice(1),s=(0,u.mergeElementShape)(o,r),i=0===n?0:e.size/n,p=(0,c.tidy)(function(){var r=[];e=(0,c.reshape)(e,[1,n,i]);for(var o=0;o<t.length;++o){var u=[0,0===o?0:a[o-1],0],l=[1,t[o],i];r[o]=(0,c.reshape)((0,c.slice)(e,u,l),s)}return e.dispose(),r}),f=new l([],r,e.dtype,t.length),d=0;d<p.length;d++)f.setItem(d,p[d]);return f}},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core":"1q0U8","./tensor_utils":"e7Fw0","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],jP5rz:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return u}),a.export(r,"CATEGORY",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),i=e("./utils");function c(e,t,r){var n=(0,o._)((0,i.getParamValue)("fusedOps",e,t,r),2),a=n[0],s=n[1],c="biasadd"===a,u="prelu"===s,l=(0,i.getParamValue)("numArgs",e,t,r);if(c){if(u&&2!==l)throw Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&c&&1!==l)throw Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if("fusedbatchnorm"===a)throw Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=(0,i.getParamValue)("strides",e,t,r),f=(0,i.getPadding)(e,t,r),d=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),h=(0,i.getParamValue)("dilations",e,t,r),m=(0,o._)((0,i.getParamValue)("args",e,t,r),2),g=m[0],v=m[1];return c||(v=g,g=void 0),{stride:p,pad:f,dataFormat:d,dilations:h,biasArg:g,preluArg:v,activationFunc:s,leakyreluAlpha:(0,i.getParamValue)("leakyreluAlpha",e,t,r)}}var u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"Conv1D":var a=(0,i.getParamValue)("stride",e,t,r),o=(0,i.getParamValue)("pad",e,t,r),u=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),l=(0,i.getParamValue)("dilation",e,t,r);return[n.conv1d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),a,o,u,l)];case"Conv2D":var p=(0,i.getParamValue)("strides",e,t,r),f=(0,i.getPadding)(e,t,r),d=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),h=(0,i.getParamValue)("dilations",e,t,r);return[n.conv2d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[p[1],p[2]],f,d,[h[1],h[2]])];case"_FusedConv2D":var m=c(e,t,r),g=m.stride,v=m.pad,_=m.dataFormat,x=m.dilations,y=m.biasArg,b=m.preluArg,k=m.activationFunc,j=m.leakyreluAlpha;return[n.fused.conv2d({x:(0,i.getParamValue)("x",e,t,r),filter:(0,i.getParamValue)("filter",e,t,r),strides:[g[1],g[2]],pad:v,dataFormat:_,dilations:[x[1],x[2]],bias:y,activation:k,preluActivationWeights:b,leakyreluAlpha:j})];case"FusedDepthwiseConv2dNative":var w=c(e,t,r),S=w.stride,I=w.pad,T=w.dataFormat,N=w.dilations,C=w.biasArg,E=w.preluArg,F=w.activationFunc,A=w.leakyreluAlpha;return[n.fused.depthwiseConv2d({x:(0,i.getParamValue)("x",e,t,r),filter:(0,i.getParamValue)("filter",e,t,r),strides:[S[1],S[2]],pad:I,dataFormat:T,dilations:[N[1],N[2]],bias:C,activation:F,preluActivationWeights:E,leakyreluAlpha:A})];case"Conv2DBackpropInput":case"Conv2dTranspose":var P=(0,i.getParamValue)("outputShape",e,t,r),R=(0,i.getParamValue)("strides",e,t,r),D=(0,i.getPadding)(e,t,r);return[n.conv2dTranspose((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),P,[R[1],R[2]],D)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var M=(0,i.getParamValue)("strides",e,t,r),O=(0,i.getPadding)(e,t,r),L=(0,i.getParamValue)("dilations",e,t,r),V=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase();return[n.depthwiseConv2d((0,i.getParamValue)("input",e,t,r),(0,i.getParamValue)("filter",e,t,r),[M[1],M[2]],O,V,[L[1],L[2]])];case"Conv3D":var U=(0,i.getParamValue)("strides",e,t,r),B=(0,i.getParamValue)("pad",e,t,r),z=(0,i.getParamValue)("dataFormat",e,t,r).toUpperCase(),G=(0,i.getParamValue)("dilations",e,t,r);return[n.conv3d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[U[1],U[2],U[3]],B,z,[G[1],G[2],G[3]])];case"AvgPool":var W=(0,i.getParamValue)("strides",e,t,r),q=(0,i.getParamValue)("pad",e,t,r),H=(0,i.getParamValue)("kernelSize",e,t,r);return[n.avgPool((0,i.getParamValue)("x",e,t,r),[H[1],H[2]],[W[1],W[2]],q)];case"MaxPool":var Z=(0,i.getParamValue)("strides",e,t,r),K=(0,i.getParamValue)("pad",e,t,r),X=(0,i.getParamValue)("kernelSize",e,t,r);return[n.maxPool((0,i.getParamValue)("x",e,t,r),[X[1],X[2]],[Z[1],Z[2]],K)];case"MaxPoolWithArgmax":var Y=(0,i.getParamValue)("strides",e,t,r),J=(0,i.getParamValue)("pad",e,t,r),Q=(0,i.getParamValue)("kernelSize",e,t,r),$=(0,i.getParamValue)("includeBatchInIndex",e,t,r),ee=n.maxPoolWithArgmax((0,i.getParamValue)("x",e,t,r),[Q[1],Q[2]],[Y[1],Y[2]],J,$);return[ee.result,ee.indexes];case"AvgPool3D":var et=(0,i.getParamValue)("strides",e,t,r),er=(0,i.getParamValue)("pad",e,t,r),en=(0,i.getParamValue)("kernelSize",e,t,r);return[n.avgPool3d((0,i.getParamValue)("x",e,t,r),[en[1],en[2],en[3]],[et[1],et[2],et[3]],er)];case"MaxPool3D":var ea=(0,i.getParamValue)("strides",e,t,r),eo=(0,i.getParamValue)("pad",e,t,r),es=(0,i.getParamValue)("kernelSize",e,t,r);return[n.maxPool3d((0,i.getParamValue)("x",e,t,r),[es[1],es[2],es[3]],[ea[1],ea[2],ea[3]],eo)];case"Dilation2D":var ei=(0,i.getParamValue)("strides",e,t,r),ec=(0,i.getParamValue)("pad",e,t,r),eu=(0,i.getParamValue)("dilations",e,t,r),el=ei[1],ep=ei[2],ef=eu[1],ed=eu[2];return[n.dilation2d((0,i.getParamValue)("x",e,t,r),(0,i.getParamValue)("filter",e,t,r),[el,ep],ec,[ef,ed],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},l="convolution"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gu7BO:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Fill":var a=(0,s.getParamValue)("shape",e,t,r),i=(0,s.getParamValue)("dtype",e,t,r),c=(0,s.getParamValue)("value",e,t,r);return[n.fill(a,c,i)];case"LinSpace":var u=(0,s.getParamValue)("start",e,t,r),l=(0,s.getParamValue)("stop",e,t,r),p=(0,s.getParamValue)("num",e,t,r);return[n.linspace(u,l,p)];case"Multinomial":var f=(0,s.getParamValue)("logits",e,t,r),d=(0,s.getParamValue)("numSamples",e,t,r),h=(0,s.getParamValue)("seed",e,t,r);return[n.multinomial(f,d,h)];case"OneHot":var m=(0,s.getParamValue)("indices",e,t,r),g=(0,s.getParamValue)("depth",e,t,r),v=(0,s.getParamValue)("onValue",e,t,r),_=(0,s.getParamValue)("offValue",e,t,r),x=(0,s.getParamValue)("dtype",e,t,r);return[n.oneHot(m,g,v,_,x)];case"Ones":return[n.ones((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("dtype",e,t,r))];case"OnesLike":return[n.onesLike((0,s.getParamValue)("x",e,t,r))];case"RandomStandardNormal":return[n.randomStandardNormal((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("dtype",e,t,r),(0,s.getParamValue)("seed",e,t,r))];case"RandomUniform":return[n.randomUniform((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("minval",e,t,r),(0,s.getParamValue)("maxval",e,t,r),(0,s.getParamValue)("dtype",e,t,r))];case"RandomUniformInt":return[n.randomUniformInt((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("minval",e,t,r),(0,s.getParamValue)("maxval",e,t,r),(0,s.getParamValue)("seed",e,t,r))];case"Range":var y=(0,s.getParamValue)("start",e,t,r),b=(0,s.getParamValue)("stop",e,t,r),k=(0,s.getParamValue)("step",e,t,r);return[n.range(y,b,k,(0,s.getParamValue)("dtype",e,t,r))];case"TruncatedNormal":var j=(0,s.getParamValue)("shape",e,t,r),w=(0,s.getParamValue)("mean",e,t,r),S=(0,s.getParamValue)("stdDev",e,t,r),I=(0,s.getParamValue)("seed",e,t,r);return[n.truncatedNormal(j,w,S,(0,s.getParamValue)("dtype",e,t,r),I)];case"Zeros":return[n.zeros((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("dtype",e,t,r))];case"ZerosLike":return[n.zerosLike((0,s.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="creation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fc2on:[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"executeOp",function(){return p}),o.export(r,"CATEGORY",function(){return f});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),c=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),u=e("./utils");function l(e,t,r){return{boxes:(0,u.getParamValue)("boxes",e,t,r),scores:(0,u.getParamValue)("scores",e,t,r),maxOutputSize:(0,u.getParamValue)("maxOutputSize",e,t,r),iouThreshold:(0,u.getParamValue)("iouThreshold",e,t,r),scoreThreshold:(0,u.getParamValue)("scoreThreshold",e,t,r),softNmsSigma:(0,u.getParamValue)("softNmsSigma",e,t,r)}}var p=(a=(0,s._)(function(e,t,r,n){var a,o,s,p,f,d,h,m,g,v,_,x,y,b,k,j,w,S,I,T,N,C,E,F,A,P=arguments;return(0,i._)(this,function(n){switch(n.label){case 0:switch(a=P.length>4&&void 0!==P[4]?P[4]:c,e.op){case"NonMaxSuppressionV5":return[3,1];case"NonMaxSuppressionV4":return[3,3];case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,5];case"Where":return[3,7];case"ListDiff":return[3,9]}return[3,10];case 1:return s=(o=l(e,t,r)).boxes,p=o.scores,f=o.maxOutputSize,d=o.iouThreshold,h=o.scoreThreshold,m=o.softNmsSigma,[4,a.image.nonMaxSuppressionWithScoreAsync(s,p,f,d,h,m)];case 2:return[2,[(g=n.sent()).selectedIndices,g.selectedScores]];case 3:return _=(v=l(e,t,r)).boxes,x=v.scores,y=v.maxOutputSize,b=v.iouThreshold,k=v.scoreThreshold,j=(0,u.getParamValue)("padToMaxOutputSize",e,t,r),[4,a.image.nonMaxSuppressionPaddedAsync(_,x,y,b,k,j)];case 4:return[2,[(w=n.sent()).selectedIndices,w.validOutputs]];case 5:return I=(S=l(e,t,r)).boxes,T=S.scores,N=S.maxOutputSize,C=S.iouThreshold,E=S.scoreThreshold,[4,a.image.nonMaxSuppressionAsync(I,T,N,C,E)];case 6:return[2,[n.sent()]];case 7:return F=a.cast((0,u.getParamValue)("condition",e,t,r),"bool"),[4,a.whereAsync(F)];case 8:return A=[n.sent()],F.dispose(),[2,A];case 9:return[2,a.setdiff1dAsync((0,u.getParamValue)("x",e,t,r),(0,u.getParamValue)("y",e,t,r))];case 10:throw TypeError("Node type ".concat(e.op," is not implemented"));case 11:return[2]}})}),function(e,t,r,n){return a.apply(this,arguments)}),f="dynamic"},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gsY5f:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"LowerBound":var a=(0,s.getParamValue)("sortedSequence",e,t,r),i=(0,s.getParamValue)("values",e,t,r);return[n.lowerBound(a,i)];case"TopKV2":var c=(0,s.getParamValue)("x",e,t,r),u=(0,s.getParamValue)("k",e,t,r),l=(0,s.getParamValue)("sorted",e,t,r),p=n.topk(c,u,l);return[p.values,p.indices];case"UpperBound":var f=(0,s.getParamValue)("sortedSequence",e,t,r),d=(0,s.getParamValue)("values",e,t,r);return[n.upperBound(f,d)];case"Unique":var h=(0,s.getParamValue)("x",e,t,r),m=n.unique(h);return[m.values,m.indices];case"UniqueV2":var g=(0,s.getParamValue)("x",e,t,r),v=(0,s.getParamValue)("axis",e,t,r),_=n.unique(g,v);return[_.values,_.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="evaluation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"57wt4":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var a=(0,s.getParamValue)("default",e,t,r);return[(0,s.getTensor)(e.name,t,r)||a];case"Placeholder":return[(0,s.getTensor)(e.name,t,r)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":var i=(0,s.getParamValue)("x",e,t,r);return[(0,s.cloneTensor)(i)];case"IdentityN":return(0,s.getParamValue)("x",e,t,r).map(function(e){return(0,s.cloneTensor)(e)});case"Snapshot":var c=(0,s.getParamValue)("x",e,t,r);return[(0,s.cloneTensor)(c)];case"Shape":return[n.tensor1d((0,s.getParamValue)("x",e,t,r).shape,"int32")];case"ShapeN":return(0,s.getParamValue)("x",e,t,r).map(function(e){return n.tensor1d(e.shape)});case"Size":return[n.scalar((0,s.getParamValue)("x",e,t,r).size,"int32")];case"Rank":return[n.scalar((0,s.getParamValue)("x",e,t,r).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":var u=(0,s.getParamValue)("x",e,t,r),l=(0,s.getParamValue)("data",e,t,r),p=(0,s.getParamValue)("message",e,t,r),f=(0,s.getParamValue)("summarize",e,t,r);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(p);for(var d=0;d<l.length;d++)console.log(Array.prototype.slice.call(l[d].dataSync()).slice(0,f));return[u];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="graph"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8LQHU":[function(e,t,r,n){var a,o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"executeOp",function(){return l}),o.export(r,"CATEGORY",function(){return p});var s=e("@swc/helpers/cjs/_async_to_generator.cjs"),i=e("@swc/helpers/cjs/_ts_generator.cjs"),c=e("../../executor/hash_table"),u=e("./utils"),l=(a=(0,s._)(function(e,t,r,n){var a,o,s,l,p,f,d,h,m,g,v;return(0,i._)(this,function(i){switch(i.label){case 0:switch(e.op){case"HashTable":case"HashTableV2":return[3,1];case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":return[3,2];case"LookupTableFind":case"LookupTableFindV2":return[3,4];case"LookupTableSize":case"LookupTableSizeV2":return[3,6]}return[3,7];case 1:if(null!=(a=n.getHashTableHandleByName(e.name)))return[2,[a]];return o=(0,u.getParamValue)("keyDType",e,t,r),s=(0,u.getParamValue)("valueDType",e,t,r),l=new(0,c.HashTable)(o,s),n.addHashTable(e.name,l),[2,[l.handle]];case 2:return p=(0,u.getParamValue)("tableHandle",e,t,r,n),f=(0,u.getParamValue)("keys",e,t,r),d=(0,u.getParamValue)("values",e,t,r),[4,n.getHashTableById(p.id).import(f,d)];case 3:case 5:return[2,[i.sent()]];case 4:return h=(0,u.getParamValue)("tableHandle",e,t,r,n),m=(0,u.getParamValue)("keys",e,t,r),g=(0,u.getParamValue)("defaultValue",e,t,r),[4,n.getHashTableById(h.id).find(m,g)];case 6:return v=(0,u.getParamValue)("tableHandle",e,t,r,n),[2,[n.getHashTableById(v.id).tensorSize()]];case 7:throw TypeError("Node type ".concat(e.op," is not implemented"));case 8:return[2]}})}),function(e,t,r,n){return a.apply(this,arguments)}),p="hash_table"},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","../../executor/hash_table":"gNTiF","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],gNTiF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"HashTable",function(){return p});var o=e("@swc/helpers/cjs/_async_to_generator.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_create_class.cjs"),c=e("@swc/helpers/cjs/_ts_generator.cjs"),u=e("@tensorflow/tfjs-core"),l=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),p=function(){"use strict";function e(t,r){(0,s._)(this,e),this.keyDType=t,this.valueDType=r,this.handle=(0,u.scalar)(0),this.tensorMap=new Map,(0,u.keep)(this.handle)}return(0,i._)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach(function(e){return e.dispose()}),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return l.scalar(this.size(),"int32")}},{key:"import",value:function(e,t){var r=this;return(0,o._)(function(){var n;return(0,c._)(this,function(a){switch(a.label){case 0:return r.checkKeyAndValueTensor(e,t),[4,e.data()];case 1:return n=a.sent(),r.tensorMap.forEach(function(e){return e.dispose()}),r.tensorMap.clear(),[2,(0,u.tidy)(function(){var e=(0,u.unstack)(t),a=n.length,o=e.length;u.util.assert(a===o,function(){return"The number of elements doesn't match, keys has "+"".concat(a," elements, the values has ").concat(o," ")+"elements."});for(var s=0;s<a;s++){var i=n[s],c=e[s];(0,u.keep)(c),r.tensorMap.set(i,c)}return r.handle})]}})})()}},{key:"find",value:function(e,t){var r=this;return(0,o._)(function(){var n;return(0,c._)(this,function(a){switch(a.label){case 0:return r.checkKeyAndValueTensor(e,t),[4,e.data()];case 1:return n=a.sent(),[2,(0,u.tidy)(function(){for(var e=[],a=0;a<n.length;a++){var o=n[a],s=r.findWithDefault(o,t);e.push(s)}return(0,u.stack)(e)})]}})})()}},{key:"findWithDefault",value:function(e,t){var r=this.tensorMap.get(e);return null!=r?r:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}()},{"@swc/helpers/cjs/_async_to_generator.cjs":"4ElRo","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@swc/helpers/cjs/_ts_generator.cjs":"a4h1C","@tensorflow/tfjs-core":"1q0U8","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"9FNPm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"ResizeBilinear":var a=(0,s.getParamValue)("images",e,t,r),i=(0,s.getParamValue)("size",e,t,r),c=(0,s.getParamValue)("alignCorners",e,t,r),u=(0,s.getParamValue)("halfPixelCenters",e,t,r);return[n.image.resizeBilinear(a,[i[0],i[1]],c,u)];case"ResizeNearestNeighbor":var l=(0,s.getParamValue)("images",e,t,r),p=(0,s.getParamValue)("size",e,t,r),f=(0,s.getParamValue)("alignCorners",e,t,r),d=(0,s.getParamValue)("halfPixelCenters",e,t,r);return[n.image.resizeNearestNeighbor(l,[p[0],p[1]],f,d)];case"CropAndResize":var h=(0,s.getParamValue)("image",e,t,r),m=(0,s.getParamValue)("boxes",e,t,r),g=(0,s.getParamValue)("boxInd",e,t,r),v=(0,s.getParamValue)("cropSize",e,t,r),_=(0,s.getParamValue)("method",e,t,r),x=(0,s.getParamValue)("extrapolationValue",e,t,r);return[n.image.cropAndResize(h,m,g,v,_,x)];case"ImageProjectiveTransformV3":var y=(0,s.getParamValue)("images",e,t,r),b=(0,s.getParamValue)("transforms",e,t,r),k=(0,s.getParamValue)("outputShape",e,t,r),j=(0,s.getParamValue)("fillValue",e,t,r),w=(0,s.getParamValue)("interpolation",e,t,r),S=(0,s.getParamValue)("fillMode",e,t,r);return[n.image.transform(y,b,w.toLowerCase(),S.toLowerCase(),j,k)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="image"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"8SQ3p":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Equal":return[n.equal((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"NotEqual":return[n.notEqual((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Greater":return[n.greater((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"GreaterEqual":return[n.greaterEqual((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Less":return[n.less((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"LessEqual":return[n.lessEqual((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"LogicalAnd":return[n.logicalAnd((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"LogicalNot":return[n.logicalNot((0,s.getParamValue)("a",e,t,r))];case"LogicalOr":return[n.logicalOr((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"Select":case"SelectV2":return[n.where((0,s.getParamValue)("condition",e,t,r),(0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];case"BitwiseAnd":return[n.bitwiseAnd((0,s.getParamValue)("a",e,t,r),(0,s.getParamValue)("b",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="logical"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4tSsI":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return u}),a.export(r,"CATEGORY",function(){return l});var o=e("@swc/helpers/cjs/_sliced_to_array.cjs"),s=e("@swc/helpers/cjs/_to_consumable_array.cjs"),i=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),c=e("./utils"),u=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul((0,c.getParamValue)("a",e,t,r),(0,c.getParamValue)("b",e,t,r),(0,c.getParamValue)("transposeA",e,t,r),(0,c.getParamValue)("transposeB",e,t,r))];case"Einsum":return[n.einsum.apply(n,[(0,c.getParamValue)("equation",e,t,r)].concat((0,s._)((0,c.getParamValue)("tensors",e,t,r))))];case"Transpose":return[n.transpose((0,c.getParamValue)("x",e,t,r),(0,c.getParamValue)("perm",e,t,r))];case"_FusedMatMul":var a=(0,o._)((0,c.getParamValue)("fusedOps",e,t,r),2),u=a[0],l=a[1],p="prelu"===l,f=(0,c.getParamValue)("numArgs",e,t,r),d=(0,c.getParamValue)("leakyreluAlpha",e,t,r);if("biasadd"===u){if(p&&2!==f)throw Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!p&&1!==f)throw Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var h=(0,o._)((0,c.getParamValue)("args",e,t,r),2),m=h[0],g=h[1];return[n.fused.matMul({a:(0,c.getParamValue)("a",e,t,r),b:(0,c.getParamValue)("b",e,t,r),transposeA:(0,c.getParamValue)("transposeA",e,t,r),transposeB:(0,c.getParamValue)("transposeB",e,t,r),bias:m,activation:l,preluActivationWeights:g,leakyreluAlpha:d})];case"MatrixBandPart":return[n.linalg.bandPart((0,c.getParamValue)("a",e,t,r),(0,c.getParamValue)("numLower",e,t,r),(0,c.getParamValue)("numUpper",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},l="matrices"},{"@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],U4uzY:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"EuclideanNorm":return[n.euclideanNorm((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("axis",e,t,r),(0,s.getParamValue)("keepDims",e,t,r))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[n.batchNorm((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("mean",e,t,r),(0,s.getParamValue)("variance",e,t,r),(0,s.getParamValue)("offset",e,t,r),(0,s.getParamValue)("scale",e,t,r),(0,s.getParamValue)("epsilon",e,t,r))];case"LRN":return[n.localResponseNormalization((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("radius",e,t,r),(0,s.getParamValue)("bias",e,t,r),(0,s.getParamValue)("alpha",e,t,r),(0,s.getParamValue)("beta",e,t,r))];case"Softmax":return[n.softmax((0,s.getParamValue)("x",e,t,r))];case"LogSoftmax":return[n.logSoftmax((0,s.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="normalization"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bxvBp:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"RaggedGather":var a=n.raggedGather((0,s.getParamValue)("paramsNestedSplits",e,t,r),(0,s.getParamValue)("paramsDenseValues",e,t,r),(0,s.getParamValue)("indices",e,t,r),(0,s.getParamValue)("outputRaggedRank",e,t,r)),i=a.outputNestedSplits,c=a.outputDenseValues;return i.concat(c);case"RaggedRange":var u=n.raggedRange((0,s.getParamValue)("starts",e,t,r),(0,s.getParamValue)("limits",e,t,r),(0,s.getParamValue)("splits",e,t,r));return[u.rtNestedSplits,u.rtDenseValues];case"RaggedTensorToTensor":return[n.raggedTensorToTensor((0,s.getParamValue)("shape",e,t,r),(0,s.getParamValue)("values",e,t,r),(0,s.getParamValue)("defaultValue",e,t,r),(0,s.getParamValue)("rowPartitionTensors",e,t,r),(0,s.getParamValue)("rowPartitionTypes",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="ragged"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"4T1WD":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Max":var a=(0,s.getParamValue)("axis",e,t,r),i=(0,s.getParamValue)("keepDims",e,t,r);return[n.max((0,s.getParamValue)("x",e,t,r),a,i)];case"Mean":var c=(0,s.getParamValue)("axis",e,t,r),u=(0,s.getParamValue)("keepDims",e,t,r);return[n.mean((0,s.getParamValue)("x",e,t,r),c,u)];case"Min":var l=(0,s.getParamValue)("axis",e,t,r),p=(0,s.getParamValue)("keepDims",e,t,r);return[n.min((0,s.getParamValue)("x",e,t,r),l,p)];case"Sum":var f=(0,s.getParamValue)("axis",e,t,r),d=(0,s.getParamValue)("keepDims",e,t,r);return[n.sum((0,s.getParamValue)("x",e,t,r),f,d)];case"All":var h=(0,s.getParamValue)("axis",e,t,r),m=(0,s.getParamValue)("keepDims",e,t,r);return[n.all((0,s.getParamValue)("x",e,t,r),h,m)];case"Any":var g=(0,s.getParamValue)("axis",e,t,r),v=(0,s.getParamValue)("keepDims",e,t,r);return[n.any((0,s.getParamValue)("x",e,t,r),g,v)];case"ArgMax":var _=(0,s.getParamValue)("axis",e,t,r);return[n.argMax((0,s.getParamValue)("x",e,t,r),_)];case"ArgMin":var x=(0,s.getParamValue)("axis",e,t,r);return[n.argMin((0,s.getParamValue)("x",e,t,r),x)];case"Prod":var y=(0,s.getParamValue)("axis",e,t,r),b=(0,s.getParamValue)("keepDims",e,t,r);return[n.prod((0,s.getParamValue)("x",e,t,r),y,b)];case"Cumprod":var k=(0,s.getParamValue)("axis",e,t,r),j=(0,s.getParamValue)("exclusive",e,t,r),w=(0,s.getParamValue)("reverse",e,t,r);return[n.cumprod((0,s.getParamValue)("x",e,t,r),k,j,w)];case"Cumsum":var S=(0,s.getParamValue)("axis",e,t,r),I=(0,s.getParamValue)("exclusive",e,t,r),T=(0,s.getParamValue)("reverse",e,t,r);return[n.cumsum((0,s.getParamValue)("x",e,t,r),S,I,T)];case"Bincount":var N=(0,s.getParamValue)("x",e,t,r),C=(0,s.getParamValue)("weights",e,t,r),E=(0,s.getParamValue)("size",e,t,r);return[n.bincount(N,C,E)];case"DenseBincount":var F=(0,s.getParamValue)("x",e,t,r),A=(0,s.getParamValue)("weights",e,t,r),P=(0,s.getParamValue)("size",e,t,r),R=(0,s.getParamValue)("binaryOutput",e,t,r);return[n.denseBincount(F,A,P,R)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="reduction"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],bCMSG:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return c}),a.export(r,"CATEGORY",function(){return u});var o=e("@tensorflow/tfjs-core"),s=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),i=e("./utils"),c=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;switch(e.op){case"ConcatV2":case"Concat":var a=(0,i.getParamValue)("n",e,t,r),c=(0,i.getParamValue)("axis",e,t,r),u=(0,i.getParamValue)("tensors",e,t,r);return u=u.slice(0,a),[n.concat(u,c)];case"Gather":var l=(0,i.getParamValue)("x",e,t,r),p=(0,i.getParamValue)("indices",e,t,r);return[n.gather(l,n.cast(p,"int32"),0)];case"GatherV2":var f=(0,i.getParamValue)("axis",e,t,r),d=(0,i.getParamValue)("batchDims",e,t,r),h=(0,i.getParamValue)("x",e,t,r),m=(0,i.getParamValue)("indices",e,t,r);return[n.gather(h,n.cast(m,"int32"),f,d)];case"Reverse":for(var g=(0,i.getParamValue)("dims",e,t,r),v=[],_=0;_<g.length;_++)g[_]&&v.push(_);var x=(0,i.getParamValue)("x",e,t,r);return[n.reverse(x,v)];case"ReverseV2":var y=(0,i.getParamValue)("axis",e,t,r),b=(0,i.getParamValue)("x",e,t,r);return[n.reverse(b,y)];case"Slice":var k=(0,i.getParamValue)("begin",e,t,r),j=(0,i.getParamValue)("size",e,t,r);return[n.slice((0,i.getParamValue)("x",e,t,r),k,j)];case"StridedSlice":var w=(0,i.getParamValue)("begin",e,t,r),S=(0,i.getParamValue)("end",e,t,r),I=(0,i.getParamValue)("strides",e,t,r),T=(0,i.getParamValue)("beginMask",e,t,r),N=(0,i.getParamValue)("endMask",e,t,r),C=(0,i.getParamValue)("ellipsisMask",e,t,r),E=(0,i.getParamValue)("newAxisMask",e,t,r),F=(0,i.getParamValue)("shrinkAxisMask",e,t,r),A=(0,i.getParamValue)("x",e,t,r);return[n.stridedSlice(A,w,S,I,T,N,C,E,F)];case"Pack":return(0,o.tidy)(function(){var a=(0,i.getParamValue)("axis",e,t,r),s=(0,i.getParamValue)("tensors",e,t,r),c=s[0].shape,u=n.squeeze(s[0]).shape,l=s.map(function(e){var t=o.util.arraysEqual(e.shape,c);if(!t&&!o.util.arraysEqual(n.squeeze(e).shape,u))throw Error("the input tensors shape does not match");return t?e:n.reshape(e,c)});return[n.stack(l,a)]});case"Unpack":var P=(0,i.getParamValue)("axis",e,t,r),R=(0,i.getParamValue)("tensor",e,t,r);return n.unstack(R,P);case"Tile":var D=(0,i.getParamValue)("reps",e,t,r);return[n.tile((0,i.getParamValue)("x",e,t,r),D)];case"Split":case"SplitV":var M=(0,i.getParamValue)("axis",e,t,r),O=(0,i.getParamValue)("numOrSizeSplits",e,t,r),L=(0,i.getParamValue)("x",e,t,r);return n.split(L,O,M);case"ScatterNd":var V=(0,i.getParamValue)("indices",e,t,r),U=(0,i.getParamValue)("values",e,t,r),B=(0,i.getParamValue)("shape",e,t,r);return[n.scatterND(V,U,B)];case"GatherNd":var z=(0,i.getParamValue)("x",e,t,r),G=(0,i.getParamValue)("indices",e,t,r);return[n.gatherND(z,G)];case"SparseToDense":var W=(0,i.getParamValue)("sparseIndices",e,t,r),q=(0,i.getParamValue)("outputShape",e,t,r),H=(0,i.getParamValue)("sparseValues",e,t,r),Z=(0,i.getParamValue)("defaultValue",e,t,r);return[n.sparseToDense(W,H,q,H.dtype===Z.dtype?Z:n.cast(Z,H.dtype))];case"TensorScatterUpdate":var K=(0,i.getParamValue)("indices",e,t,r),X=(0,i.getParamValue)("values",e,t,r),Y=(0,i.getParamValue)("tensor",e,t,r);return[n.tensorScatterUpdate(Y,K,X)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},u="slice_join"},{"@tensorflow/tfjs-core":"1q0U8","@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],f9RxH:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"SparseFillEmptyRows":var a=n.sparse.sparseFillEmptyRows((0,s.getParamValue)("indices",e,t,r),(0,s.getParamValue)("values",e,t,r),(0,s.getParamValue)("denseShape",e,t,r),(0,s.getParamValue)("defaultValue",e,t,r));return[a.outputIndices,a.outputValues,a.emptyRowIndicator,a.reverseIndexMap];case"SparseReshape":var i=n.sparse.sparseReshape((0,s.getParamValue)("inputIndices",e,t,r),(0,s.getParamValue)("inputShape",e,t,r),(0,s.getParamValue)("newShape",e,t,r));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[n.sparse.sparseSegmentMean((0,s.getParamValue)("data",e,t,r),(0,s.getParamValue)("indices",e,t,r),(0,s.getParamValue)("segmentIds",e,t,r))];case"SparseSegmentSum":return[n.sparse.sparseSegmentSum((0,s.getParamValue)("data",e,t,r),(0,s.getParamValue)("indices",e,t,r),(0,s.getParamValue)("segmentIds",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="sparse"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3T6zB":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"FFT":return[n.fft((0,s.getParamValue)("x",e,t,r))];case"IFFT":return[n.ifft((0,s.getParamValue)("x",e,t,r))];case"RFFT":return[n.rfft((0,s.getParamValue)("x",e,t,r))];case"IRFFT":return[n.irfft((0,s.getParamValue)("x",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="spectral"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fq1rm:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"StaticRegexReplace":return[n.string.staticRegexReplace((0,s.getParamValue)("input",e,t,r),(0,s.getParamValue)("pattern",e,t,r),(0,s.getParamValue)("rewrite",e,t,r),(0,s.getParamValue)("replaceGlobal",e,t,r))];case"StringNGrams":var a=n.string.stringNGrams((0,s.getParamValue)("data",e,t,r),(0,s.getParamValue)("dataSplits",e,t,r),(0,s.getParamValue)("separator",e,t,r),(0,s.getParamValue)("nGramWidths",e,t,r),(0,s.getParamValue)("leftPad",e,t,r),(0,s.getParamValue)("rightPad",e,t,r),(0,s.getParamValue)("padWidth",e,t,r),(0,s.getParamValue)("preserveShortSequences",e,t,r));return[a.nGrams,a.nGramsSplits];case"StringSplit":var i=n.string.stringSplit((0,s.getParamValue)("input",e,t,r),(0,s.getParamValue)("delimiter",e,t,r),(0,s.getParamValue)("skipEmpty",e,t,r));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[n.string.stringToHashBucketFast((0,s.getParamValue)("input",e,t,r),(0,s.getParamValue)("numBuckets",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="string"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],fnP0b:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"executeOp",function(){return i}),a.export(r,"CATEGORY",function(){return c});var o=e("@tensorflow/tfjs-core/dist/ops/ops_for_converter"),s=e("./utils"),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o;switch(e.op){case"Cast":return[n.cast((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("dtype",e,t,r))];case"ExpandDims":var a=(0,s.getParamValue)("axis",e,t,r);return[n.expandDims((0,s.getParamValue)("x",e,t,r),a)];case"Squeeze":var i=(0,s.getParamValue)("axis",e,t,r);return[n.squeeze((0,s.getParamValue)("x",e,t,r),i)];case"Reshape":return[n.reshape((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("shape",e,t,r))];case"EnsureShape":return[n.ensureShape((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("shape",e,t,r))];case"MirrorPad":return[n.mirrorPad((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("padding",e,t,r),(0,s.getParamValue)("mode",e,t,r))];case"PadV2":case"Pad":return[n.pad((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("padding",e,t,r),(0,s.getParamValue)("constantValue",e,t,r))];case"SpaceToBatchND":var c=(0,s.getParamValue)("blockShape",e,t,r),u=(0,s.getParamValue)("paddings",e,t,r);return[n.spaceToBatchND((0,s.getParamValue)("x",e,t,r),c,u)];case"BatchToSpaceND":var l=(0,s.getParamValue)("blockShape",e,t,r),p=(0,s.getParamValue)("crops",e,t,r);return[n.batchToSpaceND((0,s.getParamValue)("x",e,t,r),l,p)];case"DepthToSpace":var f=(0,s.getParamValue)("blockSize",e,t,r),d=(0,s.getParamValue)("dataFormat",e,t,r).toUpperCase();return[n.depthToSpace((0,s.getParamValue)("x",e,t,r),f,d)];case"BroadcastTo":return[n.broadcastTo((0,s.getParamValue)("x",e,t,r),(0,s.getParamValue)("shape",e,t,r))];case"BroadcastArgs":return[n.broadcastArgs((0,s.getParamValue)("s0",e,t,r),(0,s.getParamValue)("s1",e,t,r))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},c="transformation"},{"@tensorflow/tfjs-core/dist/ops/ops_for_converter":"hJ0Hm","./utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],k2wHF:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ExecutionContext",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;(0,o._)(this,e),this.weightMap=t,this.tensorArrayMap=r,this.tensorListMap=n,this.functionMap=a,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,s._)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var r=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map(function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)}).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw Error("Cannot exit frame, the context is empty")}},{key:"nextIteration",value:function(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw Error("Cannot increase frame iteration, the context is empty")}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var r in this.tensorListMap)this.tensorListMap[r].clearAndClose(e)}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],eMTGW:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"getExecutionSubgraph",function(){return f}),a.export(r,"getNodesInTopologicalOrder",function(){return d}),a.export(r,"getNodeLiveUntilMap",function(){return m}),a.export(r,"isControlFlow",function(){return x}),a.export(r,"isDynamicShape",function(){return y}),a.export(r,"isHashTable",function(){return b});var o=e("@swc/helpers/cjs/_call_super.cjs"),s=e("@swc/helpers/cjs/_class_call_check.cjs"),i=e("@swc/helpers/cjs/_inherits.cjs"),c=e("@swc/helpers/cjs/_sliced_to_array.cjs"),u=e("@swc/helpers/cjs/_to_consumable_array.cjs"),l=e("@swc/helpers/cjs/_wrap_native_super.cjs"),p=e("../operations/executors/utils");function f(e,t,r,n){for(var a=new Set,o=[],s=null,i=null,c=new Set,l=new Set(Object.keys(e).map(function(e){return(0,p.parseNodeName)(e)[0]})),f=new Set((n=n||[]).map(function(e){return(0,p.parseNodeName)(e.name)[0]})),d=(0,u._)(t);d.length>0;){var h=d.pop();if((x(h)||y(h)||b(h))&&null==s&&(i=(s=h).children.map(function(e){return e.name}).filter(function(e){return a.has(e)})),a.add(h.name),!(null!=r[h.name]||l.has(h.name)||f.has(h.name))){if(0===h.inputs.length){o.push(h.name);continue}h.inputs.forEach(function(e){c.has(e.name)||(c.add(e.name),d.push(e))})}}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:s,syncInputs:i}}function d(e,t){var r=t.usedNodes,n=Object.keys(t.inputs).map(function(e){return(0,p.parseNodeName)(e)[0]}).map(function(t){return e.nodes[t]}),a=e.initNodes||[],o=function(e){return r.has("string"==typeof e?e:e.name)};function s(e){return(0,u._)(new Map(e.map(function(e){return[e.name,e]})).values())}var i=s((0,u._)(n).concat((0,u._)(e.weights),(0,u._)(a))).filter(o),l=s((0,u._)(i).concat((0,u._)(Object.values(e.nodes)))).filter(o),f=new Map(l.map(function(e){return[e.name,e]})),d={},m=!0,g=!1,v=void 0;try{for(var _,x=l[Symbol.iterator]();!(m=(_=x.next()).done);m=!0){var y=_.value;d[y.name]=d[y.name]||0;var b=!0,k=!1,j=void 0;try{for(var w,S=y.children[Symbol.iterator]();!(b=(w=S.next()).done);b=!0){var I=w.value;o(I)||(d[I.name]=Number.POSITIVE_INFINITY),d[I.name]=(d[I.name]||0)+1}}catch(e){k=!0,j=e}finally{try{b||null==S.return||S.return()}finally{if(k)throw j}}}}catch(e){g=!0,v=e}finally{try{m||null==x.return||x.return()}finally{if(g)throw v}}for(var T=Object.entries(d).filter(function(e){return 0===(0,c._)(e,2)[1]}).map(function(e){return(0,c._)(e,1)[0]}),N=(0,u._)(T);T.length>0;){var C=T.pop(),E=f.get(C),F=!0,A=!1,P=void 0;try{for(var R,D=E.children.filter(o)[Symbol.iterator]();!(F=(R=D.next()).done);F=!0){var M=R.value;0==--d[M.name]&&(N.push(M.name),T.push(M.name))}}catch(e){A=!0,P=e}finally{try{F||null==D.return||D.return()}finally{if(A)throw P}}}var O=function(e,t){for(var r=new Map(e.map(function(e){return[e.name,e]})),n=t.map(function(e){return e.name}),a=new Set(n);n.length>0;){var o=n.pop(),s=r.get(o),i=!0,c=!1,u=void 0;try{for(var l,p=s.children[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var f=l.value;!r.has(f.name)||a.has(f.name)||(a.add(f.name),n.push(f.name))}}catch(e){c=!0,u=e}finally{try{i||null==p.return||p.return()}finally{if(c)throw u}}}return e.filter(function(e){return a.has(e.name)})}(N.map(function(e){return f.get(e)}),i);return function(e,t){var r=new Map(e.map(function(e,t){return[e.name,t]})),n=new Set(t.map(function(e){return e.name})),a=new Set(e.map(function(e){return e.name})),o=function(e){return a.has("string"==typeof e?e:e.name)},s=!0,i=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var p=u.value,f=!0,d=!1,m=void 0;try{for(var g,v=p.children.filter(o)[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var _=g.value;if(!r.has(_.name))throw new h("Child ".concat(_.name," of node ").concat(p.name," is unreachable."));if(r.get(p.name)>r.get(_.name))throw new h("Node ".concat(p.name," is scheduled to run after its child ").concat(_.name,"."))}}catch(e){d=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(d)throw m}}var x=!0,y=!1,b=void 0;if(!n.has("string"==typeof p?p:p.name))try{for(var k,j=p.inputs[Symbol.iterator]();!(x=(k=j.next()).done);x=!0){var w=k.value;if(!r.has(w.name))throw new h("Input ".concat(w.name," of node ").concat(p.name," is unreachable."));if(r.get(w.name)>r.get(p.name))throw new h("Node ".concat(p.name," is scheduled to run before its input ").concat(w.name,"."))}}catch(e){y=!0,b=e}finally{try{x||null==j.return||j.return()}finally{if(y)throw b}}}}catch(e){i=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(i)throw c}}}(O,i),O}var h=function(e){"use strict";function t(e){return(0,s._)(this,t),(0,o._)(this,t,["NodesExecutionOrderError: ".concat(e)])}return(0,i._)(t,e),t}((0,l._)(Error));function m(e){for(var t=new Map(e.map(function(e,t){return[e.name,t]})),r=Number.MAX_SAFE_INTEGER,n=e.map(function(e,t){return x(e)?r:t}),a=function(e){var r=n[t.get(e.name)];return null==r?-1:r},o=e.map(function(e,t){return e.children.map(a).reduce(function(e,t){return Math.max(e,t)},n[t])}),s=new Map,i=0;i<e.length;++i){var c=o[i];if(c!==r){var u=e[i],l=e[c];s.has(l.name)||s.set(l.name,[]),s.get(l.name).push(u)}}return s}var g=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),v=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),_=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function x(e){return g.has(e.op)}function y(e){return v.has(e.op)}function b(e){return _.has(e.op)}},{"@swc/helpers/cjs/_call_super.cjs":"aFrVF","@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_inherits.cjs":"8c2nw","@swc/helpers/cjs/_sliced_to_array.cjs":"69dwW","@swc/helpers/cjs/_to_consumable_array.cjs":"1LaMX","@swc/helpers/cjs/_wrap_native_super.cjs":"akKMe","../operations/executors/utils":"gidoF","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],akKMe:[function(e,t,r,n){"use strict";var a=e("a94182fa8bb55a"),o=e("3f24b40eec405e24"),s=e("7bc3453f771be53d"),i=e("d41aede23b6bd051");function c(e){var t="function"==typeof Map?new Map:void 0;return r._=c=function(e){if(null===e||!s._(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a._(e,arguments,o._(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i._(r,e)},c(e)}r._=c},{a94182fa8bb55a:"rusRV","3f24b40eec405e24":"cAaXX","7bc3453f771be53d":"k1Uei",d41aede23b6bd051:"gBKVY"}],rusRV:[function(e,t,r,n){"use strict";var a=e("8b1faca180708ca4"),o=e("b6994c7e46a50bdb");function s(e,t,n){return a._()?r._=s=Reflect.construct:r._=s=function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&o._(a,r.prototype),a},s.apply(null,arguments)}r._=s},{"8b1faca180708ca4":"6eqqS",b6994c7e46a50bdb:"gBKVY"}],k1Uei:[function(e,t,r,n){"use strict";r._=function(e){return -1!==Function.toString.call(e).indexOf("[native code]")}},{}],m37Rj:[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"ResourceManager",function(){return i});var o=e("@swc/helpers/cjs/_class_call_check.cjs"),s=e("@swc/helpers/cjs/_create_class.cjs"),i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o._)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=r}return(0,s._)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}()},{"@swc/helpers/cjs/_class_call_check.cjs":"5Lt2s","@swc/helpers/cjs/_create_class.cjs":"fExy2","@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"2NuVm":[function(e,t,r,n){var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"version",function(){return o});var o="4.22.0"},{"@parcel/transformer-js/src/esmodule-helpers.js":"ihnSZ"}],"3SVQT":[function(e,t,r,n){var a=e("@swc/helpers/cjs/_type_of.cjs");(function(){"use strict";function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},n=function(e){e=["object"==("undefined"==typeof globalThis?"undefined":(0,a._)(globalThis))&&globalThis,e,"object"==("undefined"==typeof window?"undefined":(0,a._)(window))&&window,"object"==("undefined"==typeof self?"undefined":(0,a._)(self))&&self,"object"==("undefined"==typeof global?"undefined":(0,a._)(global))&&global];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var a=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in a))break e;a=a[s]}(t=t(o=a[e=e[e.length-1]]))!=o&&null!=t&&r(a,e,{configurable:!0,writable:!0,value:t})}}function s(t){var r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:e(t)}}function i(e){if(!(e instanceof Array)){e=s(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}o("Symbol",function(e){function t(e,t){this.h=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}}),o("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<a.length;o++){var s=n[a[o]];"function"==typeof s&&"function"!=typeof s.prototype[t]&&r(s.prototype,t,{configurable:!0,writable:!0,value:function(){var t;return(t={next:t=e(this)})[Symbol.iterator]=function(){return this},t}})}return t});var c="function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};o("Object.assign",function(e){return e||c});var u,l,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{e:{var f={};try{f.__proto__={a:!0},$=f.a;break e}catch(e){}$=!1}l=$?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw TypeError(e+" is not extensible");return e}:null}var d=l;function h(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,d)d(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.za=t.prototype}function m(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function g(e){if(e.m)throw TypeError("Generator is already running");e.m=!0}function v(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function _(e,t,r){return e.h=r,{value:t}}function x(e){this.h=new m,this.i=e}function y(e,t,r,n){try{var a=t.call(e.h.j,r);if(!(a instanceof Object))throw TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.h.m=!1,a;var o=a.value}catch(t){return e.h.j=null,v(e.h,t),b(e)}return e.h.j=null,n.call(e.h,o),b(e)}function b(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(t){e.h.i=void 0,v(e.h,t)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return g(e.h),e.h.j?t=y(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=b(e)),t},this.throw=function(t){return g(e.h),e.h.j?t=y(e,e.h.j.throw,t,e.h.u):(v(e.h,t),t=b(e)),t},this.return=function(t){var r;return g(e.h),(r=e.h.j)?y(e,"return"in r?r.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),b(e))},this[Symbol.iterator]=function(){return this}}function j(e){var t=new k(new x(e));function r(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise(function(e,a){!function t(o){o.done?e(o.value):Promise.resolve(o.value).then(r,n).then(t,a)}(t.next())})}function w(e){return e||Array.prototype.fill}m.prototype.u=function(e){this.i=e},m.prototype.return=function(e){this.l={return:e},this.h=this.v},o("Promise",function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.h=null}function o(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j(function(){t.m()})}this.h.push(e)};var i=n.setTimeout;r.prototype.j=function(e){i(e,0)},r.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.l(e)}}}this.h=null},r.prototype.l=function(e){this.j(function(){throw e})},t.prototype.l=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{switch(void 0===e?"undefined":(0,a._)(e)){case"object":var r=null!=e;break;case"function":r=!0;break;default:r=!1}r?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(e){this.m(e);return}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;i(function(){if(e.D()){var t=n.console;void 0!==t&&t.error(e.j)}},1)},t.prototype.D=function(){if(this.u)return!1;var e=n.CustomEvent,t=n.Event,r=n.dispatchEvent;return void 0===r||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=n.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,r(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)c.i(this.h[e]);this.h=null}};var c=new r;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var r=this.l();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(e){o(e)}}:t}var a,o,s=new t(function(e,t){a=e,o=t});return this.T(n(e,a),n(r,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function r(){switch(n.i){case 1:e(n.j);break;case 2:t(n.j);break;default:throw Error("Unexpected state: "+n.i)}}var n=this;null==this.h?c.i(r):this.h.push(r),this.u=!0},t.resolve=o,t.reject=function(e){return new t(function(t,r){r(e)})},t.race=function(e){return new t(function(t,r){for(var n=s(e),a=n.next();!a.done;a=n.next())o(a.value).T(t,r)})},t.all=function(e){var r=s(e),n=r.next();return n.done?o([]):new t(function(e,t){var a=[],s=0;do a.push(void 0),s++,o(n.value).T(function(t){return function(r){a[t]=r,0==--s&&e(a)}}(a.length-1),t),n=r.next();while(!n.done)})},t}),o("Array.prototype.keys",function(e){return e||function(){var e,t,r,n,a;return e=this,t=function(e){return e},e instanceof String&&(e+=""),r=0,n=!1,(a={next:function(){if(!n&&r<e.length){var a=r++;return{value:t(a,e[a]),done:!1}}return n=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return a},a}}),o("Array.prototype.fill",function(e){return e||function(e,t,r){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==r||r>n)&&(r=n),0>(r=Number(r))&&(r=Math.max(0,n+r)),t=Number(t||0);t<r;t++)this[t]=e;return this}}),o("Int8Array.prototype.fill",w),o("Uint8Array.prototype.fill",w),o("Uint8ClampedArray.prototype.fill",w),o("Int16Array.prototype.fill",w),o("Uint16Array.prototype.fill",w),o("Int32Array.prototype.fill",w),o("Uint32Array.prototype.fill",w),o("Float32Array.prototype.fill",w),o("Float64Array.prototype.fill",w),o("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),o("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var a=r[t];if(a===e||Object.is(a,e))return!0}return!1}}),o("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw TypeError("First argument to String.prototype.includes must not be a regular expression");return -1!==this.indexOf(e,t||0)}});var S=this||self;function I(e,t){e=e.split(".");var r,n=S;for((e[0]in n)||void 0===n.execScript||n.execScript("var "+e[0]);e.length&&(r=e.shift());)e.length||void 0===t?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=t}function T(e){var t;return(t=S.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var N=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var r=e.length,n=Array(r),a="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in a&&(n[o]=t.call(void 0,a[o],o,e));return n},C={},E=null;function F(){if(!E){E={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));C[r]=n;for(var a=0;a<n.length;a++){var o=n[a];void 0===E[o]&&(E[o]=a)}}}}var A="undefined"!=typeof Uint8Array,P=!(T("Trident")||T("MSIE"))&&"function"==typeof S.btoa;function R(e){if(!P){var t;void 0===t&&(t=0),F(),t=C[t];for(var r=Array(Math.floor(e.length/3)),n=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var s=e[a],i=e[a+1],c=e[a+2],u=t[s>>2];s=t[(3&s)<<4|i>>4],i=t[(15&i)<<2|c>>6],c=t[63&c],r[o++]=u+s+i+c}switch(u=0,c=n,e.length-a){case 2:c=t[(15&(u=e[a+1]))<<2]||n;case 1:e=e[a],r[o]=t[e>>2]+t[(3&e)<<4|u>>4]+c+n}return r.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return btoa(t+=String.fromCharCode.apply(null,e))}var D=RegExp("[-_.]","g");function M(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function O(e){if(!P){var t,r,n,a,o;return(n=3*(r=(t=e).length)/4)%3?n=Math.floor(n):-1!="=.".indexOf(t[r-1])&&(n=-1!="=.".indexOf(t[r-2])?n-2:n-1),a=new Uint8Array(n),o=0,function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),a=E[r];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}F();for(var n=0;;){var a=r(-1),o=r(0),s=r(64),i=r(64);if(64===i&&-1===a)break;t(a<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=i&&t(s<<6&192|i))}}(t,function(e){a[o++]=e}),o!==n?a.subarray(0,o):a}D.test(e)&&(e=e.replace(D,M)),e=atob(e);for(var s=new Uint8Array(e.length),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);return s}function L(){return ee||(ee=new Uint8Array(0))}var V={},U="function"==typeof Uint8Array.prototype.slice,B=0,z=0;function G(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/0x100000000),t&&(t=(r=s(q(r,e))).next().value,e=r.next().value,r=t),B=r>>>0,z=e>>>0}var W="function"==typeof BigInt;function q(e,t){return t=~t,e?e=~e+1:t+=1,[e,t]}function H(e,t){this.i=e>>>0,this.h=t>>>0}function Z(e){if(!e)return et||(et=new H(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)G(Number(e));else if(W)B=Number((e=BigInt(e))&BigInt(0xffffffff))>>>0,z=Number(e>>BigInt(32)&BigInt(0xffffffff));else{var t=+("-"===e[0]);z=B=0;for(var r=e.length,n=t,a=(r-t)%6+t;a<=r;n=a,a+=6)n=Number(e.slice(n,a)),z*=1e6,0x100000000<=(B=1e6*B+n)&&(z+=B/0x100000000|0,B%=0x100000000);t&&(e=(t=s(q(B,z))).next().value,t=t.next().value,B=e,z=t)}return new H(B,z)}function K(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function X(){return Error("Failed to read varint, encoding is invalid.")}function Y(e,t){return Error("Tried to read past the end of the data "+t+" >"+e)}function J(){throw Error("Invalid UTF8")}function Q(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var $,ee,et,er,en,ea=void 0,eo="undefined"!=typeof TextDecoder,es="undefined"!=typeof TextEncoder;function ei(e){if(e!==V)throw Error("illegal external caller")}function ec(e,t){if(ei(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function eu(){return eR||(eR=new ec(null,V))}function el(e){ei(V);var t=e.V;return null==(t=null==t||A&&null!=t&&t instanceof Uint8Array?t:"string"==typeof t?O(t):null)?t:e.V=t}function ep(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,ef(this,e,t)}function ef(e,t,r){e.S=void 0!==(r=void 0===r?{}:r).S&&r.S,t&&(e.i=(t=function(e){if("string"==typeof e)return{buffer:O(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ec)return{buffer:el(e)||L(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t)).buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function ed(e,t){if(e.h=t,t>e.j)throw Y(e.j,t)}function eh(e){var t=e.i,r=e.h,n=t[r++],a=127&n;if(128&n&&(a|=(127&(n=t[r++]))<<7,128&n&&(a|=(127&(n=t[r++]))<<14,128&n&&(a|=(127&(n=t[r++]))<<21,128&n&&(a|=(n=t[r++])<<28,128&n&&128&t[r++]&&128&t[r++]&&128&t[r++]&&128&t[r++]&&128&t[r++])))))throw X();return ed(e,r),a}function em(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var r=e.h,n=r+t;if(n>e.j)throw Y(t,e.j-r);return e.h=n,r}ep.prototype.reset=function(){this.h=this.l};var eg=[];function ev(){this.h=[]}function e_(e,t,r){for(;0<r||127<t;)e.h.push(127&t|128),t=(t>>>7|r<<25)>>>0,r>>>=7;e.h.push(t)}function ex(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function ey(e,t){if(eg.length){var r=eg.pop();ef(r,e,t),e=r}else e=new ep(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function eb(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var r=eh(e.h)>>>0;if(t=r>>>3,!(0<=(r&=7)&&5>=r))throw K(r,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=r,!0}ev.prototype.length=function(){return this.h.length},ev.prototype.end=function(){var e=this.h;return this.h=[],e},ey.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},ey.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var ek=[];function ej(){this.j=[],this.i=0,this.h=new ev}function ew(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var eS="function"==typeof Symbol&&"symbol"===(0,a._)(Symbol())?Symbol():void 0;function eI(e,t){return eS?e[eS]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function eT(e,t){eS?e[eS]&&(e[eS]&=~t):void 0!==e.A&&(e.A&=~t)}function eN(e){var t;return null==(t=eS?e[eS]:e.A)?0:t}function eC(e,t){eS?e[eS]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function eE(e,t){eC(t,(0|e)&-51)}function eF(e,t){eC(t,(18|e)&-41)}var eA={};function eP(e){return null!==e&&"object"===(void 0===e?"undefined":(0,a._)(e))&&!Array.isArray(e)&&e.constructor===Object}var eR,eD,eM=[];function eO(e){if(2&eN(e.o))throw Error("Cannot mutate an immutable Message")}function eL(e){var t=e.length;(t=t?e[t-1]:void 0)&&eP(t)?t.g=1:(t={},e.push((t.g=1,t)))}function eV(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function eU(e,t){return -1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function eB(e,t,r,n){eO(e),ez(e,t,r,n)}function ez(e,t,r,n){e.j&&(e.j=void 0),t>=e.i||n?eV(e)[t]=r:(e.o[t+e.G]=r,(e=e.B)&&t in e&&delete e[t])}function eG(e,t,r,n){var a=eU(e,t);Array.isArray(a)||(a=eD);var o=eN(a);if(1&o||eI(a,1),n)2&o||eI(a,2),1&r||Object.freeze(a);else{n=!(2&r);var s,i,c=2&o;1&r||!c?n&&16&o&&!c&&eT(a,16):(eI(i=Array.prototype.slice.call(a),1),ez(e,t,a=i))}return a}function eW(e,t){var r=eU(e,t),n=null==r?r:"number"==typeof r||"NaN"===r||"Infinity"===r||"-Infinity"===r?Number(r):void 0;return null!=n&&n!==r&&ez(e,t,n),n}function eq(e,t,r,n,a){e.h||(e.h={});var o=e.h[r],s=eG(e,r,3,a);if(!o){var i=s;o=[];var c=!!(16&eN(e.o));s=!!(2&eN(i));var u=i;!a&&s&&(i=Array.prototype.slice.call(i));for(var l=s,p=0;p<i.length;p++){var f=i[p],d=t,h=!1;if(void 0!==(f=Array.isArray(f)?new d(f):h?new d:void 0)){var m=h=eN(d=f.o);s&&(m|=2),c&&(m|=16),m!=h&&eC(d,m),d=m,l=l||!!(2&d),o.push(f)}}return e.h[r]=o,t=33|(c=eN(i)),c!=(t=l?-9&t:8|t)&&(Object.isFrozen(l=i)&&(l=Array.prototype.slice.call(l)),eC(l,t),i=l),u!==i&&ez(e,r,i),(a||n&&s)&&eI(o,2),n&&Object.freeze(o),o}return a||(a=Object.isFrozen(o),n&&!a?Object.freeze(o):!n&&a&&(o=Array.prototype.slice.call(o),e.h[r]=o)),o}function eH(e,t,r){var n=!!(2&eN(e.o));if(t=eq(e,t,r,n,n),e=eG(e,r,3,n),!(n||8&eN(e))){for(n=0;n<t.length;n++){if(2&eN((r=t[n]).o)){var a=e2(r,!1);a.j=r}else a=r;r!==a&&(t[n]=a,e[n]=a.o)}eI(e,8)}return t}function eZ(e,t,r){if(null!=r&&"number"!=typeof r)throw Error("Value of float/double field must be a number|null|undefined, found "+(void 0===r?"undefined":(0,a._)(r))+": "+r);eB(e,t,r)}function eK(e,t,r,n,a){eO(e);var o=eq(e,r,t,!1,!1);return r=null!=n?n:new r,e=eG(e,t,2,!1),void 0!=a?(o.splice(a,0,r),e.splice(a,0,r.o)):(o.push(r),e.push(r.o)),r.C()&&eT(e,8),r}function eX(e,t){return null==e?t:e}function eY(e,t,r){return r=void 0===r?0:r,eX(eW(e,t),r)}function eJ(e,t,r,n){var a=eN(e);n=n?!!(16&a):void 0,e=Array.prototype.slice.call(e);for(var o=0;o<e.length;o++)e[o]=function e(t,r,n,a){if(null!=t){if(Array.isArray(t))t=eJ(t,r,n,void 0!==a);else if(eP(t)){var o,s={};for(o in t)s[o]=e(t[o],r,n,a);t=s}else t=r(t,a);return t}}(e[o],t,r,n);return r(a,e),e}function eQ(e){return e.ja===eA?e.toJSON():function(e){switch(void 0===e?"undefined":(0,a._)(e)){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(0!=(128&eN(e)))return eL(e=Array.prototype.slice.call(e)),e}else{if(A&&null!=e&&e instanceof Uint8Array)return R(e);if(e instanceof ec){var t=e.V;return null==t?"":"string"==typeof t?t:e.V=R(t)}}}return e}(e)}function e$(e,t){128&e&&eL(t)}function e0(e,t,r,n,a,o,s){if(e=e.h&&e.h[r]){var i;if(2&(n=eN(e))?n=e:(eF(n,o=N(e,e1)),Object.freeze(o),n=o),eO(t),s=null==n?eD:(eI(i=[],1),i),null!=n){for(e=0,o=!!n.length;e<n.length;e++){var c=n[e];o=o&&!(2&eN(c.o)),s[e]=c.o}o=8*!!o|1,((e=eN(s))&o)!==o&&(Object.isFrozen(s)&&(s=Array.prototype.slice.call(s)),eC(s,e|o)),t.h||(t.h={}),t.h[r]=n}else t.h&&(t.h[r]=void 0);ez(t,r,s,a)}else eB(t,r,function e(t,r,n){if(n=void 0===n?eF:n,null!=t){if(A&&t instanceof Uint8Array)return t.length?new ec(new Uint8Array(t),V):eu();if(Array.isArray(t)){var a=eN(t);return 2&a||(r&&!(32&a)&&(16&a||0===a)?eC(t,2|a):4&(r=eN(t=eJ(t,e,4&a?eF:n,!0)))&&2&r&&Object.freeze(t)),t}return t.ja===eA?e1(t):t}}(n,o,s),a)}function e1(e){return 2&eN(e.o)||eI((e=e2(e,!0)).o,2),e}function e2(e,r){var n=e.o,a=[];eI(a,16);var o=e.constructor.h;if(o&&a.push(o),o=e.B){a.length=n.length,a.fill(void 0,a.length,n.length);var s={};a[a.length-1]=s}0!=(128&eN(n))&&eL(a),r=r||e.C()?eF:eE,s=e.constructor,t=a,a=new s(a),t=void 0,e.R&&(a.R=e.R.slice()),s=!!(16&eN(n));for(var i=o?n.length-1:n.length,c=0;c<i;c++)e0(e,a,c-e.G,n[c],!1,s,r);if(o)for(var u in o)e0(e,a,+u,o[u],!0,s,r);return a}function e3(e,r,n){null==e&&(e=t),t=void 0;var a,o=this.constructor.i||0,s=0<o,i=this.constructor.h,c=!1;if(null==e){var u=48,l=!0;s&&(o=0,u|=128),eC(e=i?[i]:[],u)}else{if(!Array.isArray(e)||i&&i!==e[0])throw Error();var p=u=eI(e,0);if((l=0!=(16&p))&&((c=0!=(32&p))||(p|=32)),s){if(128&p)o=0;else if(0<e.length){var f=e[e.length-1];if(eP(f)&&"g"in f){o=0,p|=128,delete f.g;var d,h=!0;for(d in f){h=!1;break}h&&e.pop()}}}else if(128&p)throw Error();u!==p&&eC(e,p)}this.G=(i?0:-1)-o,this.h=void 0,this.o=e;e:{if(o=(i=this.o.length)-1,i&&eP(i=this.o[o])){this.B=i,this.i=o-this.G;break e}void 0!==r&&-1<r?(this.i=Math.max(r,o+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!s&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(r=l&&!c&&!0,s=this.i,l=0;l<n.length;l++)(c=n[l])<s?(c+=this.G,(o=e[c])?e4(o,r):e[c]=eD):(a||(a=eV(this)),(o=a[c])?e4(o,r):a[c]=eD)}function e4(e,t){if(Array.isArray(e)){var r=eN(e),n=1;!t||2&r||(n|=16),(r&n)!==n&&eC(e,r|n)}}function e8(e,t,r){if(r){var n,a={};for(n in r){var o=r[n],s=o.ra;s||(a.J=o.xa||o.oa.W,o.ia?(a.aa=tr(o.ia),s=function(e){return function(t,r,n){return e.J(t,r,n,e.aa)}}(a)):o.ka?(a.Z=tn(o.da.P,o.ka),s=function(e){return function(t,r,n){return e.J(t,r,n,e.Z)}}(a)):s=a.J,o.ra=s),s(t,e,o.da),a={J:a.J,aa:a.aa,Z:a.Z}}}var i=e;if(i=i.R){ew(t,t.h.end());for(var c=0;c<i.length;c++)ew(t,el(i[c])||L())}}eC(eM,23),eD=Object.freeze(eM),e3.prototype.toJSON=function(){return eJ(this.o,eQ,e$)},e3.prototype.C=function(){return!!(2&eN(this.o))},e3.prototype.ja=eA,e3.prototype.toString=function(){return this.o.toString()};var e6=Symbol();function e5(e,t,r){return e[e6]||(e[e6]=function(e,n){return t(e,n,r)})}function e7(e){var t=e[e6];if(!t){var r=tm(e);t=function(e,t){return tg(e,t,r)},e[e6]=t}return t}function e9(e,t){var r=e[t];return"function"==typeof r&&0===r.length&&(r=r(),e[t]=r),Array.isArray(r)&&(tl in r||ta in r||0<r.length&&"function"==typeof r[0])?r:void 0}function te(e,t,r,n,a,o){t.P=e[0];var s=1;if(e.length>s&&"number"!=typeof e[s]){var i=e[s++];r(t,i)}for(;s<e.length;){r=e[s++];for(var c=s+1;c<e.length&&"number"!=typeof e[c];)c++;switch(i=e[s++],c-=s){case 0:n(t,r,i);break;case 1:(c=e9(e,s))?(s++,a(t,r,i,c)):n(t,r,i,e[s++]);break;case 2:a(t,r,i,c=e9(e,c=s++),e[s++]);break;case 3:o(t,r,i,e[s++],e[s++],e[s++]);break;case 4:o(t,r,i,e[s++],e[s++],e[s++],e[s++]);break;default:throw Error("unexpected number of binary field arguments: "+c)}}return t}var tt=Symbol();function tr(e){var t=e[tt];if(!t){var r=tu(e);t=function(e,t){return tv(e,t,r)},e[tt]=t}return t}function tn(e,t){var r=e[tt];return r||(r=function(e,r){return e8(e,r,t)},e[tt]=r),r}var ta=Symbol();function to(e,t){e.push(t)}function ts(e,t,r){e.push(t,r.W)}function ti(e,t,r,n){var a=tr(n),o=tu(n).P,s=r.W;e.push(t,function(e,t,r){return s(e,t,r,o,a)})}function tc(e,t,r,n,a,o){var s=tn(n,o),i=r.W;e.push(t,function(e,t,r){return i(e,t,r,n,s)})}function tu(e){var t=e[ta];return t||(t=te(e,e[ta]=[],to,ts,ti,tc),tl in e&&ta in e&&(e.length=0)),t}var tl=Symbol();function tp(e,t){e[0]=t}function tf(e,t,r,n){var a=r.U;e[t]=n?function(e,t,r){return a(e,t,r,n)}:a}function td(e,t,r,n,a){var o=r.U,s=e7(n),i=tm(n).P;e[t]=function(e,t,r){return o(e,t,r,i,s,a)}}function th(e,t,r,n,a,o,s){var i=r.U,c=e5(n,a,o);e[t]=function(e,t,r){return i(e,t,r,n,c,s)}}function tm(e){var t=e[tl];return t||(t=te(e,e[tl]={},tp,tf,td,th),tl in e&&ta in e&&(e.length=0)),t}function tg(e,t,r){for(;eb(t)&&4!=t.i;){var n=t.l,a=r[n];if(!a){var o=r[0];o&&(o=o[n])&&(a=r[n]=function(e){var t,r=(t=e.ia)?e7(t):(t=e.wa)?e5(e.da.P,t,e.ka):void 0,n=e.da,a=e.oa.U;return r?function(e,t){return a(e,t,n,r)}:function(e,t){return a(e,t,n)}}(o))}if(!a||!a(t,e,n)){a=t,n=e,o=a.j,function e(t){switch(t.i){case 0:if(0!=t.i)e(t);else e:{t=t.h;for(var r=t.h,n=r+10,a=t.i;r<n;)if(0==(128&a[r++])){ed(t,r);break e}throw X()}break;case 1:ed(t=t.h,t.h+8);break;case 2:2!=t.i?e(t):(r=eh(t.h)>>>0,ed(t=t.h,t.h+r));break;case 5:ed(t=t.h,t.h+4);break;case 3:for(r=t.l;;){if(!eb(t))throw Error("Unmatched start-group tag: stream EOF");if(4==t.i){if(t.l!=r)throw Error("Unmatched end-group tag");break}e(t)}break;default:throw K(t.i,t.j)}}(a);var s=a;if(!s.ca){if(a=s.h.h-o,s.h.h=o,s=s.h,0==a)a=eu();else{if(o=em(s,a),s.S&&s.m)a=s.i.subarray(o,o+a);else{s=s.i;var i=o;a=i===(a=o+a)?L():U?s.slice(i,a):new Uint8Array(s.subarray(i,a))}a=0==a.length?eu():new ec(a,V)}(o=n.R)?o.push(a):n.R=[a]}}}return e}function tv(e,t,r){for(var n=r.length,a=1==n%2,o=+!!a;o<n;o+=2)(0,r[o+1])(t,e,r[o]);e8(e,t,a?r[0]:void 0)}function t_(e,t){return{U:e,W:t}}var tx=t_(function(e,t,r){if(5!==e.i)return!1;var n=(e=e.h).i,a=e.h,o=n[a],s=n[a+1],i=n[a+2];return n=n[a+3],ed(e,e.h+4),e=2*((s=(0|o|s<<8|i<<16|n<<24)>>>0)>>31)+1,o=s>>>23&255,s&=8388607,eB(t,r,255==o?s?NaN:1/0*e:0==o?1401298464324817e-60*e*s:e*Math.pow(2,o-150)*(s+8388608)),!0},function(e,t,r){if(null!=(t=eW(t,r))){ex(e.h,8*r+5),e=e.h;var n=+t;0===n?0<1/n?B=z=0:(z=0,B=0x80000000):isNaN(n)?(z=0,B=0x7fffffff):34028234663852886e22<(n=(r=0>n?-0x80000000:0)?-n:n)?(z=0,B=(0x7f800000|r)>>>0):11754943508222875e-54>n?(z=0,B=(r|(n=Math.round(n/1401298464324817e-60)))>>>0):(t=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-t),0x1000000<=(n=Math.round(8388608*n))&&++t,z=0,B=(r|t+127<<23|8388607&n)>>>0),r=B,e.h.push(r>>>0&255),e.h.push(r>>>8&255),e.h.push(r>>>16&255),e.h.push(r>>>24&255)}}),ty=t_(function(e,t,r){if(0!==e.i)return!1;var n=e.h,a=0,o=e=0,s=n.i,i=n.h;do{var c=s[i++];a|=(127&c)<<o,o+=7}while(32>o&&128&c)for(32<o&&(e|=(127&c)>>4),o=3;32>o&&128&c;o+=7)e|=(127&(c=s[i++]))<<o;if(ed(n,i),128>c)n=a>>>0,(e=0x80000000&(c=e>>>0))&&(c=~c>>>0,0==(n=~n+1>>>0)&&(c=c+1>>>0)),n=0x100000000*c+(n>>>0);else throw X();return eB(t,r,e?-n:n),!0},function(e,t,r){null!=(t=eU(t,r))&&("string"==typeof t&&Z(t),null!=t&&(ex(e.h,8*r),"number"==typeof t?(e=e.h,G(t),e_(e,B,z)):(r=Z(t),e_(e.h,r.i,r.h))))}),tb=t_(function(e,t,r){return 0===e.i&&(eB(t,r,eh(e.h)),!0)},function(e,t,r){if(null!=(t=eU(t,r))&&null!=t)if(ex(e.h,8*r),e=e.h,0<=(r=t))ex(e,r);else{for(t=0;9>t;t++)e.h.push(127&r|128),r>>=7;e.h.push(1)}}),tk=t_(function(e,t,r){if(2!==e.i)return!1;var n=eh(e.h)>>>0,a=em(e=e.h,n);if(e=e.i,eo){var o,s=e;(o=er)||(o=er=new TextDecoder("utf-8",{fatal:!0})),e=a+n,s=0===a&&e===s.length?s:s.subarray(a,e);try{var i=o.decode(s)}catch(e){if(void 0===ea){try{o.decode(new Uint8Array([128]))}catch(e){}try{o.decode(new Uint8Array([97])),ea=!0}catch(e){ea=!1}}throw ea||(er=void 0),e}}else{n=(i=a)+n,a=[];for(var c,u,l=null;i<n;)128>(c=e[i++])?a.push(c):224>c?i>=n?J():(u=e[i++],194>c||128!=(192&u)?(i--,J()):a.push((31&c)<<6|63&u)):240>c?i>=n-1?J():128!=(192&(u=e[i++]))||224===c&&160>u||237===c&&160<=u||128!=(192&(s=e[i++]))?(i--,J()):a.push((15&c)<<12|(63&u)<<6|63&s):244>=c?i>=n-2?J():128!=(192&(u=e[i++]))||0!=(c<<28)+(u-144)>>30||128!=(192&(s=e[i++]))||128!=(192&(o=e[i++]))?(i--,J()):(c=((7&c)<<18|(63&u)<<12|(63&s)<<6|63&o)-65536,a.push((c>>10&1023)+55296,(1023&c)+56320)):J(),8192<=a.length&&(l=Q(l,a),a.length=0);i=Q(l,a)}return eB(t,r,i),!0},function(e,t,r){if(null!=(t=eU(t,r))){if(es){0;t=(en||(en=new TextEncoder)).encode(t)}else{for(var n=0,a=new Uint8Array(3*t.length),o=0;o<t.length;o++){var s=t.charCodeAt(o);if(128>s)a[n++]=s;else{if(2048>s)a[n++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&o<t.length){var i=t.charCodeAt(++o);if(56320<=i&&57343>=i){s=1024*(s-55296)+i-56320+65536,a[n++]=s>>18|240,a[n++]=s>>12&63|128,a[n++]=s>>6&63|128,a[n++]=63&s|128;continue}o--}0;s=65533}a[n++]=s>>12|224,a[n++]=s>>6&63|128}a[n++]=63&s|128}}t=n===a.length?a:a.subarray(0,n)}ex(e.h,8*r+2),ex(e.h,t.length),ew(e,e.h.end()),ew(e,t)}}),tj=t_(function(e,t,r,n,a){if(2!==e.i)return!1;t=eK(t,r,n),r=e.h.j,n=eh(e.h)>>>0;var o=e.h.h+n,s=o-r;if(0>=s&&(e.h.j=o,a(t,e,void 0,void 0,void 0),s=o-e.h.h),s)throw Error("Message parsing ended unexpectedly. Expected to read "+(n+" bytes, instead read ")+(n-s)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=o,e.h.j=r,!0},function(e,t,r,n,a){if(null!=(t=eH(t,n,r)))for(n=0;n<t.length;n++){var o=e;ex(o.h,8*r+2);var s=o.h.end();ew(o,s),s.push(o.i),o=s,a(t[n],e),s=e;var i=o.pop();for(i=s.i+s.h.length()-i;127<i;)o.push(127&i|128),i>>>=7,s.i++;o.push(i),s.i++}});function tw(e){return function(t,r){e:{if(ek.length){var n=ek.pop();n.setOptions(r),ef(n.h,t,r),t=n}else t=new ey(t,r);try{var a=tm(e),o=tg(new a.P,t,a);break e}finally{(a=t.h).i=null,a.m=!1,a.l=0,a.j=0,a.h=0,a.S=!1,t.l=-1,t.i=-1,100>ek.length&&ek.push(t)}}return o}}function tS(e){return function(){var t=new ej;tv(this,t,tu(e)),ew(t,t.h.end());for(var r=new Uint8Array(t.i),n=t.j,a=n.length,o=0,s=0;s<a;s++){var i=n[s];r.set(i,o),o+=i.length}return t.j=[r],r}}function tI(e){e3.call(this,e)}h(tI,e3);var tT=[tI,1,tb,2,tx,3,tk,4,tk];function tN(e){e3.call(this,e,-1,tC)}tI.prototype.l=tS(tT),h(tN,e3),tN.prototype.addClassification=function(e,t){return eK(this,1,tI,e,t),this};var tC=[1],tE=tw([tN,1,tj,tT]);function tF(e){e3.call(this,e)}h(tF,e3);var tA=[tF,1,tx,2,tx,3,tx,4,tx,5,tx];function tP(e){e3.call(this,e,-1,tR)}tF.prototype.l=tS(tA),h(tP,e3);var tR=[1],tD=tw([tP,1,tj,tA]);function tM(e){e3.call(this,e)}h(tM,e3);var tO=[tM,1,tx,2,tx,3,tx,4,tx,5,tx,6,ty],tL=tw(tO);function tV(e,t,r){if(r=e.createShader(0===r?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(r));return r}function tU(e){return{x:eY(e,1),y:eY(e,2),z:eY(e,3),visibility:null!=eW(e,4)?eY(e,4):void 0}}function tB(e,t){this.i=e,this.h=t,this.m=0}function tz(e,t,r){return(function(e,t){var r=e.h;if(void 0===e.s){var n=tV(r,"\n attribute vec2 aVertex;\n attribute vec2 aTex;\n varying vec2 vTex;\n void main(void) {\n gl_Position = vec4(aVertex, 0.0, 1.0);\n vTex = aTex;\n }",0),a=tV(r,"\n precision mediump float;\n varying vec2 vTex;\n uniform sampler2D sampler0;\n void main(){\n gl_FragColor = texture2D(sampler0, vTex);\n }",1),o=r.createProgram();if(r.attachShader(o,n),r.attachShader(o,a),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+r.getProgramInfoLog(o));n=e.s=o,r.useProgram(n),a=r.getUniformLocation(n,"sampler0"),e.l={O:r.getAttribLocation(n,"aVertex"),N:r.getAttribLocation(n,"aTex"),ya:a},e.v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.v),r.enableVertexAttribArray(e.l.O),r.vertexAttribPointer(e.l.O,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),e.u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,e.u),r.enableVertexAttribArray(e.l.N),r.vertexAttribPointer(e.l.N,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(a,0)}n=e.l,r.useProgram(e.s),r.canvas.width=t.width,r.canvas.height=t.height,r.viewport(0,0,t.width,t.height),r.activeTexture(r.TEXTURE0),e.i.bindTexture2d(t.glName),r.enableVertexAttribArray(n.O),r.bindBuffer(r.ARRAY_BUFFER,e.v),r.vertexAttribPointer(n.O,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,e.u),r.vertexAttribPointer(n.N,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.O),r.disableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"==typeof e.h.canvas.transferToImageBitmap)?Promise.resolve(e.h.canvas.transferToImageBitmap()):r?Promise.resolve(e.h.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise(function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)}))}function tG(e){this.h=e}tM.prototype.l=tS(tO);var tW=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function tq(e,t){return t+e}function tH(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||tq,"object"===("undefined"==typeof window?"undefined":(0,a._)(window)))var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!=typeof location)t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=t,e.options){t=s(Object.keys(e.options));for(var r=t.next();!r.done;r=t.next()){r=r.value;var n=e.options[r].default;void 0!==n&&(this.l[r]="function"==typeof n?n():n)}}}function tZ(e,t){var r;return j(function(n){return t in e.L?n.return(e.L[t]):(r=fetch(e.locateFile(t,"")).then(function(e){return e.arrayBuffer()}),e.L[t]=r,n.return(r))})}function tK(e){return(void 0===e&&(e=0),1===e)?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function tX(e){var t=this;e=e||{},this.h=new tH({locateFile:e.locateFile,files:function(e){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:tK(e.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"===("undefined"==typeof window?"undefined":(0,a._)(window))&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(e){var r,n,a;return j(function(o){return 1==o.h?(n="third_party/mediapipe/modules/selfie_segmentation/"+(r=tK(e)),_(o,tZ(t.h,r),2)):(a=o.i,t.h.overrideFile(n,a),o.return(!0))})}}}})}(u=tH.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},u.reset=function(){var e=this;return j(function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0})},u.setOptions=function(e,t){var r=this;if(t=t||this.h.options){for(var n=[],a=[],o={},i=s(Object.keys(e)),c=i.next();!c.done;o={X:o.X,Y:o.Y},c=i.next())if(!((c=c.value)in this.l&&this.l[c]===e[c])){this.l[c]=e[c];var u=t[c];void 0!==u&&(u.onChange&&(o.X=u.onChange,o.Y=e[c],n.push(function(e){return function(){return j(function(t){if(1==t.h)return _(t,e.X(e.Y),2);!0===t.i&&(r.u=!0),t.h=0})}}(o))),u.graphOptionXref&&(c=Object.assign({},{calculatorName:"",calculatorIndex:0},u.graphOptionXref,{valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""}),a.push(c)))}(0!==n.length||0!==a.length)&&(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(a),this.F=(void 0===this.F?[]:this.F).concat(n))}},u.initialize=function(){var e=this;return j(function(t){var r,n,o,c,u,l,p,f,d,h,m,g,v,x,y,b,k,w,S,I,T,N,C,E;return 1==t.h?_(t,j(function(t){switch(t.h){case 1:if(!e.ga)return t.return();return r=void 0===e.h.files?[]:"function"==typeof e.h.files?e.h.files(e.l):e.h.files,_(t,j(function(e){switch(e.h){case 1:return e.s=2,_(e,WebAssembly.instantiate(tW),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}}),2);case 2:if(n=t.i,"object"===("undefined"==typeof window?"undefined":(0,a._)(window))){var s,g;return s={locateFile:e.locateFile},window.createMediapipeSolutionsWasm=s,g={locateFile:e.locateFile},window.createMediapipeSolutionsPackedAssets=g,l=r.filter(function(e){return void 0!==e.data}),p=r.filter(function(e){return void 0===e.data}),f=Promise.all(l.map(function(t){var r=tZ(e,t.url);if(void 0!==t.path){var n=t.path;r=r.then(function(t){return e.overrideFile(n,t),Promise.resolve(t)})}return r})),d=Promise.all(p.map(function(t){var r,a;return void 0===t.simd||t.simd&&n||!t.simd&&!n?(r=e.locateFile(t.url,e.ha),(a=document.createElement("script")).setAttribute("src",r),a.setAttribute("crossorigin","anonymous"),new Promise(function(e){a.addEventListener("load",function(){e()},!1),a.addEventListener("error",function(){e()},!1),document.body.appendChild(a)})):Promise.resolve()})).then(function(){var t,r,n;return j(function(a){if(1==a.h)return t=window.createMediapipeSolutionsWasm,r=window.createMediapipeSolutionsPackedAssets,n=e,_(a,t(r),2);n.i=a.i,a.h=0})}),h=j(function(t){return e.h.graph&&e.h.graph.url?t=_(t,tZ(e,e.h.graph.url),0):(t.h=0,t=void 0),t}),_(t,Promise.all([d,f,h]),7)}if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=r.filter(function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n}).map(function(t){return e.locateFile(t.url,e.ha)}),importScripts.apply(null,i(o)),c=e,_(t,createMediapipeSolutionsWasm(Module),6);case 6:c.i=t.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,u=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,va:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(u),t.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(m=e.m.getContext("webgl2",{}))&&!(m=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),t.return();e.K=m,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,t.h=0}}),2):3!=t.h?_(t,j(function(t){if(1==t.h){if(e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url)return t.return();if(e.u=!0,!e.h.graph||!e.h.graph.url){t.h=2;return}return e.fa=e.h.graph.url,_(t,tZ(e,e.h.graph.url),3)}for(2!=t.h&&(g=t.i,e.j.loadGraph(g)),x=(v=s(Object.keys(e.D))).next();!x.done;x=v.next())y=x.value,e.j.overrideFile(y,e.D[y]);if(e.D={},e.h.listeners)for(k=(b=s(e.h.listeners)).next();!k.done;k=b.next())!function(e,t){for(var r=t.name||"$",n=[].concat(i(t.wants)),o=new e.i.StringList,c=s(t.wants),u=c.next();!u.done;u=c.next())o.push_back(u.value);c=e.i.PacketListener.implement({onResults:function(o){for(var i,c,u,l,p,f,d,h,m,g,v,x,y,b,k={},w=0;w<t.wants.length;++w)k[n[w]]=o.get(w);var S=e.listeners[r];S&&(e.I=(i=t.outs,j(function(t){switch(t.h){case 1:if(!i)return t.return(k);for(c={},u=0,p=(l=s(Object.keys(i))).next();!p.done;p=l.next())"string"!=typeof(f=i[p.value])&&"texture"===f.type&&void 0!==k[f.stream]&&++u;1<u&&(e.M=!1),p=(d=s(Object.keys(i))).next();case 2:if(p.done){t.h=4;break}if("string"==typeof(m=i[h=p.value]))return y=c,b=h,_(t,function(e,t,r){var n;return j(function(a){return"number"==typeof r||r instanceof Uint8Array||r instanceof e.i.Uint8BlobList?a.return(r):r instanceof e.i.Texture2dDataOut?((n=e.v[t])||(n=new tB(e.i,e.K),e.v[t]=n),a.return(tz(n,r,e.M))):a.return(void 0)})}(e,h,k[m]),14);if(g=k[m.stream],"detection_list"===m.type){if(g){for(var r=g.getRectList(),n=g.getLandmarksList(),a=g.getClassificationsList(),o=[],w=0;w<r.size();++w){var S=tL(r.get(w)),I=eY(S,1),T=eY(S,2),N=eY(S,3),C=eY(S,4),E=eY(S,5,0),F=void 0;F=void 0===F?0:F,S={la:{sa:I,ta:T,height:N,width:C,rotation:E,pa:eX(eU(S,6),F)},ea:eH(tD(n.get(w)),tF,1).map(tU),ba:eH(tE(a.get(w)),tI,1).map(function(e){var t=eU(e,1);return{index:null==t?0:t,qa:eY(e,2),label:null!=eU(e,3)?eX(eU(e,3),""):void 0,displayName:null!=eU(e,4)?eX(eU(e,4),""):void 0}})},o.push(S)}r=o}else r=[];c[h]=r,t.h=7;break}if("proto_list"===m.type){if(g){for(n=0,r=Array(g.size());n<g.size();n++)r[n]=g.get(n);g.delete()}else r=[];c[h]=r,t.h=7;break}if(void 0===g){t.h=3;break}if("float_list"===m.type||"proto"===m.type){c[h]=g,t.h=7;break}if("texture"!==m.type)throw Error("Unknown output config type: '"+m.type+"'");return(v=e.v[h])||(v=new tB(e.i,e.K),e.v[h]=v),_(t,tz(v,g,e.M),13);case 13:x=t.i,c[h]=x;case 7:m.transform&&c[h]&&(c[h]=m.transform(c[h])),t.h=3;break;case 14:y[b]=t.i;case 3:p=d.next(),t.h=2;break;case 4:return t.return(c)}})).then(function(r){r=S(r);for(var o=0;o<t.wants.length;++o){var s=k[n[o]];"object"===(void 0===s?"undefined":(0,a._)(s))&&s.hasOwnProperty&&s.hasOwnProperty("delete")&&s.delete()}r&&(e.I=r)}))}}),e.j.attachMultiListener(o,c),o.delete()}(e,k.value);w=e.l,e.l={},e.setOptions(w),t.h=0}),3):_(t,j(function(t){switch(t.h){case 1:if(!e.u)return t.return();if(!e.F){t.h=2;break}I=(S=s(e.F)).next();case 3:if(I.done){t.h=5;break}return _(t,(0,I.value)(),4);case 4:I=S.next(),t.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(T=new e.i.GraphOptionChangeRequestList,C=(N=s(e.H)).next();!C.done;C=N.next())E=C.value,T.push_back(E);e.j.changeOptions(T),T.delete(),e.H=void 0}e.u=!1,t.h=0}}),0)})},u.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},u.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},u.send=function(e,t){var r,n,a,o,i,c,u,l,p,f=this;return j(function(d){switch(d.h){case 1:if(!f.h.inputs)return d.return();return r=1e3*(null==t?performance.now():t),_(d,f.I,2);case 2:return _(d,f.initialize(),3);case 3:for(n=new f.i.PacketDataList,o=(a=s(Object.keys(e))).next();!o.done;o=a.next())if(i=o.value,c=f.h.inputs[i]){e:{var h=e[i];switch(c.type){case"video":var m=f.s[c.stream];if(m||(m=new tB(f.i,f.K),f.s[c.stream]=m),0===m.m&&(m.m=m.i.createTexture()),"undefined"!=typeof HTMLVideoElement&&h instanceof HTMLVideoElement)var g=h.videoWidth,v=h.videoHeight;else"undefined"!=typeof HTMLImageElement&&h instanceof HTMLImageElement?(g=h.naturalWidth,v=h.naturalHeight):(g=h.width,v=h.height);v={glName:m.m,width:g,height:v},(g=m.h).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),m.i.bindTexture2d(m.m),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,h),m.i.bindTexture2d(0),m=v;break e;case"detections":for((m=f.s[c.stream])||(m=new tG(f.i),f.s[c.stream]=m),m.data||(m.data=new m.h.DetectionListData),m.data.reset(h.length),v=0;v<h.length;++v){g=h[v];var x=m.data,y=x.setBoundingBox,b=v,k=g.la,j=new tM;if(eZ(j,1,k.sa),eZ(j,2,k.ta),eZ(j,3,k.height),eZ(j,4,k.width),eZ(j,5,k.rotation),eB(j,6,k.pa),k=j.l(),y.call(x,b,k),g.ea)for(x=0;x<g.ea.length;++x){j=g.ea[x],b=(y=m.data).addNormalizedLandmark,k=v,j=Object.assign({},j,{visibility:j.visibility?j.visibility:0});var w=new tF;eZ(w,1,j.x),eZ(w,2,j.y),eZ(w,3,j.z),j.visibility&&eZ(w,4,j.visibility),j=w.l(),b.call(y,k,j)}if(g.ba)for(x=0;x<g.ba.length;++x)b=(y=m.data).addClassification,k=v,j=g.ba[x],eZ(w=new tI,2,j.qa),j.index&&eB(w,1,j.index),j.label&&eB(w,3,j.label),j.displayName&&eB(w,4,j.displayName),j=w.l(),b.call(y,k,j)}m=m.data;break e;default:m={}}}switch(u=m,l=c.stream,c.type){case"video":n.pushTexture2d(Object.assign({},u,{stream:l,timestamp:r}));break;case"detections":(p=u).stream=l,p.timestamp=r,n.pushDetectionList(p);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return f.j.send(n),_(d,f.I,4);case 4:n.delete(),d.h=0}})},u.onResults=function(e,t){this.listeners[t||"$"]=e},I("Solution",tH),I("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(u=tX.prototype).close=function(){return this.h.close(),Promise.resolve()},u.onResults=function(e){this.h.onResults(e)},u.initialize=function(){var e=this;return j(function(t){return _(t,e.h.initialize(),0)})},u.reset=function(){this.h.reset()},u.send=function(e){var t=this;return j(function(r){return _(r,t.h.send(e),0)})},u.setOptions=function(e){this.h.setOptions(e)},I("SelfieSegmentation",tX),I("VERSION","0.1.1675465747")}).call(void 0)},{"@swc/helpers/cjs/_type_of.cjs":"9vrOw"}]},["bzF6W"],"bzF6W","parcelRequire0d3c",{});